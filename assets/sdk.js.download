var PayplanSDK=function(e){"use strict";function n(e,n){return n.forEach((function(n){Object.keys(n).forEach((function(t){if("default"!==t&&!(t in e)){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}}))})),Object.freeze(e)}function t(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}c((r=r.apply(e,n||[])).next())}))}var r,i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function u(e){return"string"==typeof e&&a.test(e)}for(var c=[],s=0;s<256;++s)c.push((s+256).toString(16).substr(1));function d(e,n,t){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(var i=0;i<16;++i)n[t+i]=r[i];return n}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(c[e[n+0]]+c[e[n+1]]+c[e[n+2]]+c[e[n+3]]+"-"+c[e[n+4]]+c[e[n+5]]+"-"+c[e[n+6]]+c[e[n+7]]+"-"+c[e[n+8]]+c[e[n+9]]+"-"+c[e[n+10]]+c[e[n+11]]+c[e[n+12]]+c[e[n+13]]+c[e[n+14]]+c[e[n+15]]).toLowerCase();if(!u(t))throw TypeError("Stringified UUID is invalid");return t}(r)}function l(e){return{currency:"USD",value:m(e)}}function f(e){return{currency:"CAD",value:m(e)}}function p(e,n){return{currency:n,value:m(e)}}function h(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency}).format(e.value/100)}const m=e=>{if(void 0!==e&&isNaN(e))return m(0);if(!g(e))throw new Error("value must be an integer");return e},g=e=>Number.isInteger(e)||e===1/0,v=e=>{const n="object"==typeof(t=e)&&"string"==typeof t.currency&&Number.isInteger(t.value)?e.value:e;var t;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n/100)},y=e=>new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}).format(e/1e4),w=({principal:e,rateBPS:n,periods:t,frequency:r})=>{if(0===n){return m(Math.round(I(e/t,3)))}const i=n/1e4/(12/r.length),o=e*i/(1-Math.pow(1+i,-t));return m(Math.ceil(o))},I=(e,n)=>{const t=n||0,r=Math.pow(10,t),i=+(t?e*r:e).toFixed(8),o=Math.floor(i),a=i-o,u=a>.5-1e-8&&a<.5+1e-8?o%2==0?o:o+1:Math.round(i);return t?u/r:u};var E,b=function(e){return"Left"===e._tag},x=function(e){return{_tag:"Right",right:e}},D=(E=function(e,n){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},E(e,n)},function(e,n){function t(){this.constructor=e}E(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),R=function(){return R=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},R.apply(this,arguments)},A=function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),i=0;for(n=0;n<t;n++)for(var o=arguments[n],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r},O=function(e){return{_tag:"Left",left:e}},P=function(e,n,t){return O([{value:e,context:n,message:t}])},C=x,_=function(){function e(e,n,t,r){this.name=e,this.is=n,this.validate=t,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(n,t){var r=this;return void 0===t&&(t="pipe("+this.name+", "+n.name+")"),new e(t,n.is,(function(e,t){var i=r.validate(e,t);return b(i)?i:n.validate(i.right,t)}),this.encode===S&&n.encode===S?S:function(e){return r.encode(n.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),S=function(e){return e};function M(e){return e.displayName||e.name||"<function"+e.length+">"}function W(e,n,t,r){for(var i=e.length,o=Array(i+1),a=0;a<i;a++)o[a]=e[a];return o[i]={key:n,type:t,actual:r},o}function T(e,n){for(var t=n.length,r=0;r<t;r++)e.push(n[r])}var N=Object.prototype.hasOwnProperty;function L(e){return Object.keys(e).map((function(n){return n+": "+e[n].name})).join(", ")}function U(e){for(var n=0;n<e.length;n++)if(e[n].encode!==S)return!1;return!0}function F(e){return"{ "+L(e)+" }"}function k(e){return"Partial<"+e+">"}function j(e){var n;if(K(e)){var t=e.value;if(se.is(t))return(n={})[t]=null,n}else{if("KeyofType"===e._tag)return e.keys;if(Z(e)){var r=e.types.map((function(e){return j(e)}));return r.some(re.is)?void 0:Object.assign.apply(Object,A([{}],r))}}}function B(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"}function q(e,n){for(var t=!0,r=!0,i=!we.is(e),o=0,a=n;o<a.length;o++){(d=a[o])!==e&&(t=!1),we.is(d)&&(r=!1)}if(t)return e;if(r)return n[n.length-1];for(var u={},c=0,s=n;c<s.length;c++){var d=s[c];for(var l in d)u.hasOwnProperty(l)&&!i&&d[l]===e[l]||(u[l]=d[l])}return u}function z(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return z(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,n){return Object.assign(e,z(n))}),{})}}function $(e,n){for(var t=Object.getOwnPropertyNames(e),r=!1,i={},o=0;o<t.length;o++){var a=t[o];N.call(n,a)?i[a]=e[a]:r=!0}return r?i:e}var V={};function Y(e,n){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r];-1!==n.indexOf(o)&&t.push(o)}return t}function H(e){return"AnyType"===e._tag}function K(e){return"LiteralType"===e._tag}function G(e){return"InterfaceType"===e._tag}function Z(e){return"UnionType"===e._tag}var J=[];function X(e){if(-1!==J.indexOf(e))return V;if(G(e)||function(e){return"StrictType"===e._tag}(e)){var n=V;for(var t in e.props){var r=e.props[t];K(r)&&(n===V&&(n={}),n[t]=[r.value])}return n}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return X(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,n){return function(e,n){if(e===V)return n;if(n===V)return e;var t=Object.assign({},e);for(var r in n)if(e.hasOwnProperty(r)){var i=Y(e[r],n[r]);if(!(i.length>0)){t=V;break}t[r]=i}else t[r]=n[r];return t}(e,X(n))}),V);if(Z(e))return e.types.slice(1).reduce((function(e,n){return function(e,n){if(e===V||n===V)return V;var t=V;for(var r in e)n.hasOwnProperty(r)&&0===Y(e[r],n[r]).length&&(t===V&&(t={}),t[r]=e[r].concat(n[r]));return t}(e,X(n))}),X(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){J.push(e);var i=X(e.type);return J.pop(),i}return V}function Q(e){for(var n=X(e[0]),t=Object.keys(n),r=e.length,i=function(t){for(var i=n[t].slice(),o=[n[t]],a=1;a<r;a++){var u=X(e[a])[t];if(void 0===u)return"continue-keys";if(u.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,u),o.push(u)}return{value:[t,o]}},o=0,a=t;o<a.length;o++){var u=i(a[o]);if("object"==typeof u)return u.value}}var ee=function(e){function n(){var n=e.call(this,"null",(function(e){return null===e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="NullType",n}return D(n,e),n}(_),ne=new ee,te=function(e){function n(){var n=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="UndefinedType",n}return D(n,e),n}(_),re=new te,ie=function(e){function n(){var n=e.call(this,"void",re.is,re.validate,S)||this;return n._tag="VoidType",n}return D(n,e),n}(_),oe=new ie,ae=function(e){function n(){var n=e.call(this,"unknown",(function(e){return!0}),C,S)||this;return n._tag="UnknownType",n}return D(n,e),n}(_),ue=new ae,ce=function(e){function n(){var n=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="StringType",n}return D(n,e),n}(_),se=new ce,de=function(e){function n(){var n=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="NumberType",n}return D(n,e),n}(_),le=new de,fe=function(e){function n(){var n=e.call(this,"bigint",(function(e){return"bigint"==typeof e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="BigIntType",n}return D(n,e),n}(_),pe=new fe,he=function(e){function n(){var n=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="BooleanType",n}return D(n,e),n}(_),me=new he,ge=function(e){function n(){var n=e.call(this,"UnknownArray",Array.isArray,(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="AnyArrayType",n}return D(n,e),n}(_),ve=new ge,ye=function(e){function n(){var n=e.call(this,"UnknownRecord",(function(e){var n=Object.prototype.toString.call(e);return"[object Object]"===n||"[object Window]"===n}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="AnyDictionaryType",n}return D(n,e),n}(_),we=new ye,Ie=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.value=o,a._tag="LiteralType",a}return D(n,e),n}(_);function Ee(e,n){void 0===n&&(n=JSON.stringify(e));var t=function(n){return n===e};return new Ie(n,t,(function(n,r){return t(n)?C(e):P(n,r)}),S,e)}var be=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.keys=o,a._tag="KeyofType",a}return D(n,e),n}(_);function xe(e,n){void 0===n&&(n=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var t=function(n){return se.is(n)&&N.call(e,n)};return new be(n,t,(function(e,n){return t(e)?C(e):P(e,n)}),S,e)}var De=function(e){function n(n,t,r,i,o,a){var u=e.call(this,n,t,r,i)||this;return u.type=o,u.predicate=a,u._tag="RefinementType",u}return D(n,e),n}(_);function Re(e,n,t){return nn(e,n,t)}var Ae=Re(le,(function(e){return Number.isInteger(e)}),"Int"),Oe=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.runDefinition=o,a._tag="RecursiveType",a}return D(n,e),n}(_);Object.defineProperty(Oe.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var Pe=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.type=o,a._tag="ArrayType",a}return D(n,e),n}(_);function Ce(e,n){return void 0===n&&(n="Array<"+e.name+">"),new Pe(n,(function(n){return ve.is(n)&&n.every(e.is)}),(function(n,t){var r=ve.validate(n,t);if(b(r))return r;for(var i=r.right,o=i.length,a=i,u=[],c=0;c<o;c++){var s=i[c],d=e.validate(s,W(t,String(c),e,s));if(b(d))T(u,d.left);else{var l=d.right;l!==s&&(a===i&&(a=i.slice()),a[c]=l)}}return u.length>0?O(u):C(a)}),e.encode===S?S:function(n){return n.map(e.encode)},e)}var _e=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.props=o,a._tag="InterfaceType",a}return D(n,e),n}(_);function Se(e,n){void 0===n&&(n=F(e));var t=Object.keys(e),r=t.map((function(n){return e[n]})),i=t.length;return new _e(n,(function(e){if(we.is(e)){for(var n=0;n<i;n++){var o=t[n],a=e[o];if(void 0===a&&!N.call(e,o)||!r[n].is(a))return!1}return!0}return!1}),(function(e,n){var o=we.validate(e,n);if(b(o))return o;for(var a=o.right,u=a,c=[],s=0;s<i;s++){var d=t[s],l=u[d],f=r[s],p=f.validate(l,W(n,d,f,l));if(b(p))T(c,p.left);else{var h=p.right;(h!==l||void 0===h&&!N.call(u,d))&&(u===a&&(u=R({},a)),u[d]=h)}}return c.length>0?O(c):C(u)}),U(r)?S:function(e){for(var n=R({},e),o=0;o<i;o++){var a=t[o],u=r[o].encode;u!==S&&(n[a]=u(e[a]))}return n},e)}var Me=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.props=o,a._tag="PartialType",a}return D(n,e),n}(_);function We(e,n){void 0===n&&(n=k(F(e)));var t=Object.keys(e),r=t.map((function(n){return e[n]})),i=t.length;return new Me(n,(function(n){if(we.is(n)){for(var r=0;r<i;r++){var o=t[r],a=n[o];if(void 0!==a&&!e[o].is(a))return!1}return!0}return!1}),(function(n,r){var o=we.validate(n,r);if(b(o))return o;for(var a=o.right,u=a,c=[],s=0;s<i;s++){var d=t[s],l=u[d],f=e[d],p=f.validate(l,W(r,d,f,l));if(b(p))void 0!==l&&T(c,p.left);else{var h=p.right;h!==l&&(u===a&&(u=R({},a)),u[d]=h)}}return c.length>0?O(c):C(u)}),U(r)?S:function(e){for(var n=R({},e),o=0;o<i;o++){var a=t[o],u=e[a];void 0!==u&&(n[a]=r[o].encode(u))}return n},e)}var Te=function(e){function n(n,t,r,i,o,a){var u=e.call(this,n,t,r,i)||this;return u.domain=o,u.codomain=a,u._tag="DictionaryType",u}return D(n,e),n}(_);function Ne(e,n,t){var r=j(e);return r?function(e,n,t,r){void 0===r&&(r="{ [K in "+n.name+"]: "+t.name+" }");var i=e.length;return new Te(r,(function(n){return we.is(n)&&e.every((function(e){return t.is(n[e])}))}),(function(n,r){var o=we.validate(n,r);if(b(o))return o;for(var a=o.right,u={},c=[],s=!1,d=0;d<i;d++){var l=e[d],f=a[l],p=t.validate(f,W(r,l,t,f));if(b(p))T(c,p.left);else{var h=p.right;s=s||h!==f,u[l]=h}}return c.length>0?O(c):C(s||Object.keys(a).length!==i?u:a)}),t.encode===S?S:function(n){for(var r={},o=0;o<i;o++){var a=e[o];r[a]=t.encode(n[a])}return r},n,t)}(Object.keys(r),e,n,t):function(e,n,t){return void 0===t&&(t="{ [K in "+e.name+"]: "+n.name+" }"),new Te(t,(function(t){return we.is(t)?Object.keys(t).every((function(r){return e.is(r)&&n.is(t[r])})):H(n)&&Array.isArray(t)}),(function(t,r){if(we.is(t)){for(var i={},o=[],a=Object.keys(t),u=a.length,c=!1,s=0;s<u;s++){var d=a[s],l=t[d],f=e.validate(d,W(r,d,e,d));if(b(f))T(o,f.left);else{var p=f.right;c=c||p!==d,d=p;var h=n.validate(l,W(r,d,n,l));if(b(h))T(o,h.left);else{var m=h.right;c=c||m!==l,i[d]=m}}}return o.length>0?O(o):C(c?i:t)}return H(n)&&Array.isArray(t)?C(t):P(t,r)}),e.encode===S&&n.encode===S?S:function(t){for(var r={},i=Object.keys(t),o=i.length,a=0;a<o;a++){var u=i[a];r[String(e.encode(u))]=n.encode(t[u])}return r},e,n)}(e,n,t)}var Le=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.types=o,a._tag="UnionType",a}return D(n,e),n}(_);function Ue(e,n){void 0===n&&(n=B(e));var t=Q(e);if(void 0!==t&&e.length>0){var r=t[0],i=t[1],o=i.length,a=function(e){for(var n=0;n<o;n++)if(-1!==i[n].indexOf(e))return n};return new He(n,(function(n){if(we.is(n)){var t=a(n[r]);return void 0!==t&&e[t].is(n)}return!1}),(function(n,t){var i=we.validate(n,t);if(b(i))return i;var o=i.right,u=a(o[r]);if(void 0===u)return P(n,t);var c=e[u];return c.validate(o,W(t,String(u),c,o))}),U(e)?S:function(t){var i=a(t[r]);if(void 0===i)throw new Error("no codec found to encode value in union codec "+n);return e[i].encode(t)},e,r)}return new Le(n,(function(n){return e.some((function(e){return e.is(n)}))}),(function(n,t){for(var r=[],i=0;i<e.length;i++){var o=e[i],a=o.validate(n,W(t,String(i),o,n));if(!b(a))return C(a.right);T(r,a.left)}return O(r)}),U(e)?S:function(t){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.is(t))return o.encode(t)}throw new Error("no codec found to encode value in union type "+n)},e)}var Fe=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.types=o,a._tag="IntersectionType",a}return D(n,e),n}(_);function ke(e,n){void 0===n&&(n="("+e.map((function(e){return e.name})).join(" & ")+")");var t=e.length;return new Fe(n,(function(n){return e.every((function(e){return e.is(n)}))}),0===e.length?C:function(n,r){for(var i=[],o=[],a=0;a<t;a++){var u=e[a],c=u.validate(n,W(r,String(a),u,n));b(c)?T(o,c.left):i.push(c.right)}return o.length>0?O(o):C(q(n,i))},0===e.length?S:function(n){return q(n,e.map((function(e){return e.encode(n)})))},e)}var je=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.types=o,a._tag="TupleType",a}return D(n,e),n}(_);var Be=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.type=o,a._tag="ReadonlyType",a}return D(n,e),n}(_);var qe=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.type=o,a._tag="ReadonlyArrayType",a}return D(n,e),n}(_);var ze=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.type=o,a._tag="ExactType",a}return D(n,e),n}(_);function $e(e,n){void 0===n&&(n=function(e){return G(e)?"{| "+L(e.props)+" |}":function(e){return"PartialType"===e._tag}(e)?k("{| "+L(e.props)+" |}"):"Exact<"+e.name+">"}(e));var t=z(e);return new ze(n,e.is,(function(n,r){var i=we.validate(n,r);if(b(i))return i;var o=e.validate(n,r);return b(o)?o:x($(o.right,t))}),(function(n){return e.encode($(n,t))}),e)}var Ve=function(e){function n(){var n=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="FunctionType",n}return D(n,e),n}(_),Ye=new Ve,He=function(e){function n(n,t,r,i,o,a){var u=e.call(this,n,t,r,i,o)||this;return u.tag=a,u}return D(n,e),n}(Le),Ke=function(e){function n(){var n=e.call(this,"never",(function(e){return!1}),(function(e,n){return P(e,n)}),(function(){throw new Error("cannot encode never")}))||this;return n._tag="NeverType",n}return D(n,e),n}(_),Ge=new Ke,Ze=function(e){function n(){var n=e.call(this,"any",(function(e){return!0}),C,S)||this;return n._tag="AnyType",n}return D(n,e),n}(_),Je=new Ze,Xe=we,Qe=function(e){function n(){var n=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,t){return n.is(e)?C(e):P(e,t)}),S)||this;return n._tag="ObjectType",n}return D(n,e),n}(_),en=new Qe;function nn(e,n,t){return void 0===t&&(t="("+e.name+" | "+M(n)+")"),new De(t,(function(t){return e.is(t)&&n(t)}),(function(t,r){var i=e.validate(t,r);if(b(i))return i;var o=i.right;return n(o)?C(o):P(o,r)}),e.encode,e,n)}var tn=nn(le,Number.isInteger,"Integer"),rn=Ne,on=function(e){function n(n,t,r,i,o){var a=e.call(this,n,t,r,i)||this;return a.props=o,a._tag="StrictType",a}return D(n,e),n}(_);var an=Object.freeze({__proto__:null,failures:O,failure:P,success:C,Type:_,identity:S,getFunctionName:M,getContextEntry:function(e,n){return{key:e,type:n}},appendContext:W,getDomainKeys:j,mergeAll:q,emptyTags:V,getTags:X,getIndex:Q,NullType:ee,nullType:ne,UndefinedType:te,VoidType:ie,voidType:oe,UnknownType:ae,unknown:ue,StringType:ce,string:se,NumberType:de,number:le,BigIntType:fe,bigint:pe,BooleanType:he,boolean:me,AnyArrayType:ge,UnknownArray:ve,AnyDictionaryType:ye,UnknownRecord:we,null:ne,undefined:re,void:oe,LiteralType:Ie,literal:Ee,KeyofType:be,keyof:xe,RefinementType:De,brand:Re,Int:Ae,RecursiveType:Oe,recursion:function(e,n){var t,r=function(){return t||((t=n(i)).name=e),t},i=new Oe(e,(function(e){return r().is(e)}),(function(e,n){return r().validate(e,n)}),(function(e){return r().encode(e)}),r);return i},ArrayType:Pe,array:Ce,InterfaceType:_e,type:Se,PartialType:Me,partial:We,DictionaryType:Te,record:Ne,UnionType:Le,union:Ue,IntersectionType:Fe,intersection:ke,TupleType:je,tuple:function(e,n){void 0===n&&(n="["+e.map((function(e){return e.name})).join(", ")+"]");var t=e.length;return new je(n,(function(n){return ve.is(n)&&n.length===t&&e.every((function(e,t){return e.is(n[t])}))}),(function(n,r){var i=ve.validate(n,r);if(b(i))return i;for(var o=i.right,a=o.length>t?o.slice(0,t):o,u=[],c=0;c<t;c++){var s=o[c],d=e[c],l=d.validate(s,W(r,String(c),d,s));if(b(l))T(u,l.left);else{var f=l.right;f!==s&&(a===o&&(a=o.slice()),a[c]=f)}}return u.length>0?O(u):C(a)}),U(e)?S:function(n){return e.map((function(e,t){return e.encode(n[t])}))},e)},ReadonlyType:Be,readonly:function(e,n){return void 0===n&&(n="Readonly<"+e.name+">"),new Be(n,e.is,e.validate,e.encode,e)},ReadonlyArrayType:qe,readonlyArray:function(e,n){void 0===n&&(n="ReadonlyArray<"+e.name+">");var t=Ce(e);return new qe(n,t.is,t.validate,t.encode,e)},strict:function(e,n){return $e(Se(e),n)},ExactType:ze,exact:$e,FunctionType:Ve,Function:Ye,TaggedUnionType:He,taggedUnion:function(e,n,t){void 0===t&&(t=B(n));var r=Ue(n,t);return r instanceof He?r:(console.warn("[io-ts] Cannot build a tagged union for "+t+", returning a de-optimized union"),new He(t,r.is,r.validate,r.encode,n,e))},Array:ve,interface:Se,getValidationError:function(e,n){return{value:e,context:n}},getDefaultContext:function(e){return[{key:"",type:e}]},NeverType:Ke,never:Ge,AnyType:Ze,any:Je,Dictionary:Xe,ObjectType:Qe,object:en,refinement:nn,Integer:tn,dictionary:rn,StrictType:on,clean:function(e){return e},alias:function(e){return function(){return e}}});Se({code:le,domain:se,message:se,metadata:Ne(se,se),reason:se}),Se({code:le,error:se,message:se,details:Ce(Se({reason:se,domain:se,metadata:Ne(se,se)}))});var un="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sn(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}function dn(e){var n={exports:{}};return e(n,n.exports),n.exports}var ln=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tailRec=void 0,n.tailRec=function(e,n){for(var t=n(e);"Left"===t._tag;)t=n(t.left);return t.right}})),fn=dn((function(e,n){function t(e){return e}function r(e){return function(){return e}}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(n,"__esModule",{value:!0}),n.bindTo_=n.bind_=n.hole=n.pipe=n.untupled=n.tupled=n.absurd=n.decrement=n.increment=n.tuple=n.flow=n.flip=n.constVoid=n.constUndefined=n.constNull=n.constFalse=n.constTrue=n.constant=n.not=n.unsafeCoerce=n.identity=void 0,n.identity=t,n.unsafeCoerce=t,n.not=function(e){return function(n){return!e(n)}},n.constant=r,n.constTrue=r(!0),n.constFalse=r(!1),n.constNull=r(null),n.constUndefined=r(void 0),n.constVoid=n.constUndefined,n.flip=function(e){return function(n,t){return e(t,n)}},n.flow=function(e,n,t,r,i,o,a,u,c){switch(arguments.length){case 1:return e;case 2:return function(){return n(e.apply(this,arguments))};case 3:return function(){return t(n(e.apply(this,arguments)))};case 4:return function(){return r(t(n(e.apply(this,arguments))))};case 5:return function(){return i(r(t(n(e.apply(this,arguments)))))};case 6:return function(){return o(i(r(t(n(e.apply(this,arguments))))))};case 7:return function(){return a(o(i(r(t(n(e.apply(this,arguments)))))))};case 8:return function(){return u(a(o(i(r(t(n(e.apply(this,arguments))))))))};case 9:return function(){return c(u(a(o(i(r(t(n(e.apply(this,arguments)))))))))}}},n.tuple=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},n.increment=function(e){return e+1},n.decrement=function(e){return e-1},n.absurd=i,n.tupled=function(e){return function(n){return e.apply(void 0,n)}},n.untupled=function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e(n)}},n.pipe=function(e,n,t,r,i,o,a,u,c,s,d,l,f,p,h,m,g,v,y,w){switch(arguments.length){case 1:return e;case 2:return n(e);case 3:return t(n(e));case 4:return r(t(n(e)));case 5:return i(r(t(n(e))));case 6:return o(i(r(t(n(e)))));case 7:return a(o(i(r(t(n(e))))));case 8:return u(a(o(i(r(t(n(e)))))));case 9:return c(u(a(o(i(r(t(n(e))))))));case 10:return s(c(u(a(o(i(r(t(n(e)))))))));case 11:return d(s(c(u(a(o(i(r(t(n(e))))))))));case 12:return l(d(s(c(u(a(o(i(r(t(n(e)))))))))));case 13:return f(l(d(s(c(u(a(o(i(r(t(n(e))))))))))));case 14:return p(f(l(d(s(c(u(a(o(i(r(t(n(e)))))))))))));case 15:return h(p(f(l(d(s(c(u(a(o(i(r(t(n(e))))))))))))));case 16:return m(h(p(f(l(d(s(c(u(a(o(i(r(t(n(e)))))))))))))));case 17:return g(m(h(p(f(l(d(s(c(u(a(o(i(r(t(n(e))))))))))))))));case 18:return v(g(m(h(p(f(l(d(s(c(u(a(o(i(r(t(n(e)))))))))))))))));case 19:return y(v(g(m(h(p(f(l(d(s(c(u(a(o(i(r(t(n(e))))))))))))))))));case 20:return w(y(v(g(m(h(p(f(l(d(s(c(u(a(o(i(r(t(n(e)))))))))))))))))))}},n.hole=i;n.bind_=function(e,n,t){var r;return Object.assign({},e,((r={})[n]=t,r))};n.bindTo_=function(e){return function(n){var t;return(t={})[e]=n,t}}})),pn=ln,hn=fn,mn=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWitherable=n.getFilterable=n.getApplyMonoid=n.getApplySemigroup=n.getSemigroup=n.getEq=n.getShow=n.URI=n.throwError=n.sequence=n.traverse=n.reduceRight=n.foldMap=n.reduce=n.duplicate=n.extend=n.alt=n.altW=n.flatten=n.chainFirst=n.chainFirstW=n.chain=n.chainW=n.of=n.apSecond=n.apFirst=n.ap=n.apW=n.mapLeft=n.bimap=n.map=n.filterOrElse=n.filterOrElseW=n.orElse=n.swap=n.chainNullableK=n.fromNullableK=n.getOrElse=n.getOrElseW=n.fold=n.fromPredicate=n.fromOption=n.stringifyJSON=n.parseJSON=n.tryCatch=n.fromNullable=n.right=n.left=n.isRight=n.isLeft=void 0,n.sequenceArray=n.traverseArray=n.traverseArrayWithIndex=n.apS=n.apSW=n.bind=n.bindW=n.bindTo=n.Do=n.exists=n.elem=n.toError=n.either=n.getValidationMonoid=n.MonadThrow=n.ChainRec=n.Extend=n.Alt=n.Bifunctor=n.Traversable=n.Foldable=n.Monad=n.Applicative=n.Functor=n.getValidationSemigroup=n.getValidation=n.getAltValidation=n.getApplicativeValidation=void 0;n.isLeft=function(e){return"Left"===e._tag};n.isRight=function(e){return"Right"===e._tag};n.left=function(e){return{_tag:"Left",left:e}};function t(e){return function(t){return null==t?n.left(e):n.right(t)}}function r(e,t){try{return n.right(e())}catch(e){return n.left(t(e))}}n.right=function(e){return{_tag:"Right",right:e}},n.fromNullable=t,n.tryCatch=r,n.parseJSON=function(e,n){return r((function(){return JSON.parse(e)}),n)},n.stringifyJSON=function(e,n){return r((function(){return JSON.stringify(e)}),n)};n.fromOption=function(e){return function(t){return"None"===t._tag?n.left(e()):n.right(t.value)}};n.fromPredicate=function(e,t){return function(r){return e(r)?n.right(r):n.left(t(r))}},n.fold=function(e,t){return function(r){return n.isLeft(r)?e(r.left):t(r.right)}};function i(e){var n=t(e);return function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(e.apply(void 0,t))}}}n.getOrElseW=function(e){return function(t){return n.isLeft(t)?e(t.left):t.right}},n.getOrElse=n.getOrElseW,n.fromNullableK=i,n.chainNullableK=function(e){var t=i(e);return function(e){return n.chain(t(e))}},n.swap=function(e){return n.isLeft(e)?n.right(e.left):n.left(e.right)},n.orElse=function(e){return function(t){return n.isLeft(t)?e(t.left):t}};n.filterOrElseW=function(e,t){return n.chainW((function(r){return e(r)?n.right(r):n.left(t(r))}))},n.filterOrElse=n.filterOrElseW;var o=function(e,t){return hn.pipe(e,n.map(t))},a=function(e,t){return hn.pipe(e,n.ap(t))},u=function(e,t){return hn.pipe(e,n.chain(t))},c=function(e,t,r){return hn.pipe(e,n.reduce(t,r))},s=function(e){return function(t,r){var i=n.foldMap(e);return hn.pipe(t,i(r))}},d=function(e,t,r){return hn.pipe(e,n.reduceRight(t,r))},l=function(e){var t=n.traverse(e);return function(e,n){return hn.pipe(e,t(n))}},f=function(e,t,r){return hn.pipe(e,n.bimap(t,r))},p=function(e,t){return hn.pipe(e,n.mapLeft(t))},h=function(e,t){return hn.pipe(e,n.alt(t))},m=function(e,t){return hn.pipe(e,n.extend(t))},g=function(e,t){return pn.tailRec(t(e),(function(e){return n.isLeft(e)?n.right(n.left(e.left)):n.isLeft(e.right)?n.left(t(e.right.left)):n.right(n.right(e.right.right))}))};n.map=function(e){return function(t){return n.isLeft(t)?t:n.right(e(t.right))}};n.bimap=function(e,t){return function(r){return n.isLeft(r)?n.left(e(r.left)):n.right(t(r.right))}};n.mapLeft=function(e){return function(t){return n.isLeft(t)?n.left(e(t.left)):t}};n.apW=function(e){return function(t){return n.isLeft(t)?t:n.isLeft(e)?e:n.right(t.right(e.right))}},n.ap=n.apW;n.apFirst=function(e){return hn.flow(n.map((function(e){return function(){return e}})),n.ap(e))};n.apSecond=function(e){return hn.flow(n.map((function(){return function(e){return e}})),n.ap(e))},n.of=n.right;n.chainW=function(e){return function(t){return n.isLeft(t)?t:e(t.right)}},n.chain=n.chainW;n.chainFirstW=function(e){return function(t){return hn.pipe(t,n.chainW((function(t){return hn.pipe(e(t),n.map((function(){return t})))})))}},n.chainFirst=n.chainFirstW,n.flatten=n.chain(hn.identity);n.altW=function(e){return function(t){return n.isLeft(t)?e():t}},n.alt=n.altW;n.extend=function(e){return function(t){return n.isLeft(t)?t:n.right(e(t))}},n.duplicate=n.extend(hn.identity);n.reduce=function(e,t){return function(r){return n.isLeft(r)?e:t(e,r.right)}};n.foldMap=function(e){return function(t){return function(r){return n.isLeft(r)?e.empty:t(r.right)}}};n.reduceRight=function(e,t){return function(r){return n.isLeft(r)?e:t(r.right,e)}};n.traverse=function(e){return function(t){return function(r){return n.isLeft(r)?e.of(n.left(r.left)):e.map(t(r.right),n.right)}}};function v(e){return{concat:function(t,r){return n.isLeft(t)?t:n.isLeft(r)?r:n.right(e.concat(t.right,r.right))}}}function y(e){var t=n.left(e.empty);return{URI:n.URI,_E:void 0,map:o,compact:function(e){return n.isLeft(e)?e:"None"===e.right._tag?t:n.right(e.right.value)},separate:function(e){return n.isLeft(e)?{left:e,right:e}:n.isLeft(e.right)?{left:n.right(e.right.left),right:t}:{left:t,right:n.right(e.right.right)}},filter:function(e,r){return n.isLeft(e)||r(e.right)?e:t},filterMap:function(e,r){if(n.isLeft(e))return e;var i=r(e.right);return"None"===i._tag?t:n.right(i.value)},partition:function(e,r){return n.isLeft(e)?{left:e,right:e}:r(e.right)?{left:t,right:n.right(e.right)}:{left:n.right(e.right),right:t}},partitionMap:function(e,r){if(n.isLeft(e))return{left:e,right:e};var i=r(e.right);return n.isLeft(i)?{left:n.right(i.left),right:t}:{left:t,right:n.right(i.right)}}}}function w(e){return{URI:n.URI,_E:void 0,map:o,ap:function(t,r){return n.isLeft(t)?n.isLeft(r)?n.left(e.concat(t.left,r.left)):t:n.isLeft(r)?r:n.right(t.right(r.right))},of:n.of}}function I(e){return{URI:n.URI,_E:void 0,map:o,alt:function(t,r){if(n.isRight(t))return t;var i=r();return n.isLeft(i)?n.left(e.concat(t.left,i.left)):i}}}function E(e,t){return{concat:function(r,i){return n.isLeft(r)?n.isLeft(i)?n.left(e.concat(r.left,i.left)):r:n.isLeft(i)?i:n.right(t.concat(r.right,i.right))}}}n.sequence=function(e){return function(t){return n.isLeft(t)?e.of(n.left(t.left)):e.map(t.right,n.right)}},n.throwError=n.left,n.URI="Either",n.getShow=function(e,t){return{show:function(r){return n.isLeft(r)?"left("+e.show(r.left)+")":"right("+t.show(r.right)+")"}}},n.getEq=function(e,t){return{equals:function(r,i){return r===i||(n.isLeft(r)?n.isLeft(i)&&e.equals(r.left,i.left):n.isRight(i)&&t.equals(r.right,i.right))}}},n.getSemigroup=function(e){return{concat:function(t,r){return n.isLeft(r)?t:n.isLeft(t)?r:n.right(e.concat(t.right,r.right))}}},n.getApplySemigroup=v,n.getApplyMonoid=function(e){return{concat:v(e).concat,empty:n.right(e.empty)}},n.getFilterable=y,n.getWitherable=function(e){var t=y(e);return{URI:n.URI,_E:void 0,map:o,compact:t.compact,separate:t.separate,filter:t.filter,filterMap:t.filterMap,partition:t.partition,partitionMap:t.partitionMap,traverse:l,sequence:n.sequence,reduce:c,foldMap:s,reduceRight:d,wither:function(e){var n=l(e);return function(r,i){return e.map(n(r,i),t.compact)}},wilt:function(e){var n=l(e);return function(r,i){return e.map(n(r,i),t.separate)}}}},n.getApplicativeValidation=w,n.getAltValidation=I,n.getValidation=function(e){var t=w(e),r=I(e);return{URI:n.URI,_E:void 0,map:o,of:n.of,chain:u,bimap:f,mapLeft:p,reduce:c,foldMap:s,reduceRight:d,extend:m,traverse:l,sequence:n.sequence,chainRec:g,throwError:n.throwError,ap:t.ap,alt:r.alt}},n.getValidationSemigroup=E,n.Functor={URI:n.URI,map:o},n.Applicative={URI:n.URI,map:o,ap:a,of:n.of},n.Monad={URI:n.URI,map:o,ap:a,of:n.of,chain:u},n.Foldable={URI:n.URI,reduce:c,foldMap:s,reduceRight:d},n.Traversable={URI:n.URI,map:o,reduce:c,foldMap:s,reduceRight:d,traverse:l,sequence:n.sequence},n.Bifunctor={URI:n.URI,bimap:f,mapLeft:p},n.Alt={URI:n.URI,map:o,alt:h},n.Extend={URI:n.URI,map:o,extend:m},n.ChainRec={URI:n.URI,map:o,ap:a,chain:u,chainRec:g},n.MonadThrow={URI:n.URI,map:o,ap:a,of:n.of,chain:u,throwError:n.throwError},n.getValidationMonoid=function(e,t){return{concat:E(e,t).concat,empty:n.right(t.empty)}},n.either={URI:n.URI,map:o,of:n.of,ap:a,chain:u,reduce:c,foldMap:s,reduceRight:d,traverse:l,sequence:n.sequence,bimap:f,mapLeft:p,alt:h,extend:m,chainRec:g,throwError:n.throwError},n.toError=function(e){return e instanceof Error?e:new Error(String(e))},n.elem=function(e){return function(t,r){return!n.isLeft(r)&&e.equals(t,r.right)}},n.exists=function(e){return function(t){return!n.isLeft(t)&&e(t.right)}},n.Do=n.of({});n.bindTo=function(e){return n.map(hn.bindTo_(e))};n.bindW=function(e,t){return n.chainW((function(r){return hn.pipe(t(r),n.map((function(n){return hn.bind_(r,e,n)})))}))},n.bind=n.bindW;n.apSW=function(e,t){return hn.flow(n.map((function(n){return function(t){return hn.bind_(n,e,t)}})),n.apW(t))},n.apS=n.apSW;n.traverseArrayWithIndex=function(e){return function(t){for(var r=[],i=0;i<t.length;i++){var o=e(i,t[i]);if("Left"===o._tag)return o;r.push(o.right)}return n.right(r)}};n.traverseArray=function(e){return n.traverseArrayWithIndex((function(n,t){return e(t)}))},n.sequenceArray=n.traverseArray(hn.identity)}));const gn=Se({en:se,fr:se});function vn(e){return!!e&&Object.keys(gn.props).includes(e)}function yn(e){if(!e)return!1;const n=gn.decode(e);return mn.isRight(n)}const wn=ke([Se({backgroundColor:se,borderColor:se,borderWidth:le,includeLogo:me,logoColor:Ue([se,re]),textColor:se,width:Ue([le,re,ne])}),We({logoPosition:se,buttonLogo:Ue([Ee("BREAD_MONOCHROME_EN"),Ee("PAY_PLAN_RGB_EN"),Ee("PAY_PLAN_RGB_FR"),Ee("PAY_PLAN_MONOCHROME_EN"),Ee("PAY_PLAN_MONOCHROME_FR"),gn]),additionalText:Ue([se,gn]),additionalTextFontStyle:se,additionalTextDecoration:se})]),In=We({logoUrl:Ue([se,gn]),headerImgUrl:se,checkoutPrimaryColor:se,checkoutSecondaryColor:se,disclosureSymbolInstallments:se,disclosureSymbolSplitpay:se,disclosureSymbolSplitpayInterest:se,marketingCardPlacementID:se,marketingDescription:se,marketingImageUrl:se,marketingUrl:se,merchantTier:Ue([Ee(1),Ee(2)]),paymentMethodDisplay:Ue([se,gn]),noOrderPromoTextInstallments:se,buttonConfig:Ue([wn,ne,re])});Se({shop:In});const En=/^https?:\/\/.*/,bn=e=>"string"==typeof e&&En.test(e),xn=new _("URL",bn,((e,n)=>bn(e)?C(e):P(e,n)),(function(e){return e})),Dn=Ue([Ee("Visa"),Ee("Mastercard"),Ee("Discover"),Ee("Amex")]);Se({appID:se,addressValidationSchemaName:Ue([Ee("USAddressSchema"),Ee("CanadaAddressSchema")]),allowDirectSDKPageAccess:me,apiUrl:xn,buyerIdentityAttributes:Ce(Ue([Ee("birthDate"),Ee("hasIIN"),Ee("iinShort"),Ee("name")])),datadogAppID:se,datadogClientToken:se,datadogEnabled:me,datadogEnv:se,datadogSite:se,splunkEventCollectorToken:se,splunkEventCollectorUrl:se,datePickerFormat:Ue([Ee("DMY"),Ee("MDY")]),defaultMerchantConfig:In,ecommExperiencePath:se,enableIDVerification:me,environment:se,footerComponent:Ue([Ee("ADSFooter"),Ee("RBCFooter")]),googleApiKey:se,hostUrl:se,iovationBlackboxSubkey:se,locales:Ce(Ue([Ee("en"),Ee("fr")])),requiresIIN:me,shippingCountry:Ue([Ee("US"),Ee("CA")]),tenantID:se,tenantDisplayName:ke([Se({en:se}),We({fr:se})]),demoHost:Se({integrationKey:se,dynamicIntegrationKeys:Ue([ne,Ne(se,se)]),currency:Ue([Ee("USD"),Ee("CAD")]),sdkNamespace:Ue([Ee("BreadPayments"),Ee("RBCPayPlan")])}),linkUrls:Ue([Ne(se,Ne(se,se)),ne]),themeStyles:Se({dangerColor:se,warningColor:se,warningColorSecondary:se,fontFamily:se}),featureFlagsEnabled:me,helpPhone:se,faqUrl:se,supportUrl:se,availableCardTypes:Ce(Dn),useConsoleLogging:me});const Rn=Se({apiUrl:xn,ecommExperiencePath:se,hostUrl:xn,placementText:Ue([ne,Se({en:se,fr:se})]),defaultButtonLogo:Ue([Ee("BREAD_MONOCHROME_EN"),Ee("PAY_PLAN_RGB_EN"),Ee("PAY_PLAN_RGB_FR"),Ee("PAY_PLAN_MONOCHROME_EN"),Ee("PAY_PLAN_MONOCHROME_FR"),gn]),shippingCountry:Ue([Ee("US"),Ee("CA")])}),An=Se({annualIncome:Ue([le,ne]),companyAddress:se,companyName:se,currency:se,occupation:se,occupationDescription:se,type:se}),On=ke([Se({familyName:se,givenName:se}),We({additionalName:se})]),Pn=ke([Se({email:se,name:On,phone:se}),We({birthDate:se,emailDuplicate:me,emailVerified:me,phoneDuplicate:me,phoneVerified:me,iinShort:se,iin:se,hasIIN:me})]),Cn=Se({address1:se,address2:se,country:se,locality:se,postalCode:se,region:se}),_n=ke([Se({address:Cn,email:se,name:On,phone:se}),Se({id:se,buyerID:se,createdAt:se,updatedAt:se})]),Sn=Se({contacts:Ne(se,_n),createdAt:se,employment:An,id:se,primaryContactID:se,doNotSellOrShare:me,updatedAt:se}),Mn=Se({identity:Pn,languagePreference:se});ke([Sn,Mn]),ke([Mn,We(Sn.props)]),Se({email:se,phone:se});const Wn=Ue([Ce(ke([Se({type:se}),We({acceptedAt:se,checksum:se})])),ne]);Se({disclosures:Wn});const Tn=Se({currency:se,value:Ae}),Nn=Se({id:se,dueDate:se,amount:Tn,interest:Tn,principal:Tn}),Ln=Se({id:se,schedule:Se({installments:Ce(Nn)}),balanceSummary:Se({totalInterestEstimate:Tn})});var Un;Se({paymentAgreement:Ln}),function(e){e.INSTALLMENTS="INSTALLMENTS",e.SPLITPAY="SPLITPAY"}(Un||(Un={}));const Fn=Se({originalPrincipal:Tn,interval:Ue([Ee("MONTHLY"),Ee("BIWEEKLY")]),length:le,rate:le}),kn=Se({value:se,expiresAt:se}),jn=Se({createdAt:se,expiresAt:se,id:se,paymentAmount:Tn,status:se,terms:Fn,updatedAt:se}),Bn=Se({capacity:Tn,createdAt:se,id:se,overflowCapacity:Ue([Tn,re]),paymentAgreement:jn,paymentProduct:Se({id:se,type:xe(Un)}),shortCode:Ue([kn,re]),status:se,statusCodes:Ue([Ce(se),ne]),updatedAt:se,schedule:Se({installments:Ce(Nn)}),interest:Tn}),qn=Ue([Ee("DELIVERY"),Ee("PICKUP"),Ee("MULTIPLE"),Ee("")]),zn=Ue([Ee("DELIVERY"),Ee("PICKUP"),Ee("")]),$n=ke([Se({name:se,quantity:le,shippingCost:Tn,shippingDescription:Ue([se,gn]),unitPrice:Tn,unitTax:Tn}),We({category:se,itemUrl:se,sku:se,shippingProvider:se,shippingTrackingNumber:se,shippingTrackingURL:se,fulfillmentType:zn})]),Vn=ke([Se({address:Cn}),We({name:On,email:se,phone:se})]),Yn=ke([Se({items:Ue([Ce($n),re]),subTotal:Tn,totalDiscounts:Tn,totalPrice:Tn,totalShipping:Tn,totalTax:Tn}),We({fulfillmentType:qn,pickupInformation:Vn})]),Hn=Se({address:Cn,email:se,name:On,phone:se});var Kn;!function(e){e.APPROVED="APPROVED",e.ATTEMPTED_CHECKOUT="ATTEMPTED_CHECKOUT",e.ATTEMPTED_PREPARE_CHECKOUT="ATTEMPTED_PREPARE_CHECKOUT",e.CANCELLED="CANCELLED",e.CHECKOUT_COMPLETED="CHECKOUT_COMPLETED",e.CHECKOUT_PREPARED="CHECKOUT_PREPARED",e.DENIED="DENIED",e.EXPIRED="EXPIRED",e.INELIGIBLE="INELIGIBLE",e.NEEDS_ACTION="NEEDS_ACTION",e.STARTED="STARTED",e.UPDATED="UPDATED"}(Kn||(Kn={}));const Gn=Se({key:se,value:se}),Zn=Se({type:se,value:se}),Jn=Se({buyerShippingContactID:se,ipAddress:se,paymentAgreementID:Ue([se,re]),status:xe(Kn),statusCodes:Ue([Ce(se),ne]),transactionID:se,shippingContact:Hn,paymentMethodID:se,autoPaymentMethodID:se}),Xn=Se({billingContact:Hn,buyerID:se,capacity:Tn,createdAt:se,expiresAt:se,id:se,merchantID:se,programID:se,offers:Ue([Ce(Bn),re]),clientInfo:Ue([Ce(Zn),re]),extensions:Ue([Ce(Gn),re]),retargetingURL:Ue([se,re])}),Qn=Se({order:Yn,disclosures:Wn}),et=ke([Xn,Qn,We(Jn.props)]);ke([Qn,We(Xn.props)]),Ce(et),ke([Se({merchantID:se,programID:se,referenceID:se,credentials:ke([Se({code:se}),We({dob:se,iin:se,firstName:se,lastName:se})])}),We({buyerID:se})]),Se({token:se,tokenExpiresAt:se,buyerID:se}),ke([Se({id:se,programID:se,merchantID:se,appID:se}),We({externalID:se,locationID:se,locationShortCode:Ue([se,ne])})]);const nt=Ee("APPLICATION");Se({buyerID:se,image:se}),Se({buyerID:se,imageID:se});const tt=Ue([Ee("04"),Ee("05")]);Se({frontImageID:se,backImageID:se,origin:tt,scopeType:nt,scopeID:se}),Se({buyerID:se,metadata:Se({attempts:le,maxAttempts:le,failReasons:Ue([Ce(se),re])}),statusCode:se});const rt=Se({enabled:me,provider:se}),it=Se({downPayment:Se({installments:me})}),ot=Se({id:se,merchantID:se,programID:se,defaultOTPMethod:se,fundingPaymentMethodID:Ue([se,ne]),defaultCartAmount:Tn,policies:Ue([re,Se({virtualCardSettings:Ue([re,rt])})]),createdAt:se,capabilities:it,derivedCapabilities:it,deletedAt:Ue([se,ne])}),at=Ue([Ee("INSTALLMENTS"),Ee("SPLITPAY")]),ut=Se({id:se,programID:se,name:se,description:se,numPayments:le,paymentFrequency:se,minInterestRateBPS:le,maxInterestRateBPS:le,paymentMethodTypes:Ce(se),autopayRequired:me,type:at,requiredDownPaymentBPS:le,legalAgreements:Ne(se,ue),policies:Ne(se,ue),workflowIDs:Ne(se,ue),createdAt:se,deletedAt:Ue([se,ne])}),ct=Se({minCartSize:Tn,maxCartSize:Tn,preauthAmount:Ue([le,ne])}),st=Se({paymentProduct:ut,merchantValues:ct});Se({merchantPaymentProducts:Ce(st)});const dt=Ue([Ee("TapToPay"),Ee("KeyEntry")]),lt=Se({id:se,name:se,url:se,merchantLogo:se,phoneNumber:se,hipaaRestricted:me,instorePickupAvailable:me,posCheckoutCapability:Ue([Ce(dt),ne,re]),borrowRatioBPS:Ue([le,re]),canViewCapacity:me});Se({merchant:lt});const ft=Ue([Ee("USD"),Ee("CAD")]),pt=Se({id:se,tenantID:se,name:se,currency:ft,defaultLanguage:se,displayInterestRateBPS:le,policies:Se({application:Se({tof:Se({disclosures:Ue([Ce(Se({type:se,requiresChecksum:me})),re])})})}),capabilities:it}),ht=Se({program:pt,merchantPaymentProducts:Ce(st),merchantProgramValues:ot,merchantConfig:In,merchantDetails:lt});Se({checksum:se,text:se}),new _("string",(e=>"string"==typeof e),((e,n)=>"string"==typeof e?C(e):P(e,n)),S);const mt=Ue([Ee("SMS"),Ee("EMAIL")]),gt=Se({auth:Se({token:se})});Se({email:Ue([se,re,ne]),phone:Ue([se,re,ne]),deliveryMethod:mt,disclosures:Wn,uat:Ue([gt,re])}),Se({referenceID:se});Se({scopeType:xe({APPLICATION:null}),scopeID:se,programID:se,buyerID:se});const vt=Se({applicationID:se,merchantID:se,merchantLocationID:se,offerID:se});var yt;!function(e){e.REQUESTED="REQUESTED",e.PROCESSING="PROCESSING",e.ISSUED="ISSUED",e.FAILED="FAILED",e.CLOSED="CLOSED"}(yt||(yt={}));const wt=ke([Se({id:se,status:xe(yt),scopeType:se,scopeID:se}),We({inStore:vt,buyerID:se,programID:se,tenantID:se,paymentProductID:se})]),It=Se({currency:se,value:le});var Et;Se({serverSessionId:se,clientSessionId:se,tokenSetting:le,cardSetting:le,publicWalletId:se,publicDeviceId:se,integratorId:se}),ke([Se({walletID:se}),We({state:se})]),function(e){e.NOT_CREATED="NOT_CREATED",e.REQUESTED="REQUESTED",e.PROVISIONING="PROVISIONING",e.PROVISIONED="PROVISIONED",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(Et||(Et={}));const bt=ke([Se({cardID:se,status:xe(Et)}),We({capacity:It,lastFour:se,issuanceDate:se,expiry:se,pan:se,cvv:se})]);var xt,Dt;!function(e){e.APPLEPAY="APPLEPAY",e.GOOGLEPAY="GOOGLEPAY"}(xt||(xt={})),function(e){e.PROVISIONING="PROVISIONING",e.ACTIVE="ACTIVE",e.FAILED="FAILED",e.SUSPENDED="SUSPENDED",e.TERMINATED="TERMINATED"}(Dt||(Dt={}));const Rt=Se({state:se}),At=Se({publicWalletId:se,publicDeviceId:se}),Ot=ke([Se({id:se,type:xe(xt),status:xe(Dt)}),We({pan:se,applePay:Rt,googlePay:At,error:me})]),Pt=Se({authorized:le,settled:le,refunded:le});ke([Se({issuance:wt}),We({card:bt,wallets:Ce(Ot),summary:Pt})]);const Ct=Se({kid:se}),_t=Se({header:Ct,protected:se,payload:se,signature:se});Se({}),ke([Se({walletID:se}),We({state:se,jws:_t})]),Se({level:xe({error:"error",warn:"warn",info:"info",debug:"debug"}),message:se,context:Ne(se,ue)});const St=Se({shippingAddress:Ue([Cn,re]),billingAddress:Ue([Cn,re]),name:Ue([On,re])}),Mt=ke([Se({email:se,phone:se}),We(St.props)]),Wt=Ue([Ce(Se({name:se,acceptedAt:se})),ne]);Se({id:se,checkoutCompleteURL:se,checkoutErrorURL:se,createdAt:se,updatedAt:se,expiresAt:se,merchantID:se,programID:se,status:Ue([Ee("ACTIVE"),Ee("EXPIRED"),Ee("DELETED"),Ee("COMPLETED"),Ee("VISITED"),Ee("NOTIFIED")]),orderReference:se,contact:Mt,order:Yn,disclosures:Wt,isHipaaRestricted:me}),Se({scopeID:se,scopeType:Ee("BUYER"),provider:Ee("CYBERSOURCE"),targetOrigins:Ce(se)});const Tt=Se({expiresAt:se,issuedAt:se,provider:Ee("CYBERSOURCE"),token:se});var Nt,Lt;Se({accessToken:Tt}),function(e){e.CardAccount="CARD_ACCOUNT",e.BankAccount="BANK_ACCOUNT"}(Nt||(Nt={})),function(e){e.Checking="CHECKING",e.Savings="SAVINGS"}(Lt||(Lt={}));const Ut=We({cardType:se,cardName:se,last4:se,expirationMonth:se,expirationYear:se,nonce:se,provider:se,disabled:me,postalCode:se});var Ft,kt,jt;!function(e){e.ACH="ACH",e.EFT="EFT"}(Ft||(Ft={})),function(e){e.US="US",e.CA="CA"}(kt||(kt={})),function(e){e.USD="USD",e.CAD="CAD"}(jt||(jt={}));const Bt=We({bankName:se,accountType:se,setupType:Ue([Ee(Ft.ACH),Ee(Ft.EFT)]),accountNumber:se,routingNumber:se,country:Ue([Ee(kt.US),Ee(kt.CA)]),currency:Ue([Ee(jt.USD),Ee(jt.CAD)])}),qt=ke([Se({id:se,paymentMethodType:se,scopeID:se,scopeType:ue}),We({cardAccount:Ut,bankAccount:Bt})]);Se({paymentMethod:ke([qt,Se({name:se})])}),Se({paymentMethod:qt}),Se({paymentMethods:Ce(qt)}),Se({headline:se,headlineDisclosureSymbol:se,subhead:se,subheadDisclosureSymbol:se}),Un.INSTALLMENTS,l(2e6),l(3e4);var zt;(function(e,n="alliance"){const{amount:t=1e6,shippingCost:r=0,tax:i=0,totalDiscounts:o=0,fulfillmentType:a="DELIVERY",hasPickupInformation:u=!1,itemCount:c=1}=e,s=t+r+i,d="alliance"===n?l:f,p=[];for(let e=0;e<c;e++)p.push(Object.assign({name:`Cannondale x1200 bike - #${e}`,quantity:1,shippingCost:d(Math.floor(r/c)),shippingDescription:"Standard",unitPrice:d(Math.floor(t/c)),unitTax:d(Math.floor(i/c))},"MULTIPLE"===a&&e%2==0?{fulfillmentType:"DELIVERY"}:{fulfillmentType:"PICKUP"}));return Object.assign(Object.assign({items:p},u&&{pickupInformation:{address:Object.assign({address1:"111 Easy Street",address2:"",locality:"Brooklyn",region:"NY",postalCode:"11222",country:"US"},null==h?void 0:h.address),name:Object.assign({givenName:"John",familyName:"Smith"},null==h?void 0:h.name),email:(null==h?void 0:h.email)||"john.smith@test.com",phone:(null==h?void 0:h.phone)||"1555444333"}}),{fulfillmentType:a,subTotal:d(t),totalDiscounts:d(o),totalPrice:d(s-o),totalShipping:d(r),totalTax:d(i)});var h})({amount:1e5}),(new Date).toISOString(),function(e){e["INSTALLMENT:APPLICATION_DECISIONED"]="onApproved",e["INSTALLMENT:ONETRUST_CONSENT"]="onOneTrustConsent",e["INSTALLMENT:APPLICATION_CHECKOUT"]="onCheckout",e["INSTALLMENT:ADD_TO_CART"]="onAddToCart",e["INSTALLMENT:CUSTOMER_OPEN"]="onCustomerOpen",e["INSTALLMENT:CUSTOMER_CLOSE"]="onCustomerClose",e["INSTALLMENT:INITIALIZED"]="onInitialized",e["INSTALLMENT:INITIALIZE_FAILURE"]="onInitializeFailure",e["INSTALLMENT:LOG"]="onLog"}(zt||(zt={}));var $t={openapi:"3.0.3",info:{title:"Status codes",description:"Defines shared status codes for the bread payments api",version:"2.0.0"},paths:{},components:{schemas:{ApplicationExpired:{type:"string",description:"Application expired",enum:["010200"],"x-enum-constant":!0,"x-enum-domain":"APPLICATION","x-enum-status":"EXPIRED","x-enum-substatus":""},ApplicationCancelledBuyerHashCheckFailed:{type:"string",description:"Buyer hash check failed",enum:["010101"],"x-enum-constant":!0,"x-enum-domain":"APPLICATION","x-enum-status":"CANCELLED","x-enum-substatus":"BUYER_HASH_CHECK_FAILED"},ApplicationCancelledPaymentProductNotAvailable:{type:"string",description:"Payment product not available",enum:["010102"],"x-enum-constant":!0,"x-enum-domain":"APPLICATION","x-enum-status":"CANCELLED","x-enum-substatus":"PAYMENT_PRODUCT_NOT_AVAILABLE"},CapacityCancelledContingent:{type:"string",description:"Application cancelled contingent on restart with parent",enum:["080101"],"x-enum-constant":!0,"x-enum-domain":"CAPACITY","x-enum-status":"CANCELLED","x-enum-substatus":"CANCELLED_CONTINGENT"},CapacityCancelledPartial:{type:"string",description:"Application cancelled partial on restart with parent",enum:["080102"],"x-enum-constant":!0,"x-enum-domain":"CAPACITY","x-enum-status":"CANCELLED","x-enum-substatus":"CANCELLED_PARTIAL"},EligibilityEligibleEligible:{type:"string",description:"Buyer is eligible",enum:["020101"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"ELIGIBLE","x-enum-substatus":"ELIGIBLE"},EligibilityIneligibleBuyerStatus:{type:"string",description:"Buyer is ineligible (status)",enum:["020202"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"INELIGIBLE","x-enum-substatus":"BUYER_STATUS"},EligibilityIneligibleBuyerCountry:{type:"string",description:"Buyer is ineligible (country)",enum:["020203"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"INELIGIBLE","x-enum-substatus":"BUYER_COUNTRY"},EligibilityIneligibleBuyerRegion:{type:"string",description:"Buyer is ineligible (region)",enum:["020204"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"INELIGIBLE","x-enum-substatus":"BUYER_REGION"},EligibilityIneligibleBuyerAge:{type:"string",description:"Buyer is ineligible (age)",enum:["020205"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"INELIGIBLE","x-enum-substatus":"BUYER_AGE"},EligibilityIneligibleBuyerAgeAL:{type:"string",description:"Buyer is ineligible (age - AL)",enum:["020206"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"INELIGIBLE","x-enum-substatus":"BUYER_AGE_AL"},EligibilityIneligibleInvalidAddressPOBox:{type:"string",description:"Buyer is ineligible due to invalid PO box address",enum:["020207"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"INELIGIBLE","x-enum-substatus":"INVALID_ADDRESS_POBOX"},EligibilityIneligibleInvalidAddressNoMatch:{type:"string",description:"Buyer is ineligible due to address being No Match",enum:["020208"],"x-enum-constant":!0,"x-enum-domain":"ELIGIBILITY","x-enum-status":"INELIGIBLE","x-enum-substatus":"INVALID_ADDRESS_NOMATCH"},FraudPass:{type:"string",description:"Fraud pass",enum:["040100"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"PASS","x-enum-substatus":""},FraudIncompleteLowRisk:{type:"string",description:"Fraud Stopped - Low risk tags",enum:["040201"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"INCOMPLETE","x-enum-substatus":"LOW_RISK"},FraudIncompleteHighRisk:{type:"string",description:"Fraud Stopped - High risk tags",enum:["040202"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"INCOMPLETE","x-enum-substatus":"HIGH_RISK"},FraudDeniedPreciseIDDenied:{type:"string",description:"Fraud - Precise ID Denied",enum:["040307"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"DENIED","x-enum-substatus":"PRECISE_ID_DENIAL"},FraudIncompleteExtendedFraudAlert:{type:"string",description:"Fraud Stopped - Extended fraud alert",enum:["040204"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"INCOMPLETE","x-enum-substatus":"EXTENDED_FRAUD_ALERT"},FraudDenied:{type:"string",description:"Fraud Failed - user on blocklist (+ generic fail)",enum:["040300"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"DENIED","x-enum-substatus":""},FraudDeniedFraudFail:{type:"string",description:"Fraud Failed",enum:["040303"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"DENIED","x-enum-substatus":"FRAUD_FAIL"},FraudDeniedIDDenial:{type:"string",description:"Applicant fails ID verification",enum:["040305"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"DENIED","x-enum-substatus":"ID_DENIAL"},FraudDeniedManualDenial:{type:"string",description:"Fraud Failed - Applicant fails manual review",enum:["040306"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"DENIED","x-enum-substatus":"MANUAL_DENIAL"},FraudDeniedBlockListDenial:{type:"string",description:"Fraud Failed - Applicant fails block list check",enum:["040308"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"DENIED","x-enum-substatus":"DENIED_BLOCKLIST_DENIAL"},FraudFailed:{type:"string",description:"Fraud Failed",enum:["040400"],"x-enum-constant":!0,"x-enum-domain":"FRAUD","x-enum-status":"FAILED","x-enum-substatus":""},KYCPassed:{type:"string",description:"KYC Pass",enum:["050100"],"x-enum-constant":!0,"x-enum-domain":"KYC","x-enum-status":"PASSED","x-enum-substatus":""},KYCIncompleteCreditFreeze:{type:"string",description:"KYC Incomplete credit freeze on file",enum:["050305"],"x-enum-constant":!0,"x-enum-domain":"KYC","x-enum-status":"INCOMPLETE","x-enum-substatus":"CREDIT_FREEZE"},KYCIncompleteNeedsMoreInfo:{type:"string",description:"KYC Incomplete need more info",enum:["050303"],"x-enum-constant":!0,"x-enum-domain":"KYC","x-enum-status":"INCOMPLETE","x-enum-substatus":"NEEDS_MORE_INFO"},KYCIncompleteFailed:{type:"string",description:"KYC Incomplete failed",enum:["050301"],"x-enum-constant":!0,"x-enum-domain":"KYC","x-enum-status":"INCOMPLETE","x-enum-substatus":"FAILED"},KYCFailed:{type:"string",description:"KYC failed",enum:["050400"],"x-enum-constant":!0,"x-enum-domain":"KYC","x-enum-status":"FAILED","x-enum-substatus":""},SanctionsPassed:{type:"string",description:"Sanctions Pass",enum:["060100"],"x-enum-constant":!0,"x-enum-domain":"SANCTIONS","x-enum-status":"PASSED","x-enum-substatus":""},SanctionsIncompleteFailed:{type:"string",description:"Sanctions (OFAC) Stopped",enum:["060301"],"x-enum-constant":!0,"x-enum-domain":"SANCTIONS","x-enum-status":"INCOMPLETE","x-enum-substatus":"FAILED"},SanctionsFailed:{type:"string",description:"Sanctions Stopped",enum:["060400"],"x-enum-constant":!0,"x-enum-domain":"SANCTIONS","x-enum-status":"FAILED","x-enum-substatus":""},DownPaymentAuth:{type:"string",description:"SplitPay Checkout Complete",enum:["070100"],"x-enum-constant":!0,"x-enum-domain":"DOWN_PAYMENT_AUTH","x-enum-status":"AUTHORIZED","x-enum-substatus":""},DownPaymentAuthAuthorized:{type:"string",description:"SplitPay Checkout Complete",enum:["070101"],"x-enum-constant":!0,"x-enum-domain":"DOWN_PAYMENT_AUTH","x-enum-status":"AUTHORIZED","x-enum-substatus":"NONE"},DownPaymentAuthDeclined:{type:"string",description:"SplitPay payment auth failed, retry not allowed",enum:["070201"],"x-enum-constant":!0,"x-enum-domain":"DOWN_PAYMENT_AUTH","x-enum-status":"DECLINED","x-enum-substatus":"NONE"},DownPaymentAuthDeclinedDeclinedRetryPaymentMethod:{type:"string",description:"SplitPay payment auth failed, retry allowed",enum:["070202"],"x-enum-constant":!0,"x-enum-domain":"DOWN_PAYMENT_AUTH","x-enum-status":"DECLINED","x-enum-substatus":"DECLINED_RETRY_PAYMENT_METHOD"},DecisionApprovedApprovedFull:{type:"string",description:"Application approved for checkout",enum:["030101"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"APPROVED","x-enum-substatus":"APPROVED_FULL"},DecisionApprovedApprovedPartial:{type:"string",description:"Application partially approved for checkout",enum:["030102"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"APPROVED","x-enum-substatus":"APPROVED_PARTIAL"},DecisionApprovedApprovedContingent:{type:"string",description:"Application contingent approved for checkout",enum:["030103"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"APPROVED","x-enum-substatus":"APPROVED_CONTINGENT"},DecisionDeniedInsufficientData:{type:"string",description:"Full SSN mismatch or credit no hit (with full SSN)",enum:["030404"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"INSUFFICIENT_DATA"},DecisionIneligibleIneligibleCart:{type:"string",description:"Merchant/payment product configured cart size doesn't fit",enum:["030205"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INELIGIBLE","x-enum-substatus":"INELIGIBLE_CART"},DecisionIncompleteIncompleteCreditFreeze:{type:"string",description:"Credit Freeze",enum:["030306"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INCOMPLETE","x-enum-substatus":"INCOMPLETE_CREDIT_FREEZE"},DecisionIncompleteNeedsFullIIN:{type:"string",description:"DOB, short SSN  mismatch or Credit No Hit",enum:["030307"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INCOMPLETE","x-enum-substatus":"NEEDS_FULL_IIN"},DecisionDeniedDeniedCredit:{type:"string",description:"Credit Denial",enum:["030408"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_CREDIT"},DecisionIneligiblePreviousDenial:{type:"string",description:"Ineligible denied in last 90 Days",enum:["030209"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INELIGIBLE","x-enum-substatus":"PREVIOUS_DENIAL"},DecisionDeniedDeniedFraudAlert:{type:"string",description:"Credit freeze denial",enum:["030410"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_FRAUD_ALERT"},DecisionIneligibleIneligibleSkippedInstallments:{type:"string",description:"Participating in Skip Payments",enum:["030211"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INELIGIBLE","x-enum-substatus":"INELIGIBLE_SKIPPED_INSTALLMENTS"},DecisionDeniedDeniedNoCreditFile:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030412"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_NO_CREDIT_FILE"},DecisionDeniedDeniedNoCreditScore:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030413"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_NO_CREDIT_SCORE"},DecisionDeniedDeniedThinFile:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030414"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_THIN_FILE"},DecisionDeniedDeniedRepossessions:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030415"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_REPOSSESSIONS"},DecisionDeniedDeniedForeclosure:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030416"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_FORECLOSURE"},DecisionDeniedDeniedDerogatoryRecord:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030417"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_DEROGATORY_RECORD"},DecisionDeniedDeniedTradePastDue:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030418"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_TRADE_PAST_DUE"},DecisionDeniedDeniedCollections:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030419"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_COLLECTIONS"},DecisionDeniedDeniedRevolvingCreditUtilization:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030420"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_REVOLVING_CREDIT_UTILIZATION"},DecisionDeniedDeniedInsufficientCapacity:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030421"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_INSUFFICIENT_CAPACITY"},DecisionDeniedDeniedAuthorizedTradelines:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030422"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_AUTHORIZED_TRADELINES"},DecisionDeniedDeniedLowFICO:{type:"string",description:"Denied low FICO",enum:["030423"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_LOW_FICO"},DecisionDeniedDeniedCrust:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030424"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_CRUST"},DecisionDeniedDeniedBreadChargeOff:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030425"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_BREAD_CHARGE_OFF"},DecisionDeniedDeniedPastLoanOverdue:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030426"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_PAST_LOAN_OVERDUE"},DecisionDeniedDeniedLoanCurrentlyOverdue:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030427"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_LOAN_CURRENTLY_OVERDUE"},DecisionDeniedDeniedChargeOff:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030428"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_CHARGE_OFF"},DecisionDeniedDeniedAccountPastDue:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030429"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_ACCOUNT_PAST_DUE"},DecisionDeniedDeniedInquiries:{type:"string",description:"ADS Credit file denial from underwriting service",enum:["030430"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_INQUIRIES"},DecisionIneligibleMaxCardAttempt:{type:"string",description:"Max card attempts last 30 days",enum:["030231"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INELIGIBLE","x-enum-substatus":"MAX_CARD_ATTEMPT"},DecisionIneligibleOutstandingLoans:{type:"string",description:"Unpaid outstanding loans",enum:["030232"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INELIGIBLE","x-enum-substatus":"OUTSTANDING_LOANS"},DecisionDeniedLowCreditLimit:{type:"string",description:"Denied low credit limit",enum:["030433"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"LOW_CREDIT_LIMIT"},DecisionDeniedLowFicoLowCreditLimit:{type:"string",description:"SplitPay Denied Low Credit Limit & Low FICO",enum:["030434"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"LOW_FICO_LOW_CREDIT_LIMIT"},DecisionDeniedDeniedRevolvingDebtTooHigh:{type:"string",description:"Credit card debt (bankcard + retail) >50k",enum:["030435"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_REVOLVING_DEBT_TOO_HIGH"},DecisionDeniedDeniedRevolvingDebtTooLow:{type:"string",description:"Credit card debt (bankcard + retail) <2k",enum:["030436"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_REVOLVING_DEBT_TOO_LOW"},DecisionDeniedDeniedSelfReportedIncome:{type:"string",description:"Self reported income <20,000",enum:["030437"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_SELF_REPORTED_INCOME"},DecisionDeniedDeniedLowVantage:{type:"string",description:"Low vantage (<660)",enum:["030438"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_LOW_VANTAGE"},DecisionDeniedDenied:{type:"string",description:"Buyer status is insolvent",enum:["030439"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED"},DecisionIneligibleMaxBureauAttempts:{type:"string",description:"Credit pulled 5 or more times within 24 hours",enum:["030240"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"INELIGIBLE","x-enum-substatus":"MAX_BUREAU_ATTEMPTS"},DecisionDeniedDeniedCreditAbuse:{type:"string",description:"Buyer has previous credit abuse",enum:["030441"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_CREDIT_ABUSE"},DecisionDeniedDeniedCreditopticsDeceased:{type:"string",description:"Buyer is deceased per Credit Optics",enum:["030442"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_CREDITOPTICS_DECEASED"},DecisionDeniedDeniedCreditopticsDecline:{type:"string",description:"Buyer is declined per Credit Optics",enum:["030443"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_CREDITOPTICS_DECLINE"},DecisionDeniedDeniedBureauDeceased:{type:"string",description:"Buyer is deceased",enum:["030444"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_BUREAU_DECEASED"},DecisionDeniedDeniedPreciseidDeceased:{type:"string",description:"Buyer is deceased per Precise ID",enum:["030445"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_PRECISEID_DECEASED"},DecisionDeniedDeniedPreciseidDecline:{type:"string",description:"Buyer is declined per Precise ID",enum:["030446"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_PRECISEID_DECLINE"},DecisionDeniedDeniedEquifaxDeceased:{type:"string",description:"Buyer is deceased per Equifax",enum:["030447"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_EQUIFAX_DECEASED"},DecisionDeniedDeniedBureauData:{type:"string",description:"Miscellaneous Denials for Bureau Data reasons",enum:["030448"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_BUREAU_DATA"},DecisionDeniedDeniedLowBureau:{type:"string",description:"Buyer credit score denial",enum:["030449"],"x-enum-constant":!0,"x-enum-domain":"DECISION","x-enum-status":"DENIED","x-enum-substatus":"DENIED_LOW_BUREAU"}}}};function Vt(e){if(!e.order)return{allowCheckout:e.allowCheckout,domID:e.domID,locationType:e.locationType};const n=e.order,{items:t}=n,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(n,["items"]),i=!!(null==t?void 0:t.length)&&(null==t?void 0:t.every((e=>"PICKUP"===e.fulfillmentType))),o=!!(null==t?void 0:t.length)&&t.some((e=>"PICKUP"===e.fulfillmentType));let a="DELIVERY";return i?a="PICKUP":!i&&o?a="MULTIPLE":r.fulfillmentType&&(a=r.fulfillmentType),Object.assign(Object.assign({},e),{order:Object.assign({items:t?Yt(t):[],subTotal:Gt(r,"subTotal"),totalDiscounts:Gt(r,"totalDiscounts"),totalPrice:Gt(r,"totalPrice"),totalShipping:Gt(r,"totalShipping"),totalTax:Gt(r,"totalTax"),fulfillmentType:a},(null==r?void 0:r.pickupInformation)&&{pickupInformation:r.pickupInformation})})}function Yt(e){return e.map(Ht)}function Ht(e,n){try{return Object.assign(Object.assign({},e),{shippingCost:Kt(e,"shippingCost"),unitTax:Kt(e,"unitTax"),unitPrice:Kt(e,"unitPrice")})}catch(e){const t=e instanceof Error?e:{message:e};throw new Error(`Order line item ${n}: ${t.message}`)}}function Kt(e,n){const t=e[n];try{return Zt(t)}catch(e){const t=e instanceof Error?e:{message:e};throw new Error(`field ${n}: ${t.message}`)}}function Gt(e,n){const t=e[n];try{return Zt(t)}catch(e){throw new Error(`Order field ${n}: ${e}`)}}function Zt(e){if(function(e){return"object"==typeof e&&"string"==typeof e.currency&&"number"==typeof e.value}(e))return e;if("number"==typeof e)return l(e);throw new Error("Invalid amount: must be type number or Money.")}Object.keys($t.components.schemas).reduce(((e,n)=>(e[n]=$t.components.schemas[n].enum[0],e)),{});const Jt=["M","W"],Xt=l(1e5),Qt={length:12,designator:"M"},er={type:"INSTALLMENTS",numberOfPayments:12,rate:2199,frequency:Qt,paymentAmount:w({principal:Xt.value,rateBPS:2199,periods:12,frequency:Qt})},nr={type:"SPLITPAY",numberOfPayments:4,rate:0,frequency:Qt,paymentAmount:w({principal:Xt.value,rateBPS:0,periods:4,frequency:{length:4,designator:"W"}})},tr={M:{singular:()=>"mo",plural:e=>`${e} months`},W:{singular:()=>"week",plural:e=>`${e} weeks`}};function rr(e){var n;const t=1===e.length?"singular":"plural",r=null===(n=null==tr?void 0:tr[e.designator])||void 0===n?void 0:n[t];if(!r)throw new Error("No singularCall.");return r(e.length)}function ir(e){const n=/P(?<length>\d+)(?<designator>[A-Z])/.exec(e),t=null==n?void 0:n.groups;if(!t||!t.length||!t.designator)throw new Error("Unable to parse ISO8601 Duration");if(r=t.designator,!Jt.includes(r))throw new Error(`Duration designator must be M (month) or W (week). Received: ${t.designator}`);var r;return{length:parseInt(t.length),designator:t.designator}}function or(){return function(e){if(!function(e){return Object.keys(Un).includes(e)}(e.paymentProduct.type))throw new Error(`Payment Product type is not valid: received ${e.paymentProduct.type}`);return{frequency:ir(e.paymentProduct.paymentFrequency),rate:e.paymentProduct.minInterestRateBPS,type:e.paymentProduct.type,numberOfPayments:e.paymentProduct.numPayments}}}const ar=(e,n)=>e.map((({paymentProduct:e})=>e[n])).sort(((e,n)=>e-n)),ur=(e,n)=>e.map((({merchantValues:e})=>e[n].value)).sort(((e,n)=>e-n));function cr(e,n){var t,r,i;if(!n)return null;const{numberOfPayments:o,rate:a,paymentAmount:u,frequency:c}=n,s=e.filter((({paymentProduct:e})=>e.type===n.type));if(!s.length)return null;const d=null!==(t=ar(s,"minInterestRateBPS").shift())&&void 0!==t?t:0,l=null!==(r=ar(s,"maxInterestRateBPS").pop())&&void 0!==r?r:0,f=ar(s.filter((e=>{var t;return ir(e.paymentProduct.paymentFrequency).designator===(null===(t=n.frequency)||void 0===t?void 0:t.designator)})),"numPayments"),p=null!==(i=ur(s,"minCartSize").shift())&&void 0!==i?i:0,h=ur(s.filter((e=>e.merchantValues.maxCartSize.value>=0)),"maxCartSize").pop();return{exampleTotalPrice:Xt.value,lengthOptions:f,minCartSize:p,maxCartSize:null!=h?h:1e6,minInterestRateBPS:d,maxInterestRateBPS:l,promoOfferFrequency:c,promoOfferLength:o,promoOfferAmount:u,promoOfferRate:a}}const sr=e=>{if(!e)return!1;try{return new URL(e),!0}catch(e){return!1}},dr=e=>!!e&&e.startsWith("/"),lr=["jpg","jpeg","png","gif","svg"],fr=e=>{const n=e.split(".").pop();return!!n&&lr.includes(n)},pr=new RegExp(/^#(?:[0-9A-Fa-f]{3}){1,2}$/i),hr=e=>!!e&&pr.test(e);var mr;!function(e){e.AUTH_TOKEN="auth-token",e.LOCALE_KEY="lang",e.REVIEWED_APPLICATION="reviewed-application",e.DEVICE_ID="device-id"}(mr||(mr={}));var gr,vr;!function(e){e.FORM_BODY="application/x-www-form-urlencoded",e.FORM_DATA="multipart/form-data",e.JSON="application/json",e.TEXT="text/plain"}(gr||(gr={})),function(e){e.Check="check",e.Decrement="decrement",e.Distribution="distribution",e.Event="event",e.Gauge="gauge",e.Histogram="histogram",e.Increment="increment",e.Set="set",e.Timing="timing",e.Unique="unique"}(vr||(vr={}));var yr=function(){function e(e){var n=this;this.host=e.host,this.contentType=e.contentType,this.mock=!0===e.mock;var t=this;Object.values(vr).forEach((function(e){t[e]=t[e].bind(n)}))}var n=e.prototype;return n.send=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=null;if("function"==typeof t[t.length-1]&&(i=t.pop()),t=wr(t),!this.mock){var o=Ir({metricType:e,args:t},this.contentType);window.navigator.sendBeacon(this.host,o)}i&&i(void 0,1)},n.increment=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Increment].concat(e))},n.decrement=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Decrement].concat(e))},n.histogram=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Histogram].concat(e))},n.distribution=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Distribution].concat(e))},n.gauge=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Gauge].concat(e))},n.set=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Set].concat(e))},n.unique=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Unique].concat(e))},n.event=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Event].concat(e))},n.check=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Check].concat(e))},n.timing=function(){var e=Array.from(arguments);this.send.apply(this,[vr.Timing].concat(e))},n.timer=function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var o=this;return function(){var t=Er();try{return e.apply(void 0,arguments)}finally{var i=Er(t);o.send.apply(o,[vr.Timing,n,i].concat(r))}}},n.asyncTimer=function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var o=this;return function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var u=Er();return Promise.resolve().then((function(){return e.apply(void 0,i)})).finally((function(){var e=Er(u);o.send.apply(o,[vr.Timing,n,e].concat(r))}))}},n.asyncDistTimer=function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var o=this;return function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var u=Er();return Promise.resolve().then((function(){return e.apply(void 0,i)})).finally((function(){var e=Er(u);o.send.apply(o,[vr.Distribution,n,e].concat(r))}))}},e}();function wr(e){for(var n=e.length,t=n-1;t>=0;t--){var r=e[t];if(null!=r){n=t+1;break}}return e.slice(0,n)}function Ir(e,n){return void 0===n&&(n=gr.JSON),new Blob([JSON.stringify(e)],{type:n})}function Er(e){return void 0===e&&(e=0),performance.now()-e}var br=dn((function(e,n){"undefined"!=typeof self&&self,e.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return{}.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){function r(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function o(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var n={}.toString;if(n){var t=n.call(e);if("[object Window]"===t||"[object global]"===t||"[object DOMWindow]"===t)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}t.r(n),t.d(n,"PopupOpenError",(function(){return ke})),t.d(n,"create",(function(){return Nt})),t.d(n,"destroy",(function(){return Ft})),t.d(n,"destroyComponents",(function(){return Lt})),t.d(n,"destroyAll",(function(){return Ut})),t.d(n,"PROP_TYPE",(function(){return ft})),t.d(n,"PROP_SERIALIZATION",(function(){return pt})),t.d(n,"CONTEXT",(function(){return ht})),t.d(n,"EVENT",(function(){return mt}));var a,u=[],c=[],s=0;function d(){if(!s&&a){var e=a;a=null,e.resolve()}}function l(){s+=1}function f(){s-=1,d()}var p=function(){function e(e){var n=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var t,r,i=!1,o=!1,a=!1;l();try{e((function(e){a?n.resolve(e):(i=!0,t=e)}),(function(e){a?n.reject(e):(o=!0,r=e)}))}catch(e){return f(),void this.reject(e)}f(),a=!0,i?this.resolve(t):o&&this.reject(r)}}var n=e.prototype;return n.resolve=function(e){if(this.resolved||this.rejected)return this;if(o(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},n.reject=function(e){var n=this;if(this.resolved||this.rejected)return this;if(o(e))throw new Error("Can not reject promise with another promise");if(!e){var t=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+t)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){n.errorHandled||function(e,n){if(-1===u.indexOf(e)){u.push(e),setTimeout((function(){throw e}),1);for(var t=0;t<c.length;t++)c[t](e,n)}}(e,n)}),1),this.dispatch(),this},n.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},n.dispatch=function(){var n=this.resolved,t=this.rejected,r=this.handlers;if(!this.dispatching&&(n||t)){this.dispatching=!0,l();for(var i=function(e,n){return e.then((function(e){n.resolve(e)}),(function(e){n.reject(e)}))},a=0;a<r.length;a++){var u=r[a],c=u.onSuccess,s=u.onError,d=u.promise,p=void 0;if(n)try{p=c?c(this.value):this.value}catch(e){d.reject(e);continue}else if(t){if(!s){d.reject(this.error);continue}try{p=s(this.error)}catch(e){d.reject(e);continue}}p instanceof e&&(p.resolved||p.rejected)?(p.resolved?d.resolve(p.value):d.reject(p.error),p.errorHandled=!0):o(p)?p instanceof e&&(p.resolved||p.rejected)?p.resolved?d.resolve(p.value):d.reject(p.error):i(p,d):d.resolve(p)}r.length=0,this.dispatching=!1,f()}},n.then=function(n,t){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for success handler");if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:n,onError:t}),this.errorHandled=!0,this.dispatch(),r},n.catch=function(e){return this.then(void 0,e)},n.finally=function(n){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.finally expected a function");return this.then((function(t){return e.try(n).then((function(){return t}))}),(function(t){return e.try(n).then((function(){throw t}))}))},n.timeout=function(e,n){var t=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){t.resolved||t.rejected||t.reject(n||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},n.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},e.resolve=function(n){return n instanceof e?n:o(n)?new e((function(e,t){return n.then(e,t)})):(new e).resolve(n)},e.reject=function(n){return(new e).reject(n)},e.asyncReject=function(n){return(new e).asyncReject(n)},e.all=function(n){var t=new e,r=n.length,i=[];if(!r)return t.resolve(i),t;for(var a=function(e,n,o){return n.then((function(n){i[e]=n,0==(r-=1)&&t.resolve(i)}),(function(e){o.reject(e)}))},u=0;u<n.length;u++){var c=n[u];if(c instanceof e){if(c.resolved){i[u]=c.value,r-=1;continue}}else if(!o(c)){i[u]=c,r-=1;continue}a(u,e.resolve(c),t)}return 0===r&&t.resolve(i),t},e.hash=function(n){var t={},r=[],i=function(e){if(n.hasOwnProperty(e)){var i=n[e];o(i)?r.push(i.then((function(n){t[e]=n}))):t[e]=i}};for(var a in n)i(a);return e.all(r).then((function(){return t}))},e.map=function(n,t){return e.all(n.map(t))},e.onPossiblyUnhandledException=function(e){return function(e){return c.push(e),{cancel:function(){c.splice(c.indexOf(e),1)}}}(e)},e.try=function(n,t,r){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.try expected a function");var i;l();try{i=n.apply(t,r||[])}catch(n){return f(),e.reject(n)}return f(),e.resolve(i)},e.delay=function(n){return new e((function(e){setTimeout(e,n)}))},e.isPromise=function(n){return!!(n&&n instanceof e)||o(n)},e.flush=function(){return n=e,t=a=a||new n,d(),t;var n,t},e}();function h(e){return"[object RegExp]"==={}.toString.call(e)}var m={IFRAME:"iframe",POPUP:"popup"},g="Call was rejected by callee.\r\n";function v(e){return void 0===e&&(e=window),"about:"===e.location.protocol}function y(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function w(e){if(void 0===e&&(e=window),e&&!y(e))try{return e.opener}catch(e){}}function I(e){try{return!0}catch(e){}return!1}function E(e){void 0===e&&(e=window);var n=e.location;if(!n)throw new Error("Can not read window location");var t=n.protocol;if(!t)throw new Error("Can not read window protocol");if("file:"===t)return"file://";if("about:"===t){var r=y(e);return r&&I()?E(r):"about://"}var i=n.host;if(!i)throw new Error("Can not read window host");return t+"//"+i}function b(e){void 0===e&&(e=window);var n=E(e);return n&&e.mockDomain&&0===e.mockDomain.indexOf("mock:")?e.mockDomain:n}function x(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var n=Object.getOwnPropertyDescriptor(e,"location");if(n&&!1===n.enumerable)return!1}catch(e){}try{if(v(e)&&I())return!0}catch(e){}try{if(E(e)===E(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(v(e)&&I())return!0;if(b(window)===b(e))return!0}catch(e){}return!1}function D(e){if(!x(e))throw new Error("Expected window to be same domain");return e}function R(e,n){if(!e||!n)return!1;var t=y(n);return t?t===e:-1!==function(e){var n=[];try{for(;e.parent!==e;)n.push(e.parent),e=e.parent}catch(e){}return n}(n).indexOf(e)}function A(e){var n,t,r=[];try{n=e.frames}catch(t){n=e}try{t=n.length}catch(e){}if(0===t)return r;if(t){for(var i=0;i<t;i++){var o=void 0;try{o=n[i]}catch(e){continue}r.push(o)}return r}for(var a=0;a<100;a++){var u=void 0;try{u=n[a]}catch(e){return r}if(!u)return r;r.push(u)}return r}function O(e){for(var n=[],t=0,r=A(e);t<r.length;t++){var i=r[t];n.push(i);for(var o=0,a=O(i);o<a.length;o++)n.push(a[o])}return n}function P(e){void 0===e&&(e=window);try{if(e.top)return e.top}catch(e){}if(y(e)===e)return e;try{if(R(window,e)&&window.top)return window.top}catch(e){}try{if(R(e,window)&&window.top)return window.top}catch(e){}for(var n=0,t=O(e);n<t.length;n++){var r=t[n];try{if(r.top)return r.top}catch(e){}if(y(r)===r)return r}}function C(e){var n=P(e);if(!n)throw new Error("Can not determine top window");var t=[].concat(O(n),[n]);return-1===t.indexOf(e)&&(t=[].concat(t,[e],O(e))),t}var _=[],S=[];function M(e,n){void 0===n&&(n=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==g}if(n&&x(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var t=function(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch(e){}return-1}(_,e);if(-1!==t){var r=S[t];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var n=e.ownerDocument;if(n&&n.documentElement&&!n.documentElement.contains(e)){for(var t=e;t.parentNode&&t.parentNode!==t;)t=t.parentNode;if(!t.host||!n.documentElement.contains(t.host))return!0}return!1}(r))return!0}return!1}function W(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}function T(e,n){for(var t=A(e),r=0;r<t.length;r++){var i=t[r];try{if(x(i)&&i.name===n&&-1!==t.indexOf(i))return i}catch(e){}}try{if(-1!==t.indexOf(e.frames[n]))return e.frames[n]}catch(e){}try{if(-1!==t.indexOf(e[n]))return e[n]}catch(e){}}function N(e,n){return e===w(n)}function L(e){return void 0===e&&(e=window),w(e=e||window)||y(e)||void 0}function U(e,n){for(var t=0;t<e.length;t++)for(var r=e[t],i=0;i<n.length;i++)if(r===n[i])return!0;return!1}function F(e){void 0===e&&(e=window);for(var n=0,t=e;t;)(t=y(t))&&(n+=1);return n}function k(e,n){var t=P(e)||e,r=P(n)||n;try{if(t&&r)return t===r}catch(e){}var i=C(e),o=C(n);if(U(i,o))return!0;var a=w(t),u=w(r);return a&&U(C(a),o)||u&&U(C(u),i),!1}function j(e,n){if("string"==typeof e){if("string"==typeof n)return"*"===e||n===e;if(h(n))return!1;if(Array.isArray(n))return!1}return h(e)?h(n)?e.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(e)):!!Array.isArray(e)&&(Array.isArray(n)?JSON.stringify(e)===JSON.stringify(n):!h(n)&&e.some((function(e){return j(e,n)})))}function B(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):b()}function q(e,n,t,r){var i;return void 0===t&&(t=1e3),void 0===r&&(r=1/0),function o(){if(M(e))return i&&clearTimeout(i),n();r<=0?clearTimeout(i):(r-=t,i=setTimeout(o,t))}(),{cancel:function(){i&&clearTimeout(i)}}}function z(e){try{if(e===window)return!0}catch(e){if(e&&e.message===g)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===g)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===g)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===g)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===g)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===g)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch(e){}return!1}function $(e){if(0!==B(e).indexOf("mock:"))return e;throw new Error("Mock urls not supported out of test mode")}function V(e){try{e.close()}catch(e){}}function Y(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch(e){}return-1}var H,K=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,n={};return Object.freeze(n),e.set(n,"__testvalue__"),"__testvalue__"===e.get(n)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var n=e.prototype;return n._cleanupClosedWindows=function(){for(var e=this.weakmap,n=this.keys,t=0;t<n.length;t++){var r=n[t];if(z(r)&&M(r)){if(e)try{e.delete(r)}catch(e){}n.splice(t,1),this.values.splice(t,1),t-=1}}},n.isSafeToReadWrite=function(e){return!z(e)},n.set=function(e,n){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.set(e,n)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,i=e[r];return void(i&&i[0]===e?i[1]=n:Object.defineProperty(e,r,{value:[e,n],writable:!0}))}catch(e){}this._cleanupClosedWindows();var o=this.keys,a=this.values,u=Y(o,e);-1===u?(o.push(e),a.push(n)):a[u]=n},n.get=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return n.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];return t&&t[0]===e?t[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=Y(this.keys,e);if(-1!==r)return this.values[r]},n.delete=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];t&&t[0]===e&&(t[0]=t[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,i=Y(r,e);-1!==i&&(r.splice(i,1),this.values.splice(i,1))},n.has=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];return!(!t||t[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==Y(this.keys,e)},n.getOrSet=function(e,n){if(this.has(e))return this.get(e);var t=n();return this.set(e,t),t},e}();function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,n){return(Z=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function X(e,n,t){return(X=J()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return t&&Z(i,t.prototype),i}).apply(null,arguments)}function Q(e){var n="function"==typeof Map?new Map:void 0;return(Q=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return X(e,arguments,G(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Z(r,e)})(e)}function ee(e){return e.name||e.__name__||e.displayName||"anonymous"}function ne(e,n){try{delete e.name,e.name=n}catch(e){}return e.__name__=e.displayName=n,e}function te(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt(n,16))})));if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}function re(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))+"_"+te((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function ie(e){try{return JSON.stringify([].slice.call(e),(function(e,n){return"function"==typeof n?"memoize["+function(e){if(H=H||new K,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var n=H.get(e);return n||(n=typeof e+":"+re(),H.set(e,n)),n}(n)+"]":n}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function oe(){return{}}var ae=0,ue=0;function ce(e,n){void 0===n&&(n={});var t,r,i=n.thisNamespace,o=void 0!==i&&i,a=n.time,u=ae;ae+=1;var c=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];var s;u<ue&&(t=null,r=null,u=ae,ae+=1),s=o?(r=r||new K).getOrSet(this,oe):t=t||{};var d=ie(i),l=s[d];if(l&&a&&Date.now()-l.time<a&&(delete s[d],l=null),l)return l.value;var f=Date.now(),p=e.apply(this,arguments);return s[d]={time:f,value:p},p};return c.reset=function(){t=null,r=null},ne(c,(n.name||ee(e))+"::memoized")}function se(e){var n={};function t(){for(var t=arguments,r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=ie(o);return n.hasOwnProperty(u)||(n[u]=p.try((function(){return e.apply(r,t)})).finally((function(){delete n[u]}))),n[u]}return t.reset=function(){n={}},ne(t,ee(e)+"::promiseMemoized")}function de(e,n,t){void 0===t&&(t=[]);var r=e.__inline_memoize_cache__=e.__inline_memoize_cache__||{},i=ie(t);return r.hasOwnProperty(i)?r[i]:r[i]=n.apply(void 0,t)}function le(){}function fe(e){var n=!1;return ne((function(){if(!n)return n=!0,e.apply(this,arguments)}),ee(e)+"::once")}function pe(e,n){if(void 0===n&&(n=1),n>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var t=e&&e.stack,r=e&&e.message;if(t&&r)return-1!==t.indexOf(r)?t:r+"\n"+t;if(t)return t;if(r)return r}return e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}catch(e){return"Error while stringifying error: "+pe(e,n+1)}}function he(e){return"string"==typeof e?e:e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}function me(e,n){if(!n)return e;if(Object.assign)return Object.assign(e,n);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function ge(e){return e}function ve(e,n){var t;return function r(){t=setTimeout((function(){e(),r()}),n)}(),{cancel:function(){clearTimeout(t)}}}function ye(e,n,t){if(Array.isArray(e)){if("number"!=typeof n)throw new TypeError("Array key must be number")}else if("object"==typeof e&&null!==e&&"string"!=typeof n)throw new TypeError("Object key must be string");Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){delete e[n];var r=t();return e[n]=r,r},set:function(t){delete e[n],e[n]=t}})}function we(e){return[].slice.call(e)}function Ie(e){return"object"==typeof(n=e)&&null!==n&&"[object Object]"==={}.toString.call(e);var n}function Ee(e){if(!Ie(e))return!1;var n=e.constructor;if("function"!=typeof n)return!1;var t=n.prototype;return!!Ie(t)&&!!t.hasOwnProperty("isPrototypeOf")}function be(e,n,t){if(void 0===t&&(t=""),Array.isArray(e)){for(var r=e.length,i=[],o=function(r){ye(i,r,(function(){var i=t?t+"."+r:""+r,o=n(e[r],r,i);return(Ee(o)||Array.isArray(o))&&(o=be(o,n,i)),o}))},a=0;a<r;a++)o(a);return i}if(Ee(e)){var u={},c=function(r){if(!e.hasOwnProperty(r))return"continue";ye(u,r,(function(){var i=t?t+"."+r:""+r,o=n(e[r],r,i);return(Ee(o)||Array.isArray(o))&&(o=be(o,n,i)),o}))};for(var s in e)c(s);return u}throw new Error("Pass an object or array")}function xe(e){return null!=e}function De(e){return"[object RegExp]"==={}.toString.call(e)}function Re(e,n,t){if(e.hasOwnProperty(n))return e[n];var r=t();return e[n]=r,r}function Ae(e){var n,t=[],r=!1;return{set:function(n,t){return r||(e[n]=t,this.register((function(){delete e[n]}))),t},register:function(e){r?e(n):t.push(fe((function(){return e(n)})))},all:function(e){n=e;var i=[];for(r=!0;t.length;){var o=t.shift();i.push(o())}return p.all(i).then(le)}}}function Oe(e,n){if(null==n)throw new Error("Expected "+e+" to be present");return n}ce.clear=function(){ue=ae},ce((function(e){if(Object.values)return Object.values(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n}));var Pe=function(e){function n(n){var t;return(t=e.call(this,n)||this).name=t.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),t.constructor):t.stack=new Error(n).stack,t}return r(n,e),n}(Q(Error));function Ce(){return Boolean(document.body)&&"complete"===document.readyState}function _e(){return Boolean(document.body)&&"interactive"===document.readyState}function Se(e){return e.replace(/\?/g,"%3F").replace(/&/g,"%26").replace(/#/g,"%23").replace(/\+/g,"%2B")}function Me(e){return de(Me,(function(){var n={};if(!e)return n;if(-1===e.indexOf("="))return n;for(var t=0,r=e.split("&");t<r.length;t++){var i=r[t];(i=i.split("="))[0]&&i[1]&&(n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return n}),[e])}function We(e,n){return void 0===n&&(n={}),n&&Object.keys(n).length?(void 0===(t=i({},Me(e),n))&&(t={}),Object.keys(t).filter((function(e){return"string"==typeof t[e]})).map((function(e){return Se(e)+"="+Se(t[e])})).join("&")):e;var t}function Te(e,n){e.appendChild(n)}function Ne(e){return e instanceof window.Element||null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}function Le(e,n){return void 0===n&&(n=document),Ne(e)?e:"string"==typeof e?n.querySelector(e):void 0}function Ue(e){return new p((function(n,t){var r=he(e),i=Le(e);if(i)return n(i);if(Ce())return t(new Error("Document is ready and element "+r+" does not exist"));var o=setInterval((function(){return(i=Le(e))?(clearInterval(o),n(i)):Ce()?(clearInterval(o),t(new Error("Document is ready and element "+r+" does not exist"))):void 0}),10)}))}ce((function(){return new p((function(e){if(Ce()||_e())return e();var n=setInterval((function(){if(Ce()||_e())return clearInterval(n),e()}),10)}))}));var Fe,ke=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n}(Pe);function je(e){if((Fe=Fe||new K).has(e)){var n=Fe.get(e);if(n)return n}var t=new p((function(n,t){e.addEventListener("load",(function(){!function(e){if(function(){for(var e=0;e<_.length;e++){var n=!1;try{n=_[e].closed}catch(e){}n&&(S.splice(e,1),_.splice(e,1))}}(),e&&e.contentWindow)try{_.push(e.contentWindow),S.push(e)}catch(e){}}(e),n(e)})),e.addEventListener("error",(function(r){e.contentWindow?n(e):t(r)}))}));return Fe.set(e,t),t}function Be(e){return je(e).then((function(e){if(!e.contentWindow)throw new Error("Could not find window in iframe");return e.contentWindow}))}function qe(e,n){void 0===e&&(e={});var t=e.style||{},r=function(e,n,t){void 0===e&&(e="div"),void 0===n&&(n={}),e=e.toLowerCase();var r,i,o,a=document.createElement(e);if(n.style&&me(a.style,n.style),n.class&&(a.className=n.class.join(" ")),n.id&&a.setAttribute("id",n.id),n.attributes)for(var u=0,c=Object.keys(n.attributes);u<c.length;u++){var s=c[u];a.setAttribute(s,n.attributes[s])}if(n.styleSheet&&(r=a,i=n.styleSheet,void 0===o&&(o=window.document),r.styleSheet?r.styleSheet.cssText=i:r.appendChild(o.createTextNode(i))),n.html){if("iframe"===e)throw new Error("Iframe html can not be written unless container provided and iframe in DOM");a.innerHTML=n.html}return a}("iframe",{attributes:i({allowTransparency:"true"},e.attributes||{}),style:i({backgroundColor:"transparent",border:"none"},t),html:e.html,class:e.class}),o=window.navigator.userAgent.match(/MSIE|Edge/i);return r.hasAttribute("id")||r.setAttribute("id",re()),je(r),n&&function(e,n){void 0===n&&(n=document);var t=Le(e,n);if(t)return t;throw new Error("Can not find element: "+he(e))}(n).appendChild(r),(e.url||o)&&r.setAttribute("src",e.url||"about:blank"),r}function ze(e,n,t){return e.addEventListener(n,t),{cancel:function(){e.removeEventListener(n,t)}}}function $e(e){e.style.setProperty("display","")}function Ve(e){e.style.setProperty("display","none","important")}function Ye(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function He(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function Ke(e,n,t){var r=void 0===t?{}:t,i=r.width,o=void 0===i||i,a=r.height,u=void 0===a||a,c=r.interval,s=void 0===c?100:c,d=r.win,l=void 0===d?window:d,f=e.offsetWidth,p=e.offsetHeight,h=!1;n({width:f,height:p});var m,g,v=function(){if(!h&&function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)){var t=e.offsetWidth,r=e.offsetHeight;(o&&t!==f||u&&r!==p)&&n({width:t,height:r}),f=t,p=r}};return l.addEventListener("resize",v),void 0!==l.ResizeObserver?((m=new l.ResizeObserver(v)).observe(e),g=ve(v,10*s)):void 0!==l.MutationObserver?((m=new l.MutationObserver(v)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),g=ve(v,10*s)):g=ve(v,s),{cancel:function(){h=!0,m.disconnect(),window.removeEventListener("resize",v),g.cancel()}}}function Ge(e){for(;e.parentNode;)e=e.parentNode;return"[object ShadowRoot]"===e.toString()}var Ze="undefined"!=typeof document?document.currentScript:null,Je=ce((function(){if(Ze)return Ze;if(Ze=function(){try{var e=function(){try{throw new Error("_")}catch(e){return e.stack||""}}(),n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),t=n&&n[1];if(!t)return;for(var r=0,i=[].slice.call(document.getElementsByTagName("script")).reverse();r<i.length;r++){var o=i[r];if(o.src&&o.src===t)return o}}catch(e){}}())return Ze;throw new Error("Can not determine current script")})),Xe=re();function Qe(e){return"string"==typeof e&&/^[0-9]+%$/.test(e)}function en(e){if("number"==typeof e)return e;var n=e.match(/^([0-9]+)(px|%)$/);if(!n)throw new Error("Could not match css value from "+e);return parseInt(n[1],10)}function nn(e){return en(e)+"px"}function tn(e){return"number"==typeof e?nn(e):Qe(e)?e:nn(e)}function rn(e,n){if("number"==typeof e)return e;if(Qe(e))return parseInt(n*en(e)/100,10);if("string"==typeof(t=e)&&/^[0-9]+px$/.test(t))return en(e);var t;throw new Error("Can not normalize dimension: "+e)}function on(e){void 0===e&&(e=window);var n="__post_robot_10_0_42__";return e!==window?e[n]:e[n]=e[n]||{}}ce((function(){var e;try{e=Je()}catch(e){return Xe}var n=e.getAttribute("data-uid");return n&&"string"==typeof n||(n=e.getAttribute("data-uid-auto"))&&"string"==typeof n||(n=re(),e.setAttribute("data-uid-auto",n)),n}));var an=function(){return{}};function un(e,n){return void 0===e&&(e="store"),void 0===n&&(n=an),Re(on(),e,(function(){var e=n();return{has:function(n){return e.hasOwnProperty(n)},get:function(n,t){return e.hasOwnProperty(n)?e[n]:t},set:function(n,t){return e[n]=t,t},del:function(n){delete e[n]},getOrSet:function(n,t){return Re(e,n,t)},reset:function(){e=n()},keys:function(){return Object.keys(e)}}}))}var cn,sn=function(){};function dn(){var e=on();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new sn,e.WINDOW_WILDCARD}function ln(e,n){return void 0===e&&(e="store"),void 0===n&&(n=an),un("windowStore").getOrSet(e,(function(){var t=new K,r=function(e){return t.getOrSet(e,n)};return{has:function(n){return r(n).hasOwnProperty(e)},get:function(n,t){var i=r(n);return i.hasOwnProperty(e)?i[e]:t},set:function(n,t){return r(n)[e]=t,t},del:function(n){delete r(n)[e]},getOrSet:function(n,t){return Re(r(n),e,t)}}}))}function fn(){return un("instance").getOrSet("instanceID",re)}function pn(e,n){var t=n.domain,r=ln("helloPromises"),i=r.get(e);i&&i.resolve({domain:t});var o=p.resolve({domain:t});return r.set(e,o),o}function hn(e,n){return(0,n.send)(e,"postrobot_hello",{instanceID:fn()},{domain:"*",timeout:-1}).then((function(n){var t=n.origin,r=n.data.instanceID;return pn(e,{domain:t}),{win:e,domain:t,instanceID:r}}))}function mn(e,n){var t=n.send;return ln("windowInstanceIDPromises").getOrSet(e,(function(){return hn(e,{send:t}).then((function(e){return e.instanceID}))}))}function gn(e,n,t){void 0===n&&(n=5e3),void 0===t&&(t="Window");var r=function(e){return ln("helloPromises").getOrSet(e,(function(){return new p}))}(e);return-1!==n&&(r=r.timeout(n,new Error(t+" did not load after "+n+"ms"))),r}function vn(e){ln("knownWindows").set(e,!0)}function yn(e){return"object"==typeof e&&null!==e&&"string"==typeof e.__type__}function wn(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":"function"==typeof e?"function":"object"==typeof e?e instanceof Error?"error":"function"==typeof e.then?"promise":"[object RegExp]"==={}.toString.call(e)?"regex":"[object Date]"==={}.toString.call(e)?"date":"object":"string"==typeof e?"string":"number"==typeof e?"number":"boolean"==typeof e?"boolean":void 0}function In(e,n){return{__type__:e,__val__:n}}var En,bn=((cn={}).function=function(){},cn.error=function(e){return In("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},cn.promise=function(){},cn.regex=function(e){return In("regex",e.source)},cn.date=function(e){return In("date",e.toJSON())},cn.array=function(e){return e},cn.object=function(e){return e},cn.string=function(e){return e},cn.number=function(e){return e},cn.boolean=function(e){return e},cn.null=function(e){return e},cn),xn={},Dn=((En={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},En.error=function(e){var n=e.stack,t=e.code,r=e.data,i=new Error(e.message);return i.code=t,r&&(i.data=r),i.stack=n+"\n\n"+i.stack,i},En.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},En.regex=function(e){return new RegExp(e)},En.date=function(e){return new Date(e)},En.array=function(e){return e},En.object=function(e){return e},En.string=function(e){return e},En.number=function(e){return e},En.boolean=function(e){return e},En.null=function(e){return e},En),Rn={};function An(){return!!W(window).match(/MSIE|trident|edge\/12|edge\/13/i)}function On(e){return!k(window,e)}function Pn(e,n){if(e){if(b()!==B(e))return!0}else if(n&&!x(n))return!0;return!1}function Cn(e){var n=e.win,t=e.domain;return!(!An()||t&&!Pn(t,n)||n&&!On(n))}function _n(e){return"__postrobot_bridge___"+(e=e||B(e)).replace(/[^a-zA-Z0-9]+/g,"_")}function Sn(){return Boolean(window.name&&window.name===_n(b()))}var Mn=new p((function(e){if(window.document&&window.document.body)return e(window.document.body);var n=setInterval((function(){if(window.document&&window.document.body)return clearInterval(n),e(window.document.body)}),10)}));function Wn(e){ln("remoteWindowPromises").getOrSet(e,(function(){return new p}))}function Tn(e){var n=ln("remoteWindowPromises").get(e);if(!n)throw new Error("Remote window promise not found");return n}function Nn(e,n,t){Tn(e).resolve((function(r,i,o){if(r!==e)throw new Error("Remote window does not match window");if(!j(i,n))throw new Error("Remote domain "+i+" does not match domain "+n);t.fireAndForget(o)}))}function Ln(e,n){Tn(e).reject(n).catch(le)}function Un(e){for(var n=e.win,t=e.name,r=e.domain,i=un("popupWindowsByName"),o=ln("popupWindowsByWin"),a=0,u=i.keys();a<u.length;a++){var c=u[a],s=i.get(c);s&&!M(s.win)||i.del(c)}if(M(n))return{win:n,name:t,domain:r};var d=o.getOrSet(n,(function(){return t?i.getOrSet(t,(function(){return{win:n,name:t}})):{win:n}}));if(d.win&&d.win!==n)throw new Error("Different window already linked for window: "+(t||"undefined"));return t&&(d.name=t,i.set(t,d)),r&&(d.domain=r,Wn(n)),o.set(n,d),d}function Fn(e){var n,t=e.on,r=e.send,i=e.receiveMessage;n=window.open,window.open=function(e,t,r,i){var o=n.call(this,$(e),t,r,i);return o?(Un({win:o,name:t,domain:e?B(e):null}),o):o},function(e){var n=e.on,t=e.send,r=e.receiveMessage,i=un("popupWindowsByName");n("postrobot_open_tunnel",(function(e){var o=e.source,a=e.origin,u=e.data,c=un("bridges").get(a);if(!c)throw new Error("Can not find bridge promise for domain "+a);return c.then((function(e){if(o!==e)throw new Error("Message source does not matched registered bridge for domain "+a);if(!u.name)throw new Error("Register window expected to be passed window name");if(!u.sendMessage)throw new Error("Register window expected to be passed sendMessage method");if(!i.has(u.name))throw new Error("Window with name "+u.name+" does not exist, or was not opened by this window");var c=function(){return i.get(u.name)};if(!c().domain)throw new Error("We do not have a registered domain for window "+u.name);if(c().domain!==a)throw new Error("Message origin "+a+" does not matched registered window origin "+(c().domain||"unknown"));return Nn(c().win,a,u.sendMessage),{sendMessage:function(e){if(window&&!window.closed&&c()){var i=c().domain;if(i)try{r({data:e,origin:i,source:c().win},{on:n,send:t})}catch(e){p.reject(e)}}}}}))}))}({on:t,send:r,receiveMessage:i}),function(e){var n=e.send;on(window).openTunnelToParent=function(e){var t=e.name,r=e.source,i=e.canary,o=e.sendMessage,a=un("tunnelWindows"),u=y(window);if(!u)throw new Error("No parent window found to open tunnel to");var c=function(e){var n=e.name,t=e.source,r=e.canary,i=e.sendMessage;!function(){for(var e=un("tunnelWindows"),n=0,t=e.keys();n<t.length;n++){var r=t[n];M(e[r].source)&&e.del(r)}}();var o=re();return un("tunnelWindows").set(o,{name:n,source:t,canary:r,sendMessage:i}),o}({name:t,source:r,canary:i,sendMessage:o});return n(u,"postrobot_open_tunnel",{name:t,sendMessage:function(){var e=a.get(c);if(e&&e.source&&!M(e.source)){try{e.canary()}catch(e){return}e.sendMessage.apply(this,arguments)}}},{domain:"*"})}}({send:r}),function(e){var n=e.on,t=e.send,r=e.receiveMessage;p.try((function(){var e,i=w(window);if(i&&Cn({win:i}))return Wn(i),(e=i,ln("remoteBridgeAwaiters").getOrSet(e,(function(){return p.try((function(){var n=T(e,_n(b()));if(n)return x(n)&&on(D(n))?n:new p((function(e){var t,r;t=setInterval((function(){if(n&&x(n)&&on(D(n)))return clearInterval(t),clearTimeout(r),e(n)}),100),r=setTimeout((function(){return clearInterval(t),e()}),2e3)}))}))}))).then((function(e){return e?window.name?on(D(e)).openTunnelToParent({name:window.name,source:window,canary:function(){},sendMessage:function(e){try{window}catch(e){return}if(window&&!window.closed)try{r({data:e,origin:this.origin,source:this.source},{on:n,send:t})}catch(e){p.reject(e)}}}).then((function(e){var n=e.source,t=e.origin,r=e.data;if(n!==i)throw new Error("Source does not match opener");Nn(n,t,r.sendMessage)})).catch((function(e){throw Ln(i,e),e})):Ln(i,new Error("Can not register with opener: window does not have a name")):Ln(i,new Error("Can not register with opener: no bridge found in opener"))}))}))}({on:t,send:r,receiveMessage:i})}function kn(){for(var e=un("idToProxyWindow"),n=0,t=e.keys();n<t.length;n++){var r=t[n];e.get(r).shouldClean()&&e.del(r)}}function jn(e,n){var t=n.send,r=n.id,i=void 0===r?re():r,o=e.then((function(e){if(x(e))return D(e).name})),a=e.then((function(e){if(M(e))throw new Error("Window is closed, can not determine type");return w(e)?m.POPUP:m.IFRAME}));return o.catch(le),a.catch(le),{id:i,getType:function(){return a},getInstanceID:se((function(){return e.then((function(e){return mn(e,{send:t})}))})),close:function(){return e.then(V)},getName:function(){return e.then((function(e){if(!M(e))return x(e)?D(e).name:o}))},focus:function(){return e.then((function(e){e.focus()}))},isClosed:function(){return e.then((function(e){return M(e)}))},setLocation:function(n){return e.then((function(e){var t=window.location.protocol+"//"+window.location.host;if(0===n.indexOf("/"))n=""+t+n;else if(!n.match(/^https?:\/\//)&&0!==n.indexOf(t))throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(n));if(x(e))try{if(e.location&&"function"==typeof e.location.replace)return void e.location.replace(n)}catch(e){}e.location=n}))},setName:function(n){return e.then((function(e){Un({win:e,name:n});var t=x(e),r=function(e){if(x(e))return D(e).frameElement;for(var n=0,t=document.querySelectorAll("iframe");n<t.length;n++){var r=t[n];if(r&&r.contentWindow&&r.contentWindow===e)return r}}(e);if(!t)throw new Error("Can not set name for cross-domain window: "+n);D(e).name=n,r&&r.setAttribute("name",n),o=p.resolve(n)}))}}}var Bn=function(){function e(e){var n=e.send,t=e.win,r=e.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new p,this.serializedWindow=r||jn(this.actualWindowPromise,{send:n}),un("idToProxyWindow").set(this.getID(),this),t&&this.setWindow(t,{send:n})}var n=e.prototype;return n.getID=function(){return this.serializedWindow.id},n.getType=function(){return this.serializedWindow.getType()},n.isPopup=function(){return this.getType().then((function(e){return e===m.POPUP}))},n.setLocation=function(e){var n=this;return this.serializedWindow.setLocation(e).then((function(){return n}))},n.getName=function(){return this.serializedWindow.getName()},n.setName=function(e){var n=this;return this.serializedWindow.setName(e).then((function(){return n}))},n.close=function(){var e=this;return this.serializedWindow.close().then((function(){return e}))},n.focus=function(){var e=this,n=this.isPopup(),t=this.getName(),r=p.hash({isPopup:n,name:t}).then((function(e){var n=e.name;e.isPopup&&n&&window.open("",n)})),i=this.serializedWindow.focus();return p.all([r,i]).then((function(){return e}))},n.isClosed=function(){return this.serializedWindow.isClosed()},n.getWindow=function(){return this.actualWindow},n.setWindow=function(e,n){var t=n.send;this.actualWindow=e,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=jn(this.actualWindowPromise,{send:t,id:this.getID()}),ln("winToProxyWindow").set(e,this)},n.awaitWindow=function(){return this.actualWindowPromise},n.matchWindow=function(e,n){var t=this,r=n.send;return p.try((function(){return t.actualWindow?e===t.actualWindow:p.hash({proxyInstanceID:t.getInstanceID(),knownWindowInstanceID:mn(e,{send:r})}).then((function(n){var i=n.proxyInstanceID===n.knownWindowInstanceID;return i&&t.setWindow(e,{send:r}),i}))}))},n.unwrap=function(){return this.actualWindow||this},n.getInstanceID=function(){return this.serializedWindow.getInstanceID()},n.shouldClean=function(){return Boolean(this.actualWindow&&M(this.actualWindow))},n.serialize=function(){return this.serializedWindow},e.unwrap=function(n){return e.isProxyWindow(n)?n.unwrap():n},e.serialize=function(n,t){var r=t.send;return kn(),e.toProxyWindow(n,{send:r}).serialize()},e.deserialize=function(n,t){var r=t.send;return kn(),un("idToProxyWindow").get(n.id)||new e({serializedWindow:n,send:r})},e.isProxyWindow=function(e){return Boolean(e&&!z(e)&&e.isProxyWindow)},e.toProxyWindow=function(n,t){var r=t.send;if(kn(),e.isProxyWindow(n))return n;var i=n;return ln("winToProxyWindow").get(i)||new e({win:i,send:r})},e}();function qn(e,n,t,r,i){var o=ln("methodStore"),a=un("proxyWindowMethods");Bn.isProxyWindow(r)?a.set(e,{val:n,name:t,domain:i,source:r}):(a.del(e),o.getOrSet(r,(function(){return{}}))[e]={domain:i,name:t,val:n,source:r})}function zn(e,n){var t=ln("methodStore"),r=un("proxyWindowMethods");return t.getOrSet(e,(function(){return{}}))[n]||r.get(n)}function $n(e,n,t,r,i){var o,a,u;a=(o={on:i.on,send:i.send}).on,u=o.send,un("builtinListeners").getOrSet("functionCalls",(function(){return a("postrobot_method",{domain:"*"},(function(e){var n=e.source,t=e.origin,r=e.data,i=r.id,o=r.name,a=zn(n,i);if(!a)throw new Error("Could not find method '"+o+"' with id: "+r.id+" in "+b(window));var c=a.source,s=a.domain,d=a.val;return p.try((function(){if(!j(s,t))throw new Error("Method '"+r.name+"' domain "+JSON.stringify(De(a.domain)?a.domain.source:a.domain)+" does not match origin "+t+" in "+b(window));if(Bn.isProxyWindow(c))return c.matchWindow(n,{send:u}).then((function(e){if(!e)throw new Error("Method call '"+r.name+"' failed - proxy window does not match source in "+b(window))}))})).then((function(){return d.apply({source:n,origin:t},r.args)}),(function(e){return p.try((function(){if(d.onError)return d.onError(e)})).then((function(){var n;throw e.stack&&(e.stack="Remote call to "+o+"("+(void 0===(n=r.args)&&(n=[]),we(n).map((function(e){return"string"==typeof e?"'"+e+"'":void 0===e?"undefined":null===e?"null":"boolean"==typeof e?e.toString():Array.isArray(e)?"[ ... ]":"object"==typeof e?"{ ... }":"function"==typeof e?"() => { ... }":"<"+typeof e+">"})).join(", ")+") failed\n\n")+e.stack),e}))})).then((function(e){return{result:e,id:i,name:o}}))}))}));var c=t.__id__||re();e=Bn.unwrap(e);var s=t.__name__||t.name||r;return"string"==typeof s&&"function"==typeof s.indexOf&&0===s.indexOf("anonymous::")&&(s=s.replace("anonymous::",r+"::")),Bn.isProxyWindow(e)?(qn(c,t,s,e,n),e.awaitWindow().then((function(e){qn(c,t,s,e,n)}))):qn(c,t,s,e,n),In("cross_domain_function",{id:c,name:s})}function Vn(e,n,t,r){var i,o=r.on,a=r.send;return function(e,n){void 0===n&&(n=xn);var t=JSON.stringify(e,(function(e){var t=this[e];if(yn(this))return t;var r=wn(t);if(!r)return t;var i=n[r]||bn[r];return i?i(t,e):t}));return void 0===t?"undefined":t}(t,((i={}).promise=function(t,r){return function(e,n,t,r,i){return In("cross_domain_zalgo_promise",{then:$n(e,n,(function(e,n){return t.then(e,n)}),r,{on:i.on,send:i.send})})}(e,n,t,r,{on:o,send:a})},i.function=function(t,r){return $n(e,n,t,r,{on:o,send:a})},i.object=function(e){return z(e)||Bn.isProxyWindow(e)?In("cross_domain_window",Bn.serialize(e,{send:a})):e},i))}function Yn(e,n,t,r){var i,o=r.send;return function(e,n){if(void 0===n&&(n=Rn),"undefined"!==e)return JSON.parse(e,(function(e,t){if(yn(this))return t;var r,i;if(yn(t)?(r=t.__type__,i=t.__val__):(r=wn(t),i=t),!r)return i;var o=n[r]||Dn[r];return o?o(i,e):i}))}(t,((i={}).cross_domain_zalgo_promise=function(e){return function(e,n,t){return new p(t.then)}(0,0,e)},i.cross_domain_function=function(t){return function(e,n,t,r){var i=t.id,o=t.name,a=r.send,u=function(t){function r(){var u=arguments;return Bn.toProxyWindow(e,{send:a}).awaitWindow().then((function(e){var c=zn(e,i);if(c&&c.val!==r)return c.val.apply({source:window,origin:b()},u);var s=[].slice.call(u);return t.fireAndForget?a(e,"postrobot_method",{id:i,name:o,args:s},{domain:n,fireAndForget:!0}):a(e,"postrobot_method",{id:i,name:o,args:s},{domain:n,fireAndForget:!1}).then((function(e){return e.data.result}))})).catch((function(e){throw e}))}return void 0===t&&(t={}),r.__name__=o,r.__origin__=n,r.__source__=e,r.__id__=i,r.origin=n,r},c=u();return c.fireAndForget=u({fireAndForget:!0}),c}(e,n,t,{send:o})},i.cross_domain_window=function(e){return Bn.deserialize(e,{send:o})},i))}var Hn={};function Kn(e,n,t,r){var i=r.on,o=r.send;return p.try((function(){var r=ln().getOrSet(e,(function(){return{}}));return r.buffer=r.buffer||[],r.buffer.push(t),r.flush=r.flush||p.flush().then((function(){if(M(e))throw new Error("Window is closed");var t,a=Vn(e,n,((t={}).__post_robot_10_0_42__=r.buffer||[],t),{on:i,send:o});delete r.buffer;for(var u=Object.keys(Hn),c=[],s=0;s<u.length;s++){var d=u[s];try{Hn[d](e,a,n)}catch(e){c.push(e)}}if(c.length===u.length)throw new Error("All post-robot messaging strategies failed:\n\n"+c.map((function(e,n){return n+". "+pe(e)})).join("\n\n"))})),r.flush.then((function(){delete r.flush}))})).then(le)}function Gn(e){return un("responseListeners").get(e)}function Zn(e){un("responseListeners").del(e)}function Jn(e){return un("erroredResponseListeners").has(e)}function Xn(e){var n=e.name,t=e.win,r=e.domain,i=ln("requestListeners");if("*"===t&&(t=null),"*"===r&&(r=null),!n)throw new Error("Name required to get request listener");for(var o=0,a=[t,dn()];o<a.length;o++){var u=a[o];if(u){var c=i.get(u);if(c){var s=c[n];if(s){if(r&&"string"==typeof r){if(s[r])return s[r];if(s.__domain_regex__)for(var d=0,l=s.__domain_regex__;d<l.length;d++){var f=l[d],p=f.listener;if(j(f.regex,r))return p}}if(s["*"])return s["*"]}}}}}function Qn(e,n,t,r){var i=r.on,o=r.send,a=Xn({name:t.name,win:e,domain:n}),u="postrobot_method"===t.name&&t.data&&"string"==typeof t.data.name?t.data.name+"()":t.name;function c(r,a,c){return p.flush().then((function(){if(!t.fireAndForget&&!M(e))try{return Kn(e,n,{id:re(),origin:b(window),type:"postrobot_message_response",hash:t.hash,name:t.name,ack:r,data:a,error:c},{on:i,send:o})}catch(e){throw new Error("Send response message failed for "+u+" in "+b()+"\n\n"+pe(e))}}))}return p.all([p.flush().then((function(){if(!t.fireAndForget&&!M(e))try{return Kn(e,n,{id:re(),origin:b(window),type:"postrobot_message_ack",hash:t.hash,name:t.name},{on:i,send:o})}catch(e){throw new Error("Send ack message failed for "+u+" in "+b()+"\n\n"+pe(e))}})),p.try((function(){if(!a)throw new Error("No handler found for post message: "+t.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!j(a.domain,n))throw new Error("Request origin "+n+" does not match domain "+a.domain.toString());return a.handler({source:e,origin:n,data:t.data})})).then((function(e){return c("success",e)}),(function(e){return c("error",null,e)}))]).then(le).catch((function(e){if(a&&a.handleError)return a.handleError(e);throw e}))}function et(e,n,t){if(!Jn(t.hash)){var r=Gn(t.hash);if(!r)throw new Error("No handler found for post message ack for message: "+t.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!j(r.domain,n))throw new Error("Ack origin "+n+" does not match domain "+r.domain.toString());if(e!==r.win)throw new Error("Ack source does not match registered window")}catch(e){r.promise.reject(e)}r.ack=!0}}function nt(e,n,t){if(!Jn(t.hash)){var r,i=Gn(t.hash);if(!i)throw new Error("No handler found for post message response for message: "+t.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!j(i.domain,n))throw new Error("Response origin "+n+" does not match domain "+(r=i.domain,Array.isArray(r)?"("+r.join(" | ")+")":h(r)?"RegExp("+r.toString():r.toString()));if(e!==i.win)throw new Error("Response source does not match registered window");Zn(t.hash),"error"===t.ack?i.promise.reject(t.error):"success"===t.ack&&i.promise.resolve({source:e,origin:n,data:t.data})}}function tt(e,n){var t=n.on,r=n.send,i=un("receivedMessages");try{if(!window||window.closed||!e.source)return}catch(e){return}var o=e.source,a=e.origin,u=function(e,n,t,r){var i,o=r.on,a=r.send;try{i=Yn(n,t,e,{on:o,send:a})}catch(e){return}if(i&&"object"==typeof i&&null!==i){var u=i.__post_robot_10_0_42__;if(Array.isArray(u))return u}}(e.data,o,a,{on:t,send:r});if(u){vn(o);for(var c=0;c<u.length;c++){var s=u[c];if(i.has(s.id))return;if(i.set(s.id,!0),M(o)&&!s.fireAndForget)return;0===s.origin.indexOf("file:")&&(a="file://");try{"postrobot_message_request"===s.type?Qn(o,a,s,{on:t,send:r}):"postrobot_message_response"===s.type?nt(o,a,s):"postrobot_message_ack"===s.type&&et(o,a,s)}catch(e){setTimeout((function(){throw e}),0)}}}}function rt(e,n,t){if(!e)throw new Error("Expected name");if("function"==typeof(n=n||{})&&(t=n,n={}),!t)throw new Error("Expected handler");(n=n||{}).name=e,n.handler=t||n.handler;var r=n.window,i=n.domain,o=function e(n,t){var r=n.name,i=n.win,o=n.domain,a=ln("requestListeners");if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(Array.isArray(i)){for(var u=[],c=0,s=i;c<s.length;c++)u.push(e({name:r,domain:o,win:s[c]},t));return{cancel:function(){for(var e=0;e<u.length;e++)u[e].cancel()}}}if(Array.isArray(o)){for(var d=[],l=0,f=o;l<f.length;l++)d.push(e({name:r,win:i,domain:f[l]},t));return{cancel:function(){for(var e=0;e<d.length;e++)d[e].cancel()}}}var p=Xn({name:r,win:i,domain:o});if(i&&"*"!==i||(i=dn()),o=o||"*",p)throw i&&o?new Error("Request listener already exists for "+r+" on domain "+o.toString()+" for "+(i===dn()?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+r+" for "+(i===dn()?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+r+" on domain "+o.toString()):new Error("Request listener already exists for "+r);var h,m,g=a.getOrSet(i,(function(){return{}})),v=Re(g,r,(function(){return{}})),y=o.toString();return De(o)?(h=Re(v,"__domain_regex__",(function(){return[]}))).push(m={regex:o,listener:t}):v[y]=t,{cancel:function(){delete v[y],m&&(h.splice(h.indexOf(m,1)),h.length||delete v.__domain_regex__),Object.keys(v).length||delete g[r],i&&!Object.keys(g).length&&a.del(i)}}}({name:e,win:r,domain:i},{handler:n.handler,handleError:n.errorHandler||function(e){throw e},window:r,domain:i||"*",name:e});return{cancel:function(){o.cancel()}}}Hn.postrobot_post_message=function(e,n,t){0===t.indexOf("file:")&&(t="*"),e.postMessage(n,t)},Hn.postrobot_bridge=function(e,n,t){if(!An()&&!Sn())throw new Error("Bridge not needed for browser");if(x(e))throw new Error("Post message through bridge disabled between same domain windows");if(!1!==k(window,e))throw new Error("Can only use bridge to communicate between two different windows, not between frames");!function(e,n,t){var r=N(window,e),i=N(e,window);if(!r&&!i)throw new Error("Can only send messages to and from parent and popup windows");Tn(e).then((function(r){return r(e,n,t)}))}(e,t,n)},Hn.postrobot_global=function(e,n){if(!W(window).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i))throw new Error("Global messaging not needed for browser");if(!x(e))throw new Error("Post message through global disabled between different domain windows");if(!1!==k(window,e))throw new Error("Can only use global to communicate between two different windows, not between frames");var t=on(e);if(!t)throw new Error("Can not find postRobot global on foreign window");t.receiveMessage({source:window,origin:b(),data:n})};var it,ot=function e(n,t,r,i){var o=(i=i||{}).domain||"*",a=i.timeout||-1,u=i.timeout||5e3,c=i.fireAndForget||!1;return p.try((function(){if(function(e,n,t){if(!e)throw new Error("Expected name");if(t&&"string"!=typeof t&&!Array.isArray(t)&&!De(t))throw new TypeError("Can not send "+e+". Expected domain "+JSON.stringify(t)+" to be a string, array, or regex");if(M(n))throw new Error("Can not send "+e+". Target window is closed")}(t,n,o),function(e,n){var t=L(n);if(t)return t===e;if(n===e)return!1;if(P(n)===n)return!1;for(var r=0,i=A(e);r<i.length;r++)if(i[r]===n)return!0;return!1}(window,n))return gn(n,u)})).then((function(t){return function(e,n,t,r){var i=r.send;return p.try((function(){return"string"==typeof n?n:p.try((function(){return t||hn(e,{send:i}).then((function(e){return e.domain}))})).then((function(e){if(!j(n,n))throw new Error("Domain "+he(n)+" does not match "+he(n));return e}))}))}(n,o,(void 0===t?{}:t).domain,{send:e})})).then((function(i){var o=i,u="postrobot_method"===t&&r&&"string"==typeof r.name?r.name+"()":t,s=new p,d=t+"_"+re();if(!c){var l={name:t,win:n,domain:o,promise:s};!function(e,n){un("responseListeners").set(e,n)}(d,l);var f=ln("requestPromises").getOrSet(n,(function(){return[]}));f.push(s),s.catch((function(){!function(e){un("erroredResponseListeners").set(e,!0)}(d),Zn(d)}));var h=function(e){return ln("knownWindows").get(e,!1)}(n)?1e4:2e3,m=a,g=h,v=m,y=ve((function(){return M(n)?s.reject(new Error("Window closed for "+t+" before "+(l.ack?"response":"ack"))):l.cancelled?s.reject(new Error("Response listener was cancelled for "+t)):(g=Math.max(g-500,0),-1!==v&&(v=Math.max(v-500,0)),l.ack||0!==g?0===v?s.reject(new Error("No response for postMessage "+u+" in "+b()+" in "+m+"ms")):void 0:s.reject(new Error("No ack for postMessage "+u+" in "+b()+" in "+h+"ms")))}),500);s.finally((function(){y.cancel(),f.splice(f.indexOf(s,1))})).catch(le)}return Kn(n,o,{id:re(),origin:b(window),type:"postrobot_message_request",hash:d,name:t,data:r,fireAndForget:c},{on:rt,send:e}).then((function(){return c?s.resolve():s}),(function(e){throw new Error("Send request message failed for "+u+" in "+b()+"\n\n"+pe(e))}))}))};function at(e,n,t){return Vn(e,n,t,{on:rt,send:ot})}function ut(e,n,t){return Yn(e,n,t,{on:rt,send:ot})}function ct(e){return Bn.toProxyWindow(e,{send:ot})}function st(e){for(var n=0,t=ln("requestPromises").get(e,[]);n<t.length;n++)t[n].reject(new Error("Window "+(M(e)?"closed":"cleaned up")+" before response")).catch(le)}function dt(e){if(void 0===e&&(e=window),!x(e))throw new Error("Can not get global for window on different domain");return e.__zoid_9_0_63__||(e.__zoid_9_0_63__={}),e.__zoid_9_0_63__}function lt(e){return{get:function(){var n=this;return p.try((function(){if(n.source&&n.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e}))}}}it={setupBridge:Fn,openBridge:function(e,n){var t=un("bridges"),r=un("bridgeFrames");return n=n||B(e),t.getOrSet(n,(function(){return p.try((function(){if(b()===n)throw new Error("Can not open bridge on the same domain as current domain: "+n);var t=_n(n);if(T(window,t))throw new Error("Frame with name "+t+" already exists on page");var i=function(e,n){var t=document.createElement("iframe");return t.setAttribute("name",e),t.setAttribute("id",e),t.setAttribute("style","display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"),t.setAttribute("frameborder","0"),t.setAttribute("border","0"),t.setAttribute("scrolling","no"),t.setAttribute("allowTransparency","true"),t.setAttribute("tabindex","-1"),t.setAttribute("hidden","true"),t.setAttribute("title",""),t.setAttribute("role","presentation"),t.src=n,t}(t,e);return r.set(n,i),Mn.then((function(n){n.appendChild(i);var t=i.contentWindow;return new p((function(e,n){i.addEventListener("load",e),i.addEventListener("error",n)})).then((function(){return gn(t,5e3,"Bridge "+e)})).then((function(){return t}))}))}))}))},linkWindow:Un,linkUrl:function(e,n){Un({win:e,domain:B(n)})},isBridge:Sn,needsBridge:Cn,needsBridgeForBrowser:An,hasBridge:function(e,n){return un("bridges").has(n||B(e))},needsBridgeForWin:On,needsBridgeForDomain:Pn,destroyBridges:function(){for(var e=un("bridges"),n=un("bridgeFrames"),t=0,r=n.keys();t<r.length;t++){var i=n.get(r[t]);i&&i.parentNode&&i.parentNode.removeChild(i)}n.reset(),e.reset()}};var ft={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},pt={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},ht=m,mt={RENDER:"zoid-render",RENDERED:"zoid-rendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};function gt(e,n,t,r,i){if(!e.hasOwnProperty(t))return r;var o=e[t];return"function"==typeof o.childDecorate?o.childDecorate({value:r,uid:i.uid,close:i.close,focus:i.focus,onError:i.onError,onProps:i.onProps,resize:i.resize,getParent:i.getParent,getParentDomain:i.getParentDomain,show:i.show,hide:i.hide}):r}function vt(e){return de(vt,(function(){if(!e)throw new Error("No window name");var n=e.split("__"),t=n[1],r=n[2],i=n[3];if("zoid"!==t)throw new Error("Window not rendered by zoid - got "+t);if(!r)throw new Error("Expected component name");if(!i)throw new Error("Expected encoded payload");try{return JSON.parse(function(e){if("function"==typeof atob)return decodeURIComponent([].map.call(atob(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));if("undefined"!=typeof Buffer)return Buffer.from(e,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(i))}catch(e){throw new Error("Can not decode window name payload: "+i+": "+pe(e))}}),[e])}function yt(){try{return vt(window.name)}catch(e){}}function wt(){return p.try((function(){window.focus()}))}function It(){return p.try((function(){window.close()}))}function Et(e,n,t){return p.try((function(){return"function"==typeof e.queryParam?e.queryParam({value:t}):"string"==typeof e.queryParam?e.queryParam:n}))}function bt(e,n,t){return p.try((function(){return"function"==typeof e.queryValue&&xe(t)?e.queryValue({value:t}):t}))}function xt(e,n,t){void 0===n&&(n={}),void 0===t&&(t=window);var r,o,a,u,c,s=e.propsDef,d=e.containerTemplate,l=e.prerenderTemplate,f=e.tag,h=e.name,m=e.attributes,g=e.dimensions,v=e.autoResize,y=e.url,w=e.domain,I=new p,E=[],R=Ae(),A={},O={visible:!0},P=n.event?n.event:(r={},o={},{on:function(e,n){var t=o[e]=o[e]||[];t.push(n);var r=!1;return{cancel:function(){r||(r=!0,t.splice(t.indexOf(n),1))}}},once:function(e,n){var t=this.on(e,(function(){t.cancel(),n()}));return t},trigger:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=o[e],a=[];if(i)for(var u=function(e){var n=i[e];a.push(p.try((function(){return n.apply(void 0,t)})))},c=0;c<i.length;c++)u(c);return p.all(a).then(le)},triggerOnce:function(e){if(r[e])return p.resolve();r[e]=!0;for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return this.trigger.apply(this,[e].concat(t))},reset:function(){o={}}}),C=n.props?n.props:{},_=n.onError,S=n.getProxyContainer,W=n.show,T=n.hide,N=n.close,L=n.renderContainer,U=n.getProxyWindow,z=n.setProxyWin,Y=n.openFrame,H=n.openPrerenderFrame,K=n.prerender,G=n.open,Z=n.openPrerender,J=n.watchForUnload,X=n.getInternalState,Q=n.setInternalState,ee=function(e){for(var n={},t=0,r=Object.keys(C);t<r.length;t++){var i=r[t],o=s[i];o&&!1===o.sendToChild||o&&o.sameDomain&&!j(e,b(window))||(n[i]=C[i])}return p.hash(n)},ne=function(){return p.try((function(){return X?X():O}))},ie=function(e){return p.try((function(){return Q?Q(e):O=i({},O,e)}))},oe=function(){return U?U():p.try((function(){var e=C.window;if(e){var n=ct(e);return R.register((function(){return e.close()})),n}return new Bn({send:ot})}))},ae=function(e){return S?S(e):p.try((function(){return Ue(e)})).then((function(e){return Ge(e)&&(e=function(e){var n=function(e){var n=function(e){for(;e.parentNode;)e=e.parentNode;if(Ge(e))return e}(e);if(n.host)return n.host}(e);if(!n)throw new Error("Element is not in shadow dom");if(Ge(n))throw new Error("Host element is also in shadow dom");var t="shadow-slot-"+re(),r=document.createElement("slot");r.setAttribute("name",t),e.appendChild(r);var i=document.createElement("div");return i.setAttribute("slot",t),n.appendChild(i),i}(e)),lt(e)}))},ue=function(e){return z?z(e):p.try((function(){a=e}))},se=function(){return W?W():p.hash({setState:ie({visible:!0}),showElement:u?u.get().then($e):null}).then(le)},de=function(){return T?T():p.hash({setState:ie({visible:!1}),showElement:u?u.get().then(Ve):null}).then(le)},ge=function(){return"function"==typeof y?y({props:C}):y},ye=function(){return"function"==typeof m?m({props:C}):m},Ie=function(){return w&&"string"==typeof w?w:B(ge())},Ee=function(){return w&&De(w)?w:Ie()},be=function(e,n){var t=n.windowName;return Y?Y(e,{windowName:t}):p.try((function(){if(e===ht.IFRAME)return lt(qe({attributes:i({name:t,title:h},ye().iframe)}))}))},Re=function(e){return H?H(e):p.try((function(){if(e===ht.IFRAME)return lt(qe({attributes:i({name:"__zoid_prerender_frame__"+h+"_"+re()+"__",title:"prerender__"+h},ye().iframe)}))}))},Oe=function(e,n,t){return Z?Z(e,n,t):p.try((function(){if(e===ht.IFRAME){if(!t)throw new Error("Expected proxy frame to be passed");return t.get().then((function(e){return R.register((function(){return Ye(e)})),Be(e).then((function(e){return D(e)})).then((function(e){return ct(e)}))}))}if(e===ht.POPUP)return n;throw new Error("No render context available for "+e)}))},Pe=function(){return p.try((function(){if(a)return p.all([P.trigger(mt.FOCUS),a.focus()]).then(le)}))},Ce=function(e,n,t,r){if(n===b(window)){var i=dt(window);return i.windows=i.windows||{},i.windows[t]=window,R.register((function(){delete i.windows[t]})),{type:"global",uid:t}}return r===ht.POPUP?{type:"opener"}:{type:"parent",distance:F(window)}},_e=function(e){return p.try((function(){c=e,I.resolve(),R.register((function(){return e.close.fireAndForget().catch(le)}))}))},Se=function(e){var n=e.width,t=e.height;return p.try((function(){P.trigger(mt.RESIZE,{width:n,height:t})}))},Me=function(e){return p.try((function(){return P.trigger(mt.DESTROY)})).catch(le).then((function(){return R.all(e)})).then((function(){I.asyncReject(e||new Error("Component destroyed"))}))},Ne=ce((function(e){return p.try((function(){if(N){if(M(N.__source__))return;return N()}return p.try((function(){return P.trigger(mt.CLOSE)})).then((function(){return Me(e||new Error("Component closed"))}))}))})),Fe=function(e,n){var t=n.proxyWin,r=n.proxyFrame,o=n.windowName;return G?G(e,{proxyWin:t,proxyFrame:r,windowName:o}):p.try((function(){if(e===ht.IFRAME){if(!r)throw new Error("Expected proxy frame to be passed");return r.get().then((function(e){return Be(e).then((function(n){return R.register((function(){return Ye(e)})),R.register((function(){return st(n)})),n}))}))}if(e===ht.POPUP){var n=g.width,t=g.height;n=rn(n,window.outerWidth),t=rn(t,window.outerWidth);var a=function(e,n){var t=(n=n||{}).width,r=n.height,o=0,a=0;t&&(window.outerWidth?a=Math.round((window.outerWidth-t)/2)+window.screenX:window.screen.width&&(a=Math.round((window.screen.width-t)/2))),r&&(window.outerHeight?o=Math.round((window.outerHeight-r)/2)+window.screenY:window.screen.height&&(o=Math.round((window.screen.height-r)/2))),t&&r&&(n=i({top:o,left:a,width:t,height:r,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1},n));var u=n.name||"";delete n.name;var c,s=Object.keys(n).map((function(e){if(null!=n[e])return e+"="+he(n[e])})).filter(Boolean).join(",");try{c=window.open("",u,s,!0)}catch(e){throw new ke("Can not open popup window - "+(e.stack||e.message))}if(M(c))throw new ke("Can not open popup window - blocked");return window.addEventListener("unload",(function(){return c.close()})),c}(0,i({name:o,width:n,height:t},ye().popup));return R.register((function(){return V(a)})),R.register((function(){return st(a)})),a}throw new Error("No render context available for "+e)})).then((function(e){return t.setWindow(e,{send:ot}),t}))},je=function(){return p.try((function(){var e=ze(window,"unload",fe((function(){Me(new Error("Window navigated away"))}))),n=q(t,Me,3e3);if(R.register(n.cancel),R.register(e.cancel),J)return J()}))},Ze=function(e){var n=!1;return e.isClosed().then((function(t){return t?(n=!0,Ne(new Error("Detected component window close"))):p.delay(200).then((function(){return e.isClosed()})).then((function(e){if(e)return n=!0,Ne(new Error("Detected component window close"))}))})).then((function(){return n}))},Je=function(e){return _?_(e):p.try((function(){if(-1===E.indexOf(e))return E.push(e),I.asyncReject(e),P.trigger(mt.ERROR,e)}))};_e.onError=Je;var Xe=function(e,n){return e({container:n.container,context:n.context,uid:n.uid,doc:n.doc,frame:n.frame,prerenderFrame:n.prerenderFrame,focus:Pe,close:Ne,state:A,props:C,tag:f,dimensions:g,event:P})},Qe=function(e,n){var t=n.context,r=n.uid;return K?K(e,{context:t,uid:r}):p.try((function(){if(l){var n=e.getWindow();if(n&&x(n)&&function(e){try{if(!e.location.href)return!0;if("about:blank"===e.location.href)return!0}catch(e){}return!1}(n)){var i=(n=D(n)).document,o=Xe(l,{context:t,uid:r,doc:i});if(o){if(o.ownerDocument!==i)throw new Error("Expected prerender template to have been created with document from child window");!function(e,n){var t=n.tagName.toLowerCase();if("html"!==t)throw new Error("Expected element to be html, got "+t);for(var r=e.document.documentElement,i=0,o=we(r.children);i<o.length;i++)r.removeChild(o[i]);for(var a=0,u=we(n.children);a<u.length;a++)r.appendChild(u[a])}(n,o);var a=v.width,u=void 0!==a&&a,c=v.height,s=void 0!==c&&c,d=v.element,f=void 0===d?"body":d;if((f=Le(f,i))&&(u||s)){var p=Ke(f,(function(e){Se({width:u?e.width:void 0,height:s?e.height:void 0})}),{width:u,height:s,win:n});P.on(mt.RENDERED,p.cancel)}}}}}))},en=function(e,n){var t=n.proxyFrame,r=n.proxyPrerenderFrame,i=n.context,o=n.uid;return L?L(e,{proxyFrame:t,proxyPrerenderFrame:r,context:i,uid:o}):p.hash({container:e.get(),frame:t?t.get():null,prerenderFrame:r?r.get():null,internalState:ne()}).then((function(e){var n=e.container,t=e.internalState.visible,r=Xe(d,{context:i,uid:o,container:n,frame:e.frame,prerenderFrame:e.prerenderFrame,doc:document});if(r){t||Ve(r),Te(n,r);var a=function(e,n){n=fe(n);var t,r,i,o=!1,a=[],u=function(){o=!0;for(var e=0;e<a.length;e++)a[e].disconnect();t&&t.cancel(),i&&i.removeEventListener("unload",c),r&&Ye(r)},c=function(){o||(n(),u())};if(He(e))return c(),{cancel:u};if(window.MutationObserver)for(var s=e.parentElement;s;){var d=new window.MutationObserver((function(){He(e)&&c()}));d.observe(s,{childList:!0}),a.push(d),s=s.parentElement}return(r=document.createElement("iframe")).setAttribute("name","__detect_close_"+re()+"__"),r.style.display="none",Be(r).then((function(e){(i=D(e)).addEventListener("unload",c)})),e.appendChild(r),t=ve((function(){He(e)&&c()}),1e3),{cancel:u}}(r,(function(){return Ne(new Error("Detected container element removed from DOM"))}));return R.register((function(){return a.cancel()})),R.register((function(){return Ye(r)})),u=lt(r)}}))},nn=function(){return{state:A,event:P,close:Ne,focus:Pe,resize:Se,onError:Je,updateProps:on,show:se,hide:de}},tn=function(e,n){void 0===n&&(n=!1);var t=nn();!function(e,n,t,r,i){void 0===i&&(i=!1),me(n,t=t||{});for(var o=i?[]:[].concat(Object.keys(e)),a=0,u=Object.keys(t);a<u.length;a++){var c=u[a];-1===o.indexOf(c)&&o.push(c)}for(var s=[],d=r.state,l=r.close,f=r.focus,p=r.event,h=r.onError,m=0;m<o.length;m++){var g=o[m],v=e[g],y=t[g];if(v){var w=v.alias;if(w&&(!xe(y)&&xe(t[w])&&(y=t[w]),s.push(w)),v.value&&(y=v.value({props:n,state:d,close:l,focus:f,event:p,onError:h})),!xe(y)&&v.default&&(y=v.default({props:n,state:d,close:l,focus:f,event:p,onError:h})),xe(y)&&("array"===v.type?!Array.isArray(y):typeof y!==v.type))throw new TypeError("Prop is not of type "+v.type+": "+g);n[g]=y}}for(var I=0;I<s.length;I++)delete n[s[I]];for(var E=0,b=Object.keys(n);E<b.length;E++){var x=b[E],D=e[x],R=n[x];D&&xe(R)&&D.decorate&&(n[x]=D.decorate({value:R,props:n,state:d,close:l,focus:f,event:p,onError:h}))}for(var A=0,O=Object.keys(e);A<O.length;A++){var P=O[A];if(!1!==e[P].required&&!xe(n[P]))throw new Error('Expected prop "'+P+'" to be defined')}}(s,C,e,t,n)},on=function(e){return tn(e,!0),I.then((function(){var e=c,n=a;if(e&&n)return ee(Ee()).then((function(t){return e.updateProps(t).catch((function(e){return Ze(n).then((function(n){if(!n)throw e}))}))}))}))};return{init:function(){P.on(mt.RENDER,(function(){return C.onRender()})),P.on(mt.DISPLAY,(function(){return C.onDisplay()})),P.on(mt.RENDERED,(function(){return C.onRendered()})),P.on(mt.CLOSE,(function(){return C.onClose()})),P.on(mt.DESTROY,(function(){return C.onDestroy()})),P.on(mt.RESIZE,(function(){return C.onResize()})),P.on(mt.FOCUS,(function(){return C.onFocus()})),P.on(mt.PROPS,(function(e){return C.onProps(e)})),P.on(mt.ERROR,(function(e){return C&&C.onError?C.onError(e):I.reject(e).then((function(){setTimeout((function(){throw e}),1)}))})),R.register(P.reset)},render:function(n,t,r){return p.try((function(){var i="zoid-"+f+"-"+re(),o=Ee(),u=Ie();!function(e,n,t){if(e!==window){if(!k(window,e))throw new Error("Can only renderTo an adjacent frame");var r=b();if(!j(n,r)&&!x(e))throw new Error("Can not render remotely to "+n.toString()+" - can only render to "+r);if(t&&"string"!=typeof t)throw new Error("Container passed to renderTo must be a string selector, got "+typeof t+" }")}}(n,o,t);var c=p.try((function(){if(n!==window)return function(e,n){for(var t={},r=0,i=Object.keys(C);r<i.length;r++){var o=i[r],a=s[o];a&&a.allowDelegate&&(t[o]=C[o])}var u=ot(n,"zoid_delegate_"+h,{overrides:{props:t,event:P,close:Ne,onError:Je,getInternalState:ne,setInternalState:ie}}).then((function(e){var t=e.data.parent;return R.register((function(e){if(!M(n))return t.destroy(e)})),t.getDelegateOverrides()})).catch((function(e){throw new Error("Unable to delegate rendering. Possibly the component is not loaded in the target window.\n\n"+pe(e))}));return S=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.getProxyContainer.apply(e,n)}))},L=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.renderContainer.apply(e,n)}))},W=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.show.apply(e,n)}))},T=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.hide.apply(e,n)}))},J=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.watchForUnload.apply(e,n)}))},e===ht.IFRAME?(U=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.getProxyWindow.apply(e,n)}))},Y=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.openFrame.apply(e,n)}))},H=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.openPrerenderFrame.apply(e,n)}))},K=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.prerender.apply(e,n)}))},G=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.open.apply(e,n)}))},Z=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.openPrerender.apply(e,n)}))}):e===ht.POPUP&&(z=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.setProxyWin.apply(e,n)}))}),u}(r,n)})),d=C.window,l=je(),m=function(e,n){var t={},r=Object.keys(n);return p.all(r.map((function(r){var i=e[r];if(i)return p.resolve().then((function(){var e=n[r];if(e&&i.queryParam)return e})).then((function(e){if(null!=e)return p.all([Et(i,r,e),bt(i,0,e)]).then((function(e){var n,o=e[0],a=e[1];if("boolean"==typeof a)n=a.toString();else if("string"==typeof a)n=a.toString();else if("object"==typeof a&&null!==a){if(i.serialization===pt.JSON)n=JSON.stringify(a);else if(i.serialization===pt.BASE64)n=btoa(JSON.stringify(a));else if(i.serialization===pt.DOTIFY||!i.serialization){n=function e(n,t,r){for(var i in void 0===t&&(t=""),void 0===r&&(r={}),t=t?t+".":t,n)n.hasOwnProperty(i)&&null!=n[i]&&"function"!=typeof n[i]&&(n[i]&&Array.isArray(n[i])&&n[i].length&&n[i].every((function(e){return"object"!=typeof e}))?r[""+t+i+"[]"]=n[i].join(","):n[i]&&"object"==typeof n[i]?r=e(n[i],""+t+i,r):r[""+t+i]=n[i].toString());return r}(a,r);for(var u=0,c=Object.keys(n);u<c.length;u++){var s=c[u];t[s]=n[s]}return}}else"number"==typeof a&&(n=a.toString());t[o]=n}))}))}))).then((function(){return t}))}(s,C).then((function(e){return function(e,n){var t,r,i=n.query||{},o=n.hash||{},a=e.split("#");r=a[1];var u=(t=a[0]).split("?");t=u[0];var c=We(u[1],i),s=We(r,o);return c&&(t=t+"?"+c),s&&(t=t+"#"+s),t}($(ge()),{query:e})})),g=P.trigger(mt.RENDER),v=ae(t),y=oe(),w=y.then((function(e){return function(e){var n=void 0===e?{}:e,t=n.proxyWin,r=n.childDomain,i=n.domain,o=(void 0===n.target&&window,n.context),a=n.uid;return function(e,n,t,r){return ee(t).then((function(i){var o=at(e,t,i),a=n===b()?{type:"uid",uid:r}:{type:"raw",value:o};if("uid"===a.type){var u=dt(window);u.props=u.props||{},u.props[r]=o,R.register((function(){delete u.props[r]}))}return a}))}(t,r,i,a).then((function(e){return{uid:a,context:o,tag:f,version:"9_0_63",childDomain:r,parentDomain:b(window),parent:Ce(0,r,a,o),props:e,exports:at(t,i,(n=t,{init:_e,close:Ne,checkClose:function(){return Ze(n)},resize:Se,onError:Je,show:se,hide:de}))};var n}))}({proxyWin:(t={proxyWin:e,childDomain:u,domain:o,target:n,context:r,uid:i}).proxyWin,childDomain:t.childDomain,domain:t.domain,target:t.target,context:t.context,uid:t.uid}).then((function(e){return"__zoid__"+h+"__"+te(JSON.stringify(e))+"__"}));var t})),E=w.then((function(e){return be(r,{windowName:e})})),D=Re(r),A=p.hash({proxyContainer:v,proxyFrame:E,proxyPrerenderFrame:D}).then((function(e){return en(e.proxyContainer,{context:r,uid:i,proxyFrame:e.proxyFrame,proxyPrerenderFrame:e.proxyPrerenderFrame})})).then((function(e){return e})),O=p.hash({windowName:w,proxyFrame:E,proxyWin:y}).then((function(e){var n=e.proxyWin;return d?n:Fe(r,{windowName:e.windowName,proxyWin:n,proxyFrame:e.proxyFrame})})),_=p.hash({proxyWin:O,proxyPrerenderFrame:D}).then((function(e){return Oe(r,e.proxyWin,e.proxyPrerenderFrame)})),N=O.then((function(e){return a=e,ue(e)})),F=p.hash({proxyPrerenderWin:_,state:N}).then((function(e){return Qe(e.proxyPrerenderWin,{context:r,uid:i})})),q=p.hash({proxyWin:O,windowName:w}).then((function(e){if(d)return e.proxyWin.setName(e.windowName)})),V=p.hash({proxyWin:O,builtUrl:m,windowName:q,prerender:F}).then((function(e){return e.proxyWin.setLocation(e.builtUrl)})),X=O.then((function(e){!function e(n,t){var r=!1;return R.register((function(){r=!0})),p.delay(2e3).then((function(){return n.isClosed()})).then((function(i){return i?Ne(new Error("Detected "+t+" close")):r?void 0:e(n,t)}))}(e,r)})),Q=p.hash({container:A,prerender:F}).then((function(){return P.trigger(mt.DISPLAY)})),ce=O.then((function(n){return function(n,t,r){return p.try((function(){return n.awaitWindow()})).then((function(n){if(it&&it.needsBridge({win:n,domain:t})&&!it.hasBridge(t,t)){var i="function"==typeof e.bridgeUrl?e.bridgeUrl({props:C}):e.bridgeUrl;if(!i)throw new Error("Bridge needed to render "+r);var o=B(i);return it.linkUrl(n,t),it.openBridge($(i),o)}}))}(n,u,r)})),le=V.then((function(){return p.try((function(){var e=C.timeout;if(e)return I.timeout(e,new Error("Loading component timed out after "+e+" milliseconds"))}))})),fe=I.then((function(){return P.trigger(mt.RENDERED)}));return p.hash({initPromise:I,buildUrlPromise:m,onRenderPromise:g,getProxyContainerPromise:v,openFramePromise:E,openPrerenderFramePromise:D,renderContainerPromise:A,openPromise:O,openPrerenderPromise:_,setStatePromise:N,prerenderPromise:F,loadUrlPromise:V,buildWindowNamePromise:w,setWindowNamePromise:q,watchForClosePromise:X,onDisplayPromise:Q,openBridgePromise:ce,runTimeoutPromise:le,onRenderedPromise:fe,delegatePromise:c,watchForUnloadPromise:l})})).catch((function(e){return p.all([Je(e),Me(e)]).then((function(){throw e}),(function(){throw e}))})).then(le)},destroy:Me,setProps:tn,getHelpers:nn,getDelegateOverrides:function(){return p.try((function(){return{getProxyContainer:ae,show:se,hide:de,renderContainer:en,getProxyWindow:oe,watchForUnload:je,openFrame:be,openPrerenderFrame:Re,prerender:Qe,open:Fe,openPrerender:Oe,setProxyWin:ue}}))}}}var Dt={register:function(e,n,t,i){var o=i.React,a=i.ReactDOM;return function(e){function n(){return e.apply(this,arguments)||this}r(n,e);var i=n.prototype;return i.render=function(){return o.createElement("div",null)},i.componentDidMount=function(){var e=a.findDOMNode(this),n=t(me({},this.props));n.render(e,ht.IFRAME),this.setState({parent:n})},i.componentDidUpdate=function(){this.state&&this.state.parent&&this.state.parent.updateProps(me({},this.props)).catch(le)},n}(o.Component)}},Rt={register:function(e,n,t,r){return r.component(e,{render:function(e){return e("div")},inheritAttrs:!1,mounted:function(){var e=this.$el;this.parent=t(i({},this.$attrs)),this.parent.render(e,ht.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(i({},this.$attrs)).catch(le)},deep:!0}}})}},At={register:function(e,n,t,r){return r.module(e,[]).directive(e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()})),(function(){for(var e={},r=0,i=Object.keys(n);r<i.length;r++)e[i[r]]="=";return e.props="=",{scope:e,restrict:"E",controller:["$scope","$element",function(e,n){function r(){if("$apply"!==e.$root.$$phase&&"$digest"!==e.$root.$$phase)try{e.$apply()}catch(e){}}var i=function(){return be(e.props,(function(e){return"function"==typeof e?function(){var n=e.apply(this,arguments);return r(),n}:e}))},o=t(i());o.render(n[0],ht.IFRAME),e.$watch((function(){o.updateProps(i()).catch(le)}))}]}}))}},Ot={register:function(e,n,t,r){var o=r.NgModule,a=r.ElementRef,u=r.NgZone,c=function(e){return be(i({},e.internalProps,e.props),(function(n){return"function"==typeof n?function(){var t=arguments,r=this;return e.zone.run((function(){return n.apply(r,t)}))}:n}))},s=(0,r.Component)({selector:e,template:"<div></div>",inputs:["props"]}).Class({constructor:[a,u,function(e,n){this._props={},this.elementRef=e,this.zone=n}],ngOnInit:function(){var e=this.elementRef.nativeElement;this.parent=t(c(this)),this.parent.render(e,ht.IFRAME)},ngDoCheck:function(){this.parent&&!function(e,n){var t={};for(var r in e)if(e.hasOwnProperty(r)&&(t[r]=!0,e[r]!==n[r]))return!1;for(var i in n)if(!t[i])return!1;return!0}(this._props,this.props)&&(this._props=i({},this.props),this.parent.updateProps(c(this)))}});return o({declarations:[s],exports:[s]}).Class({constructor:function(){}})}};function Pt(e){var n=e.uid,t=e.frame,r=e.prerenderFrame,i=e.doc,o=e.props,a=e.event,u=e.dimensions,c=u.width,s=u.height;if(t&&r){var d=i.createElement("div");d.setAttribute("id",n);var l=i.createElement("style");return o.cspNonce&&l.setAttribute("nonce",o.cspNonce),l.appendChild(i.createTextNode("\n            #"+n+" {\n                display: inline-block;\n                position: relative;\n                width: "+c+";\n                height: "+s+";\n            }\n\n            #"+n+" > iframe {\n                display: inline-block;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n                transition: opacity .2s ease-in-out;\n            }\n\n            #"+n+" > iframe.zoid-invisible {\n                opacity: 0;\n            }\n\n            #"+n+" > iframe.zoid-visible {\n                opacity: 1;\n        }\n        ")),d.appendChild(t),d.appendChild(r),d.appendChild(l),r.classList.add("zoid-visible"),t.classList.add("zoid-invisible"),a.on(mt.RENDERED,(function(){r.classList.remove("zoid-visible"),r.classList.add("zoid-invisible"),t.classList.remove("zoid-invisible"),t.classList.add("zoid-visible"),setTimeout((function(){Ye(r)}),1)})),a.on(mt.RESIZE,(function(e){var n=e.width,t=e.height;"number"==typeof n&&(d.style.width=tn(n)),"number"==typeof t&&(d.style.height=tn(t))})),d}}function Ct(e){var n=e.doc,t=e.props,r=n.createElement("html"),i=n.createElement("body"),o=n.createElement("style"),a=n.createElement("div");return a.classList.add("spinner"),t.cspNonce&&o.setAttribute("nonce",t.cspNonce),r.appendChild(i),i.appendChild(a),i.appendChild(o),o.appendChild(n.createTextNode("\n            html, body {\n                width: 100%;\n                height: 100%;\n            }\n\n            .spinner {\n                position: fixed;\n                max-height: 60vmin;\n                max-width: 60vmin;\n                height: 40px;\n                width: 40px;\n                top: 50%;\n                left: 50%;\n                box-sizing: border-box;\n                border: 3px solid rgba(0, 0, 0, .2);\n                border-top-color: rgba(33, 128, 192, 0.8);\n                border-radius: 100%;\n                animation: rotation .7s infinite linear;\n            }\n\n            @keyframes rotation {\n                from {\n                    transform: translateX(-50%) translateY(-50%) rotate(0deg);\n                }\n                to {\n                    transform: translateX(-50%) translateY(-50%) rotate(359deg);\n                }\n            }\n        ")),r}var _t=function(){return le},St=function(e){return fe(e.value)},Mt=Ae(),Wt=Ae();function Tt(e){var n,t,r=function(e){var n=e.tag,t=e.url,r=e.domain,o=e.bridgeUrl,a=e.props,u=void 0===a?{}:a,c=e.dimensions,s=void 0===c?{}:c,d=e.autoResize,l=void 0===d?{}:d,f=e.allowedParentDomains,p=void 0===f?"*":f,h=e.attributes,m=void 0===h?{}:h,g=e.defaultContext,v=void 0===g?ht.IFRAME:g,y=e.containerTemplate,w=void 0===y?Pt:y,I=e.prerenderTemplate,E=void 0===I?Ct:I,b=e.validate,D=e.eligible,R=void 0===D?function(){return{eligible:!0}}:D,A=e.logger,O=void 0===A?{info:le}:A,P=n.replace(/-/g,"_"),C=s.width,_=void 0===C?"300px":C,S=s.height,W=void 0===S?"150px":S;if(u=i({},{window:{type:"object",sendToChild:!1,required:!1,allowDelegate:!0,validate:function(e){var n=e.value;if(!z(n)&&!Bn.isProxyWindow(n))throw new Error("Expected Window or ProxyWindow");if(z(n)){if(M(n))throw new Error("Window is closed");if(!x(n))throw new Error("Window is not same domain")}},decorate:function(e){return ct(e.value)}},timeout:{type:"number",required:!1,sendToChild:!1},close:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.close}},focus:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.focus}},resize:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.resize}},uid:{type:"string",required:!1,sendToChild:!1,childDecorate:function(e){return e.uid}},cspNonce:{type:"string",required:!1},getParent:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.getParent}},getParentDomain:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.getParentDomain}},show:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.show}},hide:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.hide}},onDisplay:{type:"function",required:!1,sendToChild:!1,allowDelegate:!0,default:_t,decorate:St},onRendered:{type:"function",required:!1,sendToChild:!1,default:_t,decorate:St},onRender:{type:"function",required:!1,sendToChild:!1,default:_t,decorate:St},onClose:{type:"function",required:!1,sendToChild:!1,allowDelegate:!0,default:_t,decorate:St},onDestroy:{type:"function",required:!1,sendToChild:!1,allowDelegate:!0,default:_t,decorate:St},onResize:{type:"function",required:!1,sendToChild:!1,allowDelegate:!0,default:_t},onFocus:{type:"function",required:!1,sendToChild:!1,allowDelegate:!0,default:_t},onError:{type:"function",required:!1,sendToChild:!1,childDecorate:function(e){return e.onError}},onProps:{type:"function",required:!1,sendToChild:!1,default:_t,childDecorate:function(e){return e.onProps}}},u),!w)throw new Error("Container template required");return{name:P,tag:n,url:t,domain:r,bridgeUrl:o,propsDef:u,dimensions:{width:_,height:W},autoResize:l,allowedParentDomains:p,attributes:m,defaultContext:v,containerTemplate:w,prerenderTemplate:E,validate:b,logger:O,eligible:R}}(e),o=r.name,a=r.tag,u=r.defaultContext,c=r.propsDef,s=r.eligible,d=dt(),l={},f=[],h=function(){var e=yt();return Boolean(e&&e.tag===a&&e.childDomain===b())},m=ce((function(){if(h()){if(window.xprops)throw delete d.components[a],new Error("Can not register "+o+" as child - child already registered");var e=function(e){var n,t=e.propsDef,r=e.autoResize,i=e.allowedParentDomains,o=[],a=yt();if(!a)throw new Error("No child payload found");if("9_0_63"!==a.version)throw new Error("Parent window has zoid version "+a.version+", child window has version 9_0_63");var u=a.uid,c=a.parentDomain,s=a.exports,d=a.context,l=a.props,f=function(e){var n,t,r=e.type;if("opener"===r)return Oe("opener",w(window));if("parent"===r&&"number"==typeof e.distance)return Oe("parent",(n=window,void 0===(t=e.distance)&&(t=1),function(e,n){void 0===n&&(n=1);for(var t=e,r=0;r<n;r++){if(!t)return;t=y(t)}return t}(n,F(n)-t)));if("global"===r&&e.uid&&"string"==typeof e.uid){var i=e.uid,o=L(window);if(!o)throw new Error("Can not find ancestor window");for(var a=0,u=C(o);a<u.length;a++){var c=u[a];if(x(c)){var s=dt(c);if(s&&s.windows&&s.windows[i])return s.windows[i]}}}throw new Error("Unable to find "+r+" parent component window")}(a.parent),h=ut(f,c,s),m=h.show,g=h.hide,v=h.close,I=function(){return f},E=function(){return c},D=function(e){o.push(e)},R=function(e){return p.try((function(){if(h&&h.onError)return h.onError(e);throw e}))},A=function(e){return h.resize.fireAndForget({width:e.width,height:e.height})},O=function(e,r,i){void 0===i&&(i=!1);var a=function(e,n,t,r,i,o){void 0===o&&(o=!1);for(var a={},u=0,c=Object.keys(t);u<c.length;u++){var s=c[u],d=n[s];if(!d||!d.sameDomain||r===b(window)&&x(e)){var l=gt(n,0,s,t[s],i);a[s]=l,d&&d.alias&&!a[d.alias]&&(a[d.alias]=l)}}if(!o)for(var f=0,p=Object.keys(n);f<p.length;f++){var h=p[f];t.hasOwnProperty(h)||(a[h]=gt(n,0,h,void 0,i))}return a}(f,t,e,r,{show:m,hide:g,close:v,focus:wt,onError:R,resize:A,onProps:D,getParent:I,getParentDomain:E,uid:u},i);n?me(n,a):n=a;for(var c=0;c<o.length;c++)(0,o[c])(n)},P=function(e){return p.try((function(){return O(e,c,!0)}))};return{init:function(){return p.try((function(){return function(e,n){if(!j(e,n))throw new Error("Can not be rendered by domain: "+n)}(i,c),vn(f),window.addEventListener("beforeunload",(function(){h.checkClose.fireAndForget()})),window.addEventListener("unload",(function(){h.checkClose.fireAndForget()})),q(f,(function(){It()})),h.init({updateProps:P,close:It})})).then((function(){return(e=r.width,n=void 0!==e&&e,t=r.height,i=void 0!==t&&t,o=r.element,Ue(void 0===o?"body":o).catch(le).then((function(e){return{width:n,height:i,element:e}}))).then((function(e){var n=e.width,t=e.height,r=e.element;r&&(n||t)&&d!==ht.POPUP&&Ke(r,(function(e){A({width:n?e.width:void 0,height:t?e.height:void 0})}),{width:n,height:t})}));var e,n,t,i,o})).catch((function(e){R(e)}))},getProps:function(){return n||(O(function(e,n,t){var r,i=t.type,o=t.uid;if("raw"===i)r=t.value;else if("uid"===i){if(!x(e))throw new Error("Parent component window is on a different domain - expected "+b()+" - can not retrieve props");var a=dt(e);r=Oe("props",a&&a.props[o])}if(!r)throw new Error("Could not find props");return ut(e,n,r)}(f,c,l),c),n)}}}(r);return e.init(),e}})),g=function e(n){var t,a=s({props:n=n||{}}),c=a.eligible,d=a.reason,l=n.onDestroy;n.onDestroy=function(){if(t&&c&&f.splice(f.indexOf(t),1),l)return l.apply(void 0,arguments)};var h=xt(r);h.init(),c?h.setProps(n):n.onDestroy&&n.onDestroy(),Mt.register((function(e){h.destroy(e||new Error("zoid destroyed all components"))}));var m=function(e,t,r){return p.try((function(){if(!c){var t=new Error(d||o+" component is not eligible");return h.destroy(t).then((function(){throw t}))}if(!z(e))throw new Error("Must pass window to renderTo");return function(e,n){return p.try((function(){if(e.window)return ct(e.window).getType();if(n){if(n!==ht.IFRAME&&n!==ht.POPUP)throw new Error("Unrecognized context: "+n);return n}return u}))}(n,r)})).then((function(n){return t=function(e,n){if(n){if("string"!=typeof n&&!Ne(n))throw new TypeError("Expected string or element selector to be passed");return n}if(e===ht.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(n,t),h.render(e,t,n)})).catch((function(e){return h.destroy(e).then((function(){throw e}))}))};return t=i({},h.getHelpers(),{isEligible:function(){return c},clone:function(t){var r=(void 0===t?{}:t).decorate;return e((void 0===r?ge:r)(n))},render:function(e,n){return m(window,e,n)},renderTo:function(e,n,t){return m(e,n,t)}}),c&&f.push(t),t};if(m(),n=rt("zoid_allow_delegate_"+o,(function(){return!0})),t=rt("zoid_delegate_"+o,(function(e){return{parent:xt(r,e.data.overrides,e.source)}})),Wt.register(n.cancel),Wt.register(t.cancel),d.components=d.components||{},d.components[a])throw new Error("Can not register multiple components with the same tag: "+a);return d.components[a]=!0,{init:g,instances:f,driver:function(e,n){var t={react:Dt,angular:At,vue:Rt,angular2:Ot};if(!t[e])throw new Error("Could not find driver for framework: "+e);return l[e]||(l[e]=t[e].register(a,c,g,n)),l[e]},isChild:h,canRenderTo:function(e){return ot(e,"zoid_allow_delegate_"+o).then((function(e){return e.data})).catch((function(){return!1}))},registerChild:m}}function Nt(e){!function(){var e,n,t,r;on().initialized||(on().initialized=!0,n=(e={on:rt,send:ot}).on,t=e.send,(r=on()).receiveMessage=r.receiveMessage||function(e){return tt(e,{on:n,send:t})},function(e){var n=e.on,t=e.send;un().getOrSet("postMessageListener",(function(){return ze(window,"message",(function(e){!function(e,n){var t=n.on,r=n.send;p.try((function(){var n=e.source||e.sourceElement,i=e.origin||e.originalEvent&&e.originalEvent.origin,o=e.data;if("null"===i&&(i="file://"),n){if(!i)throw new Error("Post message did not have origin domain");tt({source:n,origin:i,data:o},{on:t,send:r})}}))}(e,{on:n,send:t})}))}))}({on:rt,send:ot}),Fn({on:rt,send:ot,receiveMessage:tt}),function(e){var n=e.on,t=e.send;un("builtinListeners").getOrSet("helloListener",(function(){var e=n("postrobot_hello",{domain:"*"},(function(e){return pn(e.source,{domain:e.origin}),{instanceID:fn()}})),r=L();return r&&hn(r,{send:t}).catch((function(e){})),e}))}({on:rt,send:ot}))}();var n=Tt(e),t=function(e){return n.init(e)};t.driver=function(e,t){return n.driver(e,t)},t.isChild=function(){return n.isChild()},t.canRenderTo=function(e){return n.canRenderTo(e)},t.instances=n.instances;var r=n.registerChild();return r&&(window.xprops=t.xprops=r.getProps()),t}function Lt(e){it&&it.destroyBridges();var n=Mt.all(e);return Mt=Ae(),n}var Ut=Lt;function Ft(e){var n;return Ut(),delete window.__zoid_9_0_63__,function(){for(var e=un("responseListeners"),n=0,t=e.keys();n<t.length;n++){var r=t[n],i=e.get(r);i&&(i.cancelled=!0),e.del(r)}}(),(n=un().get("postMessageListener"))&&n.cancel(),delete window.__post_robot_10_0_42__,Wt.all(e)}}])})),xr=cn(br),Dr=Object.freeze(n({__proto__:null,default:xr},[br]));const{EVENT:Rr,destroy:Ar}=Dr,Or="zoid-visible",Pr="zoid-invisible";function Cr(e){return`${function(e){if("number"==typeof e)return e;const n=null==e?void 0:e.match(/^([0-9]+)(px|%)$/),t=null==n?void 0:n[1];if(!n)throw new Error(`Could not match css value from ${e}`);if(!t)throw new Error("No SecondMatch.");return parseInt(t,10)}(e)}px`}function _r(e){return"number"==typeof e?Cr(e):"string"==typeof(n=e)&&/^[0-9]+%$/.test(n)?e:Cr(e);var n}const Sr="bread-payments-overlay",Mr="bread-payments-inner-container";class Wr extends HTMLElement{constructor(){super(),this._placementID="",this._buttonUIConfig=null,this._sdkAppConfig=void 0,this.attachShadow({mode:"open"})}get buttonUIConfig(){return this._buttonUIConfig}set buttonUIConfig(e){this._buttonUIConfig=e}get placementID(){return this._placementID}set placementID(e){this._placementID=e}get sdkAppConfig(){return this._sdkAppConfig}set sdkAppConfig(e){this._sdkAppConfig=e}disconnectedCallback(){const e=this.shadowRoot;e&&e.removeEventListener("click",this.handleClick.bind(this))}connectedCallback(){var e;const n=this.buttonUIConfig,t=this.sdkAppConfig;if(!n)throw new Error("Cannot create a custom button without a button config");const r=n.additionalText?10:0,i=this.convertPositionToOrder(n.logoPosition),o=window.navigator.language.substring(0,2),a=vn(o)?o:"en",u=null!==(e=n.buttonLogo)&&void 0!==e?e:null==t?void 0:t.defaultButtonLogo,c=yn(u)?u[a]:u,s=Tr[c||""],d=!!n.additionalText,l=this.shadowRoot,f=n.width||343,p=Nr[c||""];l&&(l.innerHTML=`\n      <style>\n        :host {\n          all: initial;\n        }\n        button {\n          height: 64px;\n          width: flex-content(${f}px);\n          padding: 16px;\n          background-color: ${n.backgroundColor};\n          border: ${n.borderWidth}px solid ${n.borderColor};\n          color: ${n.textColor};\n          font-size: 14px;\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          cursor: pointer;\n          text-align: left;\n        }\n        button:hover {\n          filter: drop-shadow(0 5px 10px rgb(51 51 51 / .2));\n        }\n        svg {\n          fill: currentColor;\n          color: ${n.logoColor};\n          height: ${p}px;\n          flex-shrink: 0;\n          order: ${i};\n        }\n        ${d?`span {\n              line-height: 0.3;\n              height:  ${r}px;\n              width: max-content;\n            }\n            .add {\n              display: block;\n              margin-block-start: 1em;\n              margin-block-end: 1em;\n              margin-inline-start: 0px;\n              margin-inline-end: 0px;\n              font-style: ${n.additionalTextFontStyle};\n              text-decoration: ${n.additionalTextDecoration};\n            }`:""}\n      </style>\n      <button>\n      ${n.includeLogo&&s?s:""}\n        <span>\n          <slot name="text"></slot>\n          ${d?'<slot name="additionalText" class="add"></slot>':""}\n        </span>\n      </button>\n            `,l.addEventListener("click",this.handleClick.bind(this)))}handleClick(){this.dispatchEvent(new CustomEvent("bread-button-clicked",{bubbles:!0,composed:!0,detail:{placementID:this.placementID}}))}convertPositionToOrder(e="left"){return"right"===e.toLowerCase()?1:0}}const Tr={BREAD_MONOCHROME_EN:'\n    <svg\n      viewBox="0 0 103 40"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <title>Bread</title>\n      <path\n        d="m53.111 18.526c-2.0394 0-3.5201 0.7543-4.5258 2.0395v-1.6483h-3.604v19.556h3.604v-7.2358c1.0057 1.2852 2.4864 2.0395 4.5258 2.0395 3.7436 0 6.8169-3.2128 6.8169-7.3755s-3.0733-7.3755-6.8169-7.3755zm-0.6705 11.315c-2.207 0-3.8553-1.5924-3.8553-3.9392 0-2.3467 1.6483-3.9392 3.8553-3.9392 2.235 0 3.8836 1.5925 3.8836 3.9392 0 2.3468-1.6486 3.9392-3.8836 3.9392zm20.645-10.924v1.6483c-1.0061-1.2572-2.5144-2.0395-4.5539-2.0395-3.7155 0-6.7889 3.2128-6.7889 7.3755s3.0734 7.3755 6.7889 7.3755c2.0395 0 3.5478-0.7823 4.5539-2.0395v1.6483h3.6039v-13.969h-3.6039zm-3.8833 10.924c-2.2072 0-3.8556-1.5924-3.8556-3.9392 0-2.3467 1.6484-3.9392 3.8556-3.9392 2.235 0 3.8833 1.5925 3.8833 3.9392 0 2.3468-1.6483 3.9392-3.8833 3.9392zm19.863-10.924-3.1011 9.3869-3.6317-9.3869h-3.9395l5.7273 13.522c-0.6706 1.8719-1.6761 2.71-3.66 2.682v3.3525c3.5483 0.1956 5.9227-1.5645 7.3755-5.5875l5.085-13.969h-3.8555z"\n      />\n      <path\n        d="m95.975 30.556h-2.0861v0.3273h0.8511v2.2756h0.38v-2.2756h0.855v-0.3273z"\n      />\n      <path\n        d="m99.062 30.556h-0.4339l-0.9172 1.3758-0.9212-1.3758h-0.4338v2.6029h0.3844v-2.0302l0.9461 1.4129h0.0495l0.9461-1.4167v2.034h0.38v-2.6029z"\n      />\n      <path\n        d="m50.423 6.5287c-1.1242 0-1.9404 0.41584-2.4949 1.1242v-3.9887h-1.9866v10.78h1.9866v-0.9086c0.5545 0.7083 1.3707 1.1242 2.4949 1.1242 2.0636 0 3.7577-1.7711 3.7577-4.0657 0-2.2947-1.6941-4.0657-3.7577-4.0657zm-0.3696 6.2372c-1.2167 0-2.1253-0.8779-2.1253-2.1715 0-1.2937 0.9086-2.1714 2.1253-2.1714 1.232 0 2.1406 0.87778 2.1406 2.1714 0 1.2936-0.9086 2.1715-2.1406 2.1715zm7.5147-4.6972v-1.3244h-1.9861v7.7002h1.9861v-3.6807c0-1.6171 1.3095-2.0791 2.3411-1.9558v-2.2177c-0.97 0-1.9405 0.43122-2.3411 1.4784zm4.8961 3.3419h5.8056c0.0461-0.2618 0.0772-0.5236 0.0772-0.8162 0-2.2639-1.6172-4.0657-3.8961-4.0657-2.4183 0-4.0661 1.7711-4.0661 4.0657 0 2.2946 1.6328 4.0657 4.22 4.0657 1.4783 0 2.6333-0.6006 3.3572-1.6479l-1.6017-0.924c-0.3388 0.4467-0.955 0.77-1.725 0.77-1.0472 0-1.8938-0.4312-2.1711-1.4476zm-0.0311-1.54c0.2311-0.98561 0.955-1.5554 2.0178-1.5554 0.8311 0 1.6628 0.44661 1.9094 1.5554h-3.9272zm13.093-3.1263v0.90861c-0.5544-0.693-1.3861-1.1242-2.5106-1.1242-2.0483 0-3.7422 1.7711-3.7422 4.0657 0 2.2946 1.6939 4.0657 3.7422 4.0657 1.1245 0 1.9562-0.4312 2.5106-1.1242v0.9086h1.9867v-7.7002h-1.9867zm-2.1406 6.0216c-1.2166 0-2.1255-0.8779-2.1255-2.1715 0-1.2937 0.9089-2.1714 2.1255-2.1714 1.2317 0 2.1406 0.87778 2.1406 2.1714 0 1.2936-0.9089 2.1715-2.1406 2.1715zm11.765-9.1016v3.9887c-0.5544-0.70839-1.3705-1.1242-2.4944-1.1242-2.0639 0-3.7578 1.7711-3.7578 4.0657 0 2.2946 1.6939 4.0657 3.7578 4.0657 1.1239 0 1.94-0.4159 2.4944-1.1242v0.9086h1.9867v-10.78h-1.9867zm-2.125 9.1016c-1.2322 0-2.1405-0.8779-2.1405-2.1715 0-1.2937 0.9083-2.1714 2.1405-2.1714 1.2167 0 2.125 0.87778 2.125 2.1714 0 1.2936-0.9083 2.1715-2.125 2.1715z"\n      />\n      <path\n        d="m19.435 1.0216c-10.734 0-19.435 8.7002-19.435 19.435 0 10.734 8.7002 19.435 19.435 19.435 10.734 0 19.435-8.7003 19.435-19.435 0.0182-10.734-8.682-19.435-19.435-19.435zm3.7416 33.584-0.2542 0.1454c-1.7074 0.9263-3.8507 0.2724-4.777-1.4349l-10.571-19.635c-0.92633-1.7073-0.27244-3.8506 1.4349-4.7769l0.25428-0.14528c1.7073-0.92633 3.8506-0.29061 4.7769 1.4349l10.571 19.634c0.9081 1.7255 0.2724 3.8506-1.435 4.7769zm4.2684-5.4489-8.2098-15.239c4.2139-2.2705 9.4631-0.6903 11.734 3.5236 2.2704 4.1958 0.6902 9.4449-3.5237 11.715z"\n      />\n    </svg>\n',PAY_PLAN_RGB_EN:'\n<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="92.86 92.73 907.88 319.06">\n  <path fill="#004187" d="m548.213 164.415 1.087.002c11.278.054 20.791 3.068 29.711 10.123l1.178.919c9.578 7.962 15.113 20.328 16.59 32.526 1.031 16.267-2.15 30.973-12.848 43.6-7.984 8.488-18.803 13.058-30.399 13.509-5.986.131-11.576-.172-17.371-1.717l-2.09-.523v46.509h-27.696V167.224c9.871 0 9.871 0 14.095 1.684 3.573.917 6.823-.376 10.139-1.651 5.882-2.255 11.303-2.862 17.604-2.842Zm-14.143 22.666v55.393c7.745 2.065 14.589 3.86 21.948 0 6.043-3.525 8.929-9.199 10.942-15.689 2.719-10.38 2.191-21.272-2.895-30.824-3.366-5.642-7.498-8.667-13.701-10.77-5.401-.948-11.366-.573-16.294 1.891ZM751.984 164.088v97.721c-9.521 0-9.521 0-12.942-1.622-3.866-1.55-7.819-.183-11.488 1.263a476.307 476.307 0 0 1-2.772 1.009l-1.347.485c-11.186 3.916-24.014 2.728-34.682-2.18-10.579-5.289-18.154-14.221-21.949-25.354-4.772-14.73-4.143-30.818 2.217-44.977 5.45-10.585 14.66-19.487 26.041-23.331a99.83 99.83 0 0 1 5.187-1.446l1.5-.39c8.577-1.805 19.215-1.462 27.566 1.378 4.787 1.524 8.604.609 13.295-.629 1.097-.274 2.194-.545 3.292-.814.985-.244 1.966-.497 2.948-.752 1.566-.361 1.566-.361 3.134-.361ZM699.4 191.066c-6.932 8.325-7.671 19.517-6.828 29.874.911 7.264 3.19 15.1 8.724 20.227 3.927 2.951 8.15 4.438 13.062 3.919 3.57-.824 7.153-1.705 9.929-4.181.464-1.721.396-3.406.356-5.179l.002-1.591c-.002-1.737-.027-3.472-.051-5.208a1369.29 1369.29 0 0 0-.091-13.117c-.032-3.233-.047-6.466-.062-9.699a3734.887 3734.887 0 0 0-.154-19.03c-.902-.34-1.807-.677-2.711-1.013l-1.524-.57c-8.006-2.69-14.969-.415-20.652 5.567ZM845.002 170.882c8.748 6.486 12.995 15.032 14.916 25.598.377 2.746.307 5.504.298 8.27l.001 1.855c0 2.016-.004 4.032-.008 6.048l-.003 4.201c-.002 3.306-.005 6.611-.011 9.916-.006 4.135-.009 8.269-.012 12.404-.005 7.37-.016 14.742-.026 22.112h-27.696l-.059-12.925-.057-9.166a4347.73 4347.73 0 0 1-.064-11.856c-.014-3.467-.035-6.933-.061-10.399a869.909 869.909 0 0 1-.018-3.957 793.852 793.852 0 0 0-.037-5.564l.003-1.635c-.081-6.329-1.347-11.914-5.846-16.515-4.275-2.878-8.641-3.212-13.718-2.711-2.496.499-4.909 1.272-7.316 2.09l-1.568.523-.523 72.115h-27.696v-94.062c10.572 0 10.572 0 14.403 1.657 4.297 1.463 9.605-.683 13.75-1.918 1.141-.333 2.284-.665 3.425-.996l1.506-.446c11.805-3.25 26.127-1.384 36.417 5.362ZM267.558 174.54l1.257.945c9.536 8.057 14.519 21.695 15.792 33.773 1.128 14.729-2.068 29.29-11.301 41.055l-.82 1.08c-6.282 7.753-16.047 12.324-25.831 13.552-9.81.512-19.799-.232-28.742-4.703v49.122h-19.858v-142.14c4.396 0 6.057.104 9.747 1.633 4.765 1.245 8.918.241 13.475-1.306 1.065-.34 2.132-.676 3.198-1.011l1.513-.476c14.243-4.371 30.33-1.257 41.569 8.476Zm-49.645 8.361v63.754c8.837 4.419 17.57 7.75 27.403 4.691 2.168-.826 4.107-1.846 6.042-3.123l.939-.608c7.094-5.305 9.823-14.972 11.172-23.295 1.801-13.008.24-26.251-7.408-37.238-4.749-5.748-10.709-9.076-18.094-9.864-7.772-.375-12.926 2.119-20.054 5.683ZM367.8 167.918c3.837.812 7.816-.597 11.541-1.544l1.132-.279 1.006-.256c1.045-.183 1.045-.183 3.658-.183v95.631c-5.686 0-5.686 0-8.884-1.568-3.34-.919-6.374-.642-9.627.469l-1.886.629-1.943.665c-6.224 2.119-11.95 3.669-18.551 3.626l-1.439-.009c-11.874-.211-22.179-4.702-30.521-13.149-10.294-10.91-12.796-26.114-12.383-40.555.456-10.969 4.545-22.469 12.074-30.584l.711-.767c14.548-15.536 35.35-18.919 55.113-12.126Zm-38.219 18.015c-8.19 10.673-9.963 24.097-8.457 37.16 1.256 9.116 4.368 18.14 11.756 24.085 6.085 4.156 10.926 5.303 18.29 4.703 4.137-.844 7.986-2.345 11.497-4.703l1.353-.711c2.016-2.208 1.602-4.535 1.556-7.421l.001-1.87a511.545 511.545 0 0 0-.033-5.068c-.016-1.766-.018-3.533-.021-5.3-.008-3.344-.03-6.688-.056-10.032a2702.203 2702.203 0 0 1-.056-11.423c-.028-7.832-.073-15.664-.132-23.495-.902-.417-1.805-.832-2.709-1.247l-1.523-.701c-10.756-4.713-23.297-2.713-31.466 6.025ZM399.246 167.224h21.948c3.906 9.336 7.802 18.673 11.595 28.056l.468 1.159a73304538.942 73304538.942 0 0 1 1.456 3.603l.504 1.246c2.177 5.382 4.37 10.757 6.564 16.132l1.406 3.444a14455.812 14455.812 0 0 0 2.565 6.289 395.326 395.326 0 0 0 3.139 7.483c1.544-1.544 2.018-3.496 2.737-5.516l.502-1.387c.545-1.509 1.086-3.018 1.627-4.529l1.133-3.145 1.728-4.801c1.18-3.284 2.372-6.564 3.577-9.84 4.628-12.605 8.614-25.24 12.212-38.194h19.858c-.941 2.822-1.867 5.55-2.963 8.3l-.396.997c-.429 1.08-.86 2.158-1.291 3.237l-.923 2.32-1.963 4.927-3.085 7.743-3.12 7.839a10300.238 10300.238 0 0 0-8.343 21.024 8969.311 8969.311 0 0 1-3.309 8.348l-.611 1.542a2200.61 2200.61 0 0 0-3.107 7.88c-3.412 8.698-7.07 17.234-11.128 25.654l-.775 1.612c-3.789 7.83-7.92 15.429-12.289 22.949l-.655 1.14c-3.656 6.365-7.755 12.512-12.409 18.195-1.766-.319-2.808-.952-4.205-2.064l-1.208-.952-1.249-1.002a3638.06 3638.06 0 0 0-2.441-1.933l-1.199-.952a246.886 246.886 0 0 0-5.376-4.071c.443-2.256 1.459-3.155 3.135-4.736 2.858-2.772 5.414-5.688 7.839-8.851l.823-1.07c4.233-5.539 8.097-11.203 11.619-17.219a105.443 105.443 0 0 1 1.808-2.919l1.035-1.656.89-1.396c1.002-2.468.021-4.606-.939-6.965a468.639 468.639 0 0 0-1.276-2.968l-.702-1.642c-.769-1.796-1.543-3.59-2.317-5.384a8230.453 8230.453 0 0 1-1.633-3.807 5595.948 5595.948 0 0 0-3.416-7.955c-1.63-3.787-3.255-7.576-4.879-11.366l-.779-1.819-1.552-3.621-3.103-7.241a51819.534 51819.534 0 0 1-4.783-11.16c-1.687-3.935-3.371-7.871-5.053-11.808a3708.34 3708.34 0 0 0-1.589-3.71 3272.932 3272.932 0 0 1-2.195-5.136l-.652-1.515-.608-1.428-.522-1.22c-.786-2.02-1.442-4.088-2.128-6.143ZM616.637 120.192h27.696v141.095h-27.696V120.192ZM819.918 308.841c5.461-.037 10.922-.064 16.382-.081 2.537-.008 5.073-.019 7.609-.037 2.453-.017 4.907-.026 7.36-.031.93-.003 1.86-.008 2.791-.017 9.276-.082 17.816.723 24.92 7.349 3.372 3.837 4.374 8.102 4.313 13.077-.398 4.707-2.368 8.497-5.891 11.617a38.416 38.416 0 0 1-4.181 2.613l1.243.576c4.979 2.382 8.889 4.741 11.299 9.876 1.822 5.298 1.924 11.766-.319 16.953-3.77 6.937-8.549 10.594-15.881 13.356-4.438 1.291-8.817 1.179-13.393 1.147l-2.51-.004c-2.188-.004-4.376-.014-6.564-.026-2.239-.01-4.477-.016-6.716-.021-4.382-.01-8.764-.029-13.145-.051l-.004-1.023c-.031-8.231-.071-16.462-.12-24.693-.024-3.98-.044-7.961-.057-11.941-.012-3.471-.03-6.942-.054-10.413a1124.08 1124.08 0 0 1-.026-5.509 904.493 904.493 0 0 0-.037-6.162l.003-1.829c-.045-3.909-.35-7.555-2.744-10.774-1.364-.975-2.667-1.422-4.278-1.862v-2.09Zm24.038 10.451v20.38l5.944.131 1.84.057c3.914.042 7.682-.416 10.827-2.961 1.993-2.174 3.262-4.889 3.388-7.835-.233-3.372-1.44-5.477-3.905-7.812-2.498-1.665-4.817-2.091-7.785-2.062l-1.648.008-2.063.029-6.597.066Zm0 30.832v25.084l6.434.131 1.991.057c4.633.045 8.506-.744 12.445-3.258 3.029-3.121 4.247-6.158 4.409-10.451-.072-3.436-.792-5.76-3.129-8.296-2.966-2.736-5.774-3.401-9.8-3.368l-1.97.008-2.476.029-7.903.064ZM741.532 308.841c5.247-.037 10.494-.064 15.742-.081 2.437-.008 4.875-.019 7.312-.037 2.358-.017 4.717-.026 7.075-.031.894-.003 1.787-.008 2.681-.017 8.991-.083 18.526.55 25.446 7.098 4.223 4.808 5.765 10.635 5.466 16.975-.788 6.831-4.216 11.738-9.408 16.1-1.326.988-2.626 1.675-4.146 2.321 2.722 4.384 5.62 8.628 8.553 12.871a1606.357 1606.357 0 0 1 11.794 17.341l.664.985c1.459 2.187 1.459 2.187 1.459 2.771-17.649 1.616-17.649 1.616-22.358-.723-2.267-2.127-3.247-4.993-4.415-7.817-1.722-3.807-4.369-7.189-6.732-10.616a562.095 562.095 0 0 1-4.229-6.259l-.766-1.13c-1.738-2.6-1.738-2.6-1.738-3.764h-8.361v30.309h-16.722l-.031-5.865c-.035-6.404-.076-12.807-.119-19.21-.026-3.882-.05-7.763-.07-11.645-.017-3.385-.038-6.77-.063-10.155-.014-1.79-.025-3.581-.032-5.372-.009-2.004-.024-4.007-.041-6.011l-.004-1.779c-.042-3.939-.087-8.036-2.09-11.523-1.54-1.374-2.933-1.939-4.866-2.646v-2.09Zm24.038 10.451v25.084c9.748.689 9.748.689 17.978-3.081 2.952-3.687 4.315-6.72 4.189-11.512-.438-3.221-1.819-5.793-4.072-8.107-4.054-2.413-7.109-2.585-11.791-2.482l-6.303.099ZM937.898 306.669c9.023-.272 18.236 1.659 26.251 5.83-.899 2.948-2.137 5.718-3.397 8.525l-.639 1.454-.618 1.381-.561 1.258c-.534.969-.534.969-1.579 1.492l-.617-.805c-3.305-4.067-7.738-7.13-12.97-8.079-6.072-.547-11.033.164-16.069 3.691-5.557 4.661-7.983 11.802-9.014 18.78-.767 9.938-.398 20.507 6.326 28.478 4.897 5.132 10.559 8.042 17.745 8.35 7.402.09 13.134-2.977 18.78-7.564h1.045a306.5 306.5 0 0 1 .196 6.14l.079 1.76c.029 1.602.015 3.066-.275 4.642-1.396 1.376-1.396 1.376-3.135 2.09l-1.458.624-1.481.486-1.458.494c-4.944 1.282-9.775 1.721-14.872 1.694l-1.806-.007c-4.322-.06-8.231-.392-12.369-1.723l-1.743-.557c-3.958-1.398-7.391-3.272-10.798-5.714l-1.023-.729c-7.466-5.848-10.779-15.221-12.285-24.242a45.919 45.919 0 0 1-.281-3.771l-.063-1.552c-.235-11.389 2.475-22.352 10.43-30.775 7.425-7.603 17.194-11.06 27.659-11.651ZM616.637 308.841h10.974v26.129l4.703-1.568c6.538-1.722 13.607-.78 19.433 2.482 5.828 3.752 8.838 9.01 10.843 15.579 1.787 8.358 1.174 17.841-3.201 25.28-3.569 5.111-8.352 8.706-14.468 10.125-5.75.933-11.665.552-17.061-1.778-1.498-.55-2.676-.597-4.267-.573l-1.508.01c-1.272.007-1.272.007-2.313.61h-3.135v-76.296Zm10.974 33.445c-.049 4.47-.086 8.94-.108 13.409a993.41 993.41 0 0 1-.05 6.226 752.057 752.057 0 0 0-.041 6.008 236.772 236.772 0 0 1-.022 2.294 212.961 212.961 0 0 0-.016 3.209l-.014 1.847c.108 1.547.108 1.547 1.236 2.46 4.079 2.236 8.42 2.855 12.896 1.585 3.872-1.44 6.205-3.915 8.032-7.575l.558-1.244.508-1.096c2.296-6.055 1.923-14.916-.508-20.852-1.934-3.718-4.465-6.652-8.361-8.361-4.964-1.196-9.502.221-14.109 2.09Z"></path>\n  <path fill="#F58A20" d="M155.135 221.975c4.983 5.24 6.076 11.151 5.963 18.114-.248 6.01-3.335 11.058-7.657 15.089-4.821 4.076-10.25 5.628-16.527 5.586-4.805-.531-8.629-1.879-12.542-4.703l-1.666-1.143c-4.63-4.63-7.11-10.448-7.348-16.951.082-5.442 1.767-9.866 4.834-14.305l.915-1.405c9.629-9.897 24.208-9.609 34.028-.282Z"></path>\n  <path fill="#FCB135" d="m123.327 158.862 1.666.947c4.281 3.331 7.852 7.62 8.786 13.163.461 6.788-.164 12.338-4.719 17.733-4.411 4.629-9.229 6.869-15.661 7.089-6.421-.219-10.991-2.482-15.544-6.893-4.227-4.543-5.085-9.788-4.985-15.771.264-5.768 3.292-10.298 7.314-14.23 6.169-5.118 16.177-6.04 23.143-2.038Z"></path>\n  <path fill="#004187" d="M666.282 333.925h12.019l1.476 3.642a35136.913 35136.913 0 0 0 13.156 32.415 286.073 286.073 0 0 0 5.422-13.75l.375-1.021c2.563-6.99 4.938-14.059 6.745-21.287h10.974c-.392 1.962-.803 3.487-1.521 5.314l-.627 1.603-.684 1.728-.711 1.812a2446.076 2446.076 0 0 1-1.908 4.84l-1.186 3.005c-19.816 50.249-19.816 50.249-28.898 59.562-1.765 0-2.006-.195-3.321-1.257l-.985-.786-1.017-.831-1.036-.831a496.306 496.306 0 0 1-2.525-2.043c.779-1.799 1.819-2.997 3.168-4.409 2.522-2.757 4.649-5.687 6.697-8.81a154.728 154.728 0 0 1 1.207-1.805 184.395 184.395 0 0 0 1.796-2.711l1.066-1.615c.998-2.22.564-3.66-.287-5.912a218.241 218.241 0 0 0-1.942-4.498l-.743-1.702a1566.658 1566.658 0 0 0-1.582-3.609c-.826-1.875-1.646-3.752-2.465-5.63a5505.96 5505.96 0 0 0-3.282-7.509 2960.631 2960.631 0 0 1-5.709-13.106 739.39 739.39 0 0 0-1.495-3.426l-.885-2.051-.763-1.755c-.529-1.477-.529-1.477-.529-3.567Z"></path>\n  <path fill="#FFC72C" d="M152.571 109.357c3.714 3.159 5.971 7.508 6.375 12.362.192 4.703-.874 9.054-3.923 12.699l-.864.929-.815.88c-3.409 3.278-7.567 4.45-12.217 4.639-4.762-.161-8.755-1.584-12.28-4.834-3.961-4.348-5.172-8.895-5.108-14.628.299-4.702 2.325-8.384 5.818-11.521 7.086-5.575 15.646-5.785 23.014-.526Z"></path>\n  <path fill="#FFCF4C" d="M199.362 93.639c4.34 2.247 6.559 5.209 8.1 9.831.357 4.223.252 7.869-2.09 11.497-1.274 1.47-1.274 1.47-2.613 2.613l-1.274 1.143c-3.529 2.495-7.633 2.43-11.791 1.992-3.636-1.089-6.298-3.1-8.361-6.271-2.039-3.797-2.593-7.71-1.486-11.882 1.591-4.262 4.311-6.905 8.28-9.021 3.393-1.131 7.841-1.069 11.235.098Z"></path>\n  <path fill="#FFD86B" d="M244.44 116.728c2.428 1.767 3.718 4.212 4.305 7.122.224 2.914-.084 5.317-1.568 7.839-2.202 2.529-4.455 4.228-7.839 4.703-3.304-.017-6.212-.55-8.69-2.897-2.461-2.686-3.63-5.277-3.529-9.008.511-2.957 2.012-5.564 4.087-7.692 4.504-2.636 8.705-2.54 13.234-.067Z"></path>\n  <path fill="#004187" d="M985.574 310.409h4.703l1.122 3.011c.482 1.266.987 2.524 1.49 3.782l2.09-6.793h5.226c.32 4.881.618 9.737.523 14.632h-3.658l-.523-7.839-1.013 3.364c-1.012 3.364-1.012 3.364-1.6 3.952-1.045.021-2.09.022-3.135 0l-1.568-5.226c-.869.869-.711 1.977-.817 3.168l-.132 1.455-.095 1.126h-3.658l1.045-14.632ZM971.987 310.409h11.497v3.135h-4.181v11.497h-3.658v-11.497h-3.658v-3.135Z"></path>\n</svg>\n',PAY_PLAN_RGB_FR:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.28 168.84">\n  <defs>\n    <clipPath id="a">\n      <path d="M348 122h5.281v8H348Zm0 0" />\n    </clipPath>\n    <clipPath id="b">\n      <path d="M155 133h22v35.84h-22Zm0 0" />\n    </clipPath>\n  </defs>\n  <path d="M14.668 83.793c.8 6.879 7.031 11.805 13.91 11 6.883-.8 11.809-7.031 11-13.906-.8-6.883-7.031-11.809-13.91-11.004-6.879.805-11.805 7.031-11 13.91" style="stroke:none;fill-rule:nonzero;fill:#f57a15;fill-opacity:1" />\n  <path d="M.078 50.621c.719 6.191 6.328 10.625 12.52 9.902 6.187-.726 10.62-6.328 9.898-12.523-.719-6.188-6.328-10.625-12.516-9.898-6.19.722-10.625 6.324-9.902 12.52" style="stroke:none;fill-rule:nonzero;fill:#f9a822;fill-opacity:1" />\n  <path d="M15.582 19.535c.613 5.262 5.379 9.031 10.64 8.414 5.262-.613 9.032-5.379 8.419-10.64-.618-5.262-5.38-9.032-10.645-8.414-5.262.613-9.027 5.378-8.414 10.64" style="stroke:none;fill-rule:nonzero;fill:#fbc31b;fill-opacity:1" />\n  <path d="M46.059 8.566a7.678 7.678 0 0 0 8.515 6.735 7.671 7.671 0 0 0 6.727-8.516C60.812 2.575 57-.438 52.793.051c-4.211.496-7.227 4.304-6.734 8.515" style="stroke:none;fill-rule:nonzero;fill:#fbcd32;fill-opacity:1" />\n  <path d="M73.324 17.36a5.757 5.757 0 0 0 11.438-1.337 5.763 5.763 0 0 0-6.387-5.05 5.763 5.763 0 0 0-5.05 6.386" style="stroke:none;fill-rule:nonzero;fill:#fbd64e;fill-opacity:1" />\n  <path d="M304.34 94.648c-3.36 2.493-10.067 7.579-21.113 7.579-15.48 0-28.36-11.692-28.36-28.692 0-17.86 11.906-30.097 28.684-30.097 7.797 0 14.289 2.601 20.246 6.066l-5.305 10.5c-6.82-6.383-10.285-8.66-15.59-8.66-6.168 0-13.859 6.281-13.859 19.488 0 14.723 8.34 22.844 16.57 22.844 3.242 0 8.66-1.297 15.047-5.52l3.68 6.492M88.648 57.043h8.844v43.113h-8.844Zm4.38-7.832c-3.032 0-5.477-2.523-5.477-5.559 0-3.113 2.36-5.558 5.476-5.558 3.032 0 5.559 2.445 5.559 5.558 0 2.946-2.527 5.559-5.559 5.559m-12.5-6.313c-3.535-1.855-6.398-3.035-8.757-3.035-4.375 0-6.735 3.79-6.735 13.473v3.707H76.91v5.39H65.035v37.723h-8.844V54.602c0-5.141.504-9.262 2.352-12.633 3.207-5.727 8.512-7.742 14.488-7.742 3.207 0 6.906.668 9.938 1.68l-2.442 6.991M138.934 100.156V76.074c0-4.46-.59-7.828-1.938-9.933-1.687-3.036-4.637-4.297-7.918-4.297-3.617 0-6.57 1.176-8.93 2.523v35.79h-8.84V57.042h1.77c1.938.922 3.031 1.258 4.297 1.258 1.512 0 2.773-.336 4.29-.836 2.276-.676 4.804-1.602 8.76-1.602 6.571 0 11.54 2.438 14.4 6.82 2.273 3.368 3.03 7.41 3.03 12.301v25.172h-8.921M187.445 63.691c-1.937-1.257-4.89-2.097-7.496-2.097-6.738 0-13.05 5.383-13.05 17.09 0 6.82 1.765 11.875 5.39 14.824 1.766 1.512 4.043 2.523 6.734 2.523 3.532 0 6.989-1.847 8.422-3.195Zm7.157 36.47c-1.516-.845-2.778-1.266-4.125-1.266-1.266 0-2.614.503-4.125 1.011-2.192.84-4.97 1.852-8.512 1.852-7.41 0-13.137-3.453-16.418-8.422-2.61-3.957-3.871-8.922-3.871-14.063 0-9.007 3.703-15.07 9.012-19.113 3.617-2.95 8.25-4.215 12.796-4.215 4.38 0 8.168 1.098 10.274 1.942l6.734-1.606v43.88h-1.765M236.969 100.156V76.074c0-4.46-.586-7.828-1.934-9.933-1.683-3.036-4.633-4.297-7.918-4.297-3.62 0-6.566 1.176-8.926 2.523v35.79h-8.843V57.042h1.773c1.934.922 3.031 1.258 4.29 1.258 1.519 0 2.78-.336 4.296-.836 2.277-.676 4.8-1.602 8.758-1.602 6.57 0 11.535 2.438 14.402 6.82 2.274 3.368 3.035 7.41 3.035 12.301v25.172h-8.933M257.691 157.012l-9.336-14.121h-3.843v14.12h-7.543v-27.66c0-2.277 0-4.074-.91-5.261-.48-.637-1.442-1.219-2.329-1.266v-.683h16.575c3.39 0 6.425.707 8.629 2.3 2.226 1.621 3.695 4.125 3.695 7.645 0 2.5-1.012 4.707-2.434 6.351-1.11 1.344-2.601 2.325-4.07 2.907l10.703 15.668Zm-8.628-30.395h-4.551v11.766h4.324c4.476 0 6.047-3.617 6.047-6.121 0-2.989-1.973-5.645-5.82-5.645M287.14 122.14c7.794 0 11.34 4.2 11.34 8.505 0 3.542-2.074 5.945-5.32 7.183 4.809 1.52 7.09 4.305 7.09 8.656 0 2.63-1.207 5.32-3.441 7.313-2.196 1.953-5.72 3.21-9.364 3.21h-14.398v-27.652c0-2.28 0-4.078-.91-5.265-.485-.637-1.442-1.215-2.328-1.266v-.683Zm-1.718 30.442c4.504 0 6.906-2.836 6.906-6.555 0-3.164-2.508-5.316-6.02-5.316h-5.699v11.871Zm0-16.32c3.008 0 5.312-2.028 5.312-5.114 0-2.554-2.074-4.582-5.668-4.582h-4.457v9.696h4.813M332.887 129.934c-1.723-2.457-4.91-4.329-8.227-4.329-4.402 0-10.172 3.165-10.172 13.997 0 10.906 7.29 14.043 12.047 14.043 4.758 0 8.324-3.774 8.324-3.774v5.695s-3.293 2.356-10.199 2.356c-9.058 0-18.168-5.035-18.168-18.32 0-12.047 8.195-18.375 18.168-18.375 5.035 0 9.414 1.824 10.985 2.585l-2.758 6.122M345.457 126.734a67.326 67.326 0 0 1-.059-2.652h-.023a44.177 44.177 0 0 1-.719 2.5l-.789 2.512h-1.129l-.691-2.492a31.976 31.976 0 0 1-.582-2.52h-.02c-.035.879-.07 1.867-.105 2.672l-.121 2.441h-1.348l.414-6.433h1.942l.625 2.148c.203.738.402 1.547.546 2.3h.028c.176-.741.394-1.593.61-2.308l.687-2.14h1.906l.344 6.433h-1.414l-.102-2.46" style="stroke:none;fill-rule:nonzero;fill:#264288;fill-opacity:1" />\n  <g clip-path="url(#a)">\n    <path d="M353.207 129.02c-.262.128-.871.277-1.644.277-2.231 0-3.38-1.395-3.38-3.227 0-2.195 1.575-3.41 3.516-3.41.754 0 1.332.149 1.582.285l-.297 1.153c-.289-.125-.699-.243-1.222-.243-1.149 0-2.043.7-2.043 2.13 0 1.288.758 2.1 2.05 2.1.446 0 .93-.085 1.22-.206l.218 1.14" style="stroke:none;fill-rule:nonzero;fill:#264288;fill-opacity:1" />\n  </g>\n  <g clip-path="url(#b)">\n    <path d="M165.031 154.79c4.09 0 6.59-3.505 6.59-9.599 0-4.914-2.5-9.14-7.004-9.14-2 0-3.637.82-4.5 1.41v15.914c1.41.777 3.043 1.414 4.914 1.414m-8.73-21.144c.949.5 1.726.675 2.496.675.73 0 1.363-.222 2.183-.5 1.184-.41 2.594-.816 4.594-.816 3.317 0 6.137 1.457 8.004 3.726 1.91 2.368 3.043 5.461 3.043 8.735 0 6.273-3.633 12.324-10.863 12.324-2.094 0-3.778-.504-5.64-1.273v12.324h-4.778v-35.195h.96" style="stroke:none;fill-rule:nonzero;fill:#264288;fill-opacity:1" />\n  </g>\n  <path d="M197.008 137.234c-1.047-.683-2.637-1.136-4.047-1.136-3.637 0-7.05 2.91-7.05 9.23 0 3.684.956 6.41 2.913 8 .953.824 2.184 1.367 3.637 1.367 1.91 0 3.773-1.004 4.547-1.726Zm3.867 19.688c-.82-.45-1.5-.684-2.234-.684-.676 0-1.407.278-2.223.547-1.18.457-2.684 1.004-4.594 1.004-4 0-7.094-1.863-8.87-4.55-1.407-2.134-2.087-4.817-2.087-7.594 0-4.864 1.996-8.141 4.863-10.325 1.954-1.59 4.458-2.27 6.91-2.27 2.368 0 4.415.59 5.548 1.048l3.636-.868v23.692h-.949M222.074 137.46c-1.64-.73-2.957-1.05-4.187-1.05-1.41 0-2.68.371-4.274 1.23v19.282h-4.773V133.64h.957c.86.504 1.633.683 2.316.683.778 0 1.5-.23 2.41-.5 1.457-.457 2.91-.82 4.684-.82 1.273 0 2.637.226 4.316.726l-1.449 3.73" style="stroke:none;fill-rule:nonzero;fill:#264288;fill-opacity:1" />\n</svg>\n',PAY_PLAN_MONOCHROME_EN:'\n<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 555.6 195.16">\n  <path d="M13.941 89.418c.45 7.591 6.969 13.38 14.56 12.926 7.59-.45 13.38-6.969 12.926-14.554-.45-7.591-6.97-13.38-14.56-12.932-7.586.45-13.375 6.97-12.926 14.56M.022 52.147C.428 58.98 6.293 64.185 13.127 63.78c6.828-.4 12.038-6.27 11.632-13.099-.405-6.834-6.27-12.045-13.104-11.638-6.828.405-12.039 6.27-11.633 13.104M18.96 19.043c.345 5.806 5.329 10.237 11.14 9.89 5.805-.345 10.23-5.328 9.885-11.14-.341-5.805-5.33-10.23-11.136-9.89-5.805.346-10.236 5.336-9.89 11.14M53.048 8.93a8.423 8.423 0 0 0 8.912 7.909 8.425 8.425 0 0 0 7.91-8.911 8.425 8.425 0 1 0-16.822 1.001M82.386 20.27a6.319 6.319 0 0 0 6.682 5.934 6.32 6.32 0 1 0-6.682-5.935M429.195 178.81l-12.45-18.829h-5.129v18.828h-10.052v-36.878c0-3.04 0-5.432-1.219-7.018-.637-.844-1.925-1.622-3.105-1.687v-.915h22.103c4.522 0 8.57.947 11.508 3.073 2.965 2.159 4.924 5.497 4.924 10.188 0 3.344-1.348 6.278-3.242 8.473-1.482 1.786-3.473 3.1-5.432 3.88l14.274 20.884zm-11.508-40.526h-6.071v15.69h5.768c5.973 0 8.067-4.824 8.067-8.163 0-3.983-2.635-7.527-7.764-7.527M468.461 132.313c10.394 0 15.116 5.6 15.116 11.335 0 4.724-2.764 7.932-7.086 9.588 6.41 2.024 9.452 5.734 9.452 11.536 0 3.51-1.612 7.098-4.594 9.755-2.922 2.608-7.624 4.285-12.482 4.285h-19.203v-36.884c0-3.036 0-5.432-1.212-7.017-.637-.844-1.92-1.618-3.105-1.688v-.91zm-2.294 40.59c6.005 0 9.209-3.776 9.209-8.738 0-4.22-3.339-7.088-8.03-7.088h-7.591v15.827Zm0-21.76c4.014 0 7.088-2.7 7.088-6.818 0-3.409-2.771-6.109-7.559-6.109h-5.941v12.927h6.412M529.456 142.705c-2.293-3.273-6.547-5.768-10.967-5.768-5.87 0-13.564 4.215-13.564 18.656 0 14.544 9.718 18.727 16.059 18.727 6.347 0 11.101-5.027 11.101-5.027v7.591s-4.388 3.139-13.596 3.139c-12.082 0-24.222-6.715-24.222-24.43 0-16.058 10.929-24.493 24.222-24.493 6.715 0 12.552 2.43 14.642 3.441l-3.675 8.164M540.607 134.779h-2.315v-1.629h6.605v1.629h-2.348v6.952h-1.942v-6.952M553.579 138.45a99.113 99.113 0 0 1-.076-3.538h-.032a57.108 57.108 0 0 1-.958 3.332l-1.049 3.344h-1.51l-.926-3.316a47.353 47.353 0 0 1-.773-3.36h-.027c-.044 1.168-.087 2.493-.141 3.565l-.162 3.252h-1.797l.552-8.576h2.587l.838 2.862c.271.985.536 2.068.726 3.068h.042c.234-.99.526-2.12.818-3.08l.909-2.85h2.537l.46 8.576h-1.882l-.136-3.278M333.043 175.758c2.852 0 5.032-1.151 6.486-3.094 1.879-2.304 2.728-5.513 2.728-8.97 0-8.127-3.333-12.737-8.792-12.737-2.24 0-4.545.731-6.482 1.76v21.1c1.088.79 3.452 1.941 6.06 1.941m-6.06-27.1c2.18-1.034 4.788-1.7 7.332-1.7 4.728 0 8.613 1.878 11.097 5.157 2.423 3.268 3.516 7.396 3.516 11.336 0 4.004-.79 7.217-2.543 10.062-2.369 3.762-6.552 6.37-12.012 6.37-2.726 0-4.788-.672-6.481-1.272-1.033-.368-2.008-.731-2.976-.731-1.028 0-1.937.244-2.97.91h-1.337v-46.505h6.374v16.372M370.945 174.453c2.376-6.065 10.595-26.707 10.595-26.707h-6.368c-.99 5.195-4.545 14.333-7.759 23.05l-9.398-23.05h-7.034l13.072 30.56c-3.009 5.707-6.488 10.166-9.496 13.034l4.914 3.82c.789-.867 1.72-2.165 2.705-3.696a57.996 57.996 0 0 0 3.067-5.184c2.273-4.117 4.458-8.645 5.702-11.827M88.44 97.697c10.107 0 16.28-8.646 16.28-23.693 0-12.125-6.173-22.572-17.291-22.572-4.94 0-8.982 2.023-11.114 3.479v39.302c3.48 1.91 7.521 3.484 12.125 3.484M66.88 45.48c2.358 1.239 4.268 1.688 6.178 1.688 1.796 0 3.37-.563 5.389-1.239 2.922-1.012 6.4-2.018 11.34-2.018 8.197 0 15.16 3.592 19.765 9.209 4.713 5.837 7.52 13.472 7.52 21.555 0 15.496-8.98 30.434-26.836 30.434-5.16 0-9.322-1.239-13.92-3.143v30.429h-11.79V45.48h2.353M166.685 54.353c-2.586-1.682-6.514-2.808-9.993-2.808-8.983 0-17.407 7.186-17.407 22.795 0 9.095 2.359 15.83 7.186 19.764 2.358 2.019 5.389 3.366 8.981 3.366 4.719 0 9.323-2.467 11.233-4.264zm9.544 48.62c-2.024-1.12-3.706-1.683-5.502-1.683-1.683 0-3.479.676-5.503 1.347-2.916 1.12-6.628 2.472-11.341 2.472-9.884 0-17.519-4.604-21.897-11.232-3.484-5.275-5.166-11.898-5.166-18.753 0-12.011 4.94-20.1 12.016-25.49 4.827-3.927 11.005-5.61 17.065-5.61 5.844 0 10.898 1.456 13.706 2.581l8.981-2.132v58.5h-2.359M269.795 91.408c2.693 1.012 5.28 1.575 7.974 1.575 8.306 0 13.364-7.413 13.364-19.202 0-9.544-5.166-17.741-14.376-17.741-3.478 0-5.389.67-6.962 1.568zm-11.791-45.924c2.132 1.119 3.593 1.568 5.39 1.568 1.46 0 2.92-.784 4.49-1.347 3.036-1.233 6.628-1.909 11.455-1.909 16.956 0 28.973 13.925 28.973 30.656 0 15.61-9.436 30.656-28.297 30.656-4.383 0-7.078-.677-10.22-1.57v28.747h-16.731V45.484h4.94M320.61 102.972h16.615V16.847H320.61v86.125M379.652 55.812c-6.515 0-12.801 5.839-12.801 18.527 0 7.526 2.017 13.142 5.501 16.286 1.684 1.46 3.815 2.58 6.51 2.58 2.922 0 6.065-1.347 7.753-2.58V57.496c-2.251-1.12-4.831-1.684-6.963-1.684m23.465 47.273h-4.94c-2.018-1.12-3.478-1.57-4.94-1.57-1.46 0-3.37.564-5.166 1.348-2.359 1.006-6.06 2.245-10.664 2.245-10.892 0-19.43-5.389-23.807-13.477-2.695-4.94-3.933-10.778-3.933-16.616 0-12.017 4.945-20.1 12.016-25.603 4.945-3.82 11.568-5.503 17.741-5.503 4.27 0 9.659 1.12 12.801 2.246l10.892-2.472v59.402M453.019 102.974V71.306c0-5.048-.671-8.532-2.132-10.891-1.683-2.468-4.604-3.707-7.862-3.707-3.144 0-6.065 1.012-8.31 1.91v44.356h-16.622V45.481h5.059c2.467 1.234 3.815 1.575 5.048 1.575 4.719 0 8.76-3.257 16.957-3.257 8.982 0 16.28 3.365 20.55 9.766 2.808 4.268 3.933 10.334 3.933 16.393v33.016h-16.621M214.09 116.668c4.175-7.58 8.177-15.88 10.463-21.727 4.226-10.806 18.466-46.56 19.551-49.286l.07-.171H232.384c-1.84 9.619-8.419 26.536-14.375 42.686l-6.861-16.826-10.54-25.86h-13.03l24.207 56.589c-5.572 10.572-12.005 18.834-17.584 24.142l.005.003-.002.002 5.542 4.307 3.556 2.765v-.002l.003.002.025-.034c1.22-1.351 2.628-3.256 4.13-5.51 2.56-3.71 4.749-7.469 6.632-11.08" />\n</svg>\n',PAY_PLAN_MONOCHROME_FR:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.85 168.84">\n  <defs>\n    <clipPath id="a">\n      <path d="M348 122h5.852v8H348Zm0 0" />\n    </clipPath>\n    <clipPath id="b">\n      <path d="M155 133h23v35.84h-23Zm0 0" />\n    </clipPath>\n  </defs>\n  <path d="M14.668 83.793c.8 6.879 7.031 11.805 13.91 11 6.883-.8 11.809-7.031 11-13.906-.8-6.883-7.031-11.809-13.91-11.004-6.879.805-11.805 7.031-11 13.91M.078 50.621c.719 6.191 6.328 10.625 12.52 9.902 6.187-.726 10.62-6.328 9.898-12.523-.719-6.188-6.328-10.625-12.516-9.898-6.19.722-10.625 6.324-9.902 12.52M15.582 19.535c.613 5.262 5.379 9.031 10.64 8.414 5.262-.613 9.032-5.379 8.419-10.64-.618-5.262-5.38-9.032-10.645-8.414-5.262.613-9.027 5.378-8.414 10.64M46.059 8.566a7.678 7.678 0 0 0 8.515 6.735 7.671 7.671 0 0 0 6.727-8.516C60.812 2.575 57-.438 52.793.051c-4.211.496-7.227 4.304-6.734 8.515M73.324 17.36a5.757 5.757 0 0 0 11.438-1.337 5.763 5.763 0 0 0-6.387-5.05 5.763 5.763 0 0 0-5.05 6.386M304.34 94.648c-3.36 2.493-10.067 7.579-21.113 7.579-15.48 0-28.36-11.692-28.36-28.692 0-17.86 11.906-30.097 28.684-30.097 7.797 0 14.289 2.601 20.246 6.066l-5.305 10.5c-6.82-6.383-10.285-8.66-15.59-8.66-6.168 0-13.859 6.281-13.859 19.488 0 14.723 8.34 22.844 16.57 22.844 3.242 0 8.66-1.297 15.047-5.52l3.68 6.492M88.648 57.043h8.844v43.113h-8.844Zm4.38-7.832c-3.032 0-5.477-2.523-5.477-5.559 0-3.113 2.36-5.558 5.476-5.558 3.032 0 5.559 2.445 5.559 5.558 0 2.946-2.527 5.559-5.559 5.559m-12.5-6.313c-3.535-1.855-6.398-3.035-8.757-3.035-4.375 0-6.735 3.79-6.735 13.473v3.707H76.91v5.39H65.035v37.723h-8.844V54.602c0-5.141.504-9.262 2.352-12.633 3.207-5.727 8.512-7.742 14.488-7.742 3.207 0 6.906.668 9.938 1.68l-2.442 6.991M138.934 100.156V76.074c0-4.46-.59-7.828-1.938-9.933-1.687-3.036-4.637-4.297-7.918-4.297-3.617 0-6.57 1.176-8.93 2.523v35.79h-8.84V57.042h1.77c1.938.922 3.031 1.258 4.297 1.258 1.512 0 2.773-.336 4.29-.836 2.276-.676 4.804-1.602 8.76-1.602 6.571 0 11.54 2.438 14.4 6.82 2.273 3.368 3.03 7.41 3.03 12.301v25.172h-8.921M187.445 63.691c-1.937-1.257-4.89-2.097-7.496-2.097-6.738 0-13.05 5.383-13.05 17.09 0 6.82 1.765 11.875 5.39 14.824 1.766 1.512 4.043 2.523 6.734 2.523 3.532 0 6.989-1.847 8.422-3.195Zm7.157 36.47c-1.516-.845-2.778-1.266-4.125-1.266-1.266 0-2.614.503-4.125 1.011-2.192.84-4.97 1.852-8.512 1.852-7.41 0-13.137-3.453-16.418-8.422-2.61-3.957-3.871-8.922-3.871-14.063 0-9.007 3.703-15.07 9.012-19.113 3.617-2.95 8.25-4.215 12.796-4.215 4.38 0 8.168 1.098 10.274 1.942l6.734-1.606v43.88h-1.765M236.969 100.156V76.074c0-4.46-.586-7.828-1.934-9.933-1.683-3.036-4.633-4.297-7.918-4.297-3.62 0-6.566 1.176-8.926 2.523v35.79h-8.843V57.042h1.773c1.934.922 3.031 1.258 4.29 1.258 1.519 0 2.78-.336 4.296-.836 2.277-.676 4.8-1.602 8.758-1.602 6.57 0 11.535 2.438 14.402 6.82 2.274 3.368 3.035 7.41 3.035 12.301v25.172h-8.933M258.266 157.012l-9.34-14.121h-3.844v14.12h-7.543v-27.66c0-2.277 0-4.074-.91-5.261-.48-.637-1.441-1.219-2.328-1.266v-.683h16.574c3.39 0 6.426.707 8.633 2.3 2.222 1.621 3.691 4.125 3.691 7.645 0 2.5-1.012 4.707-2.433 6.351-1.11 1.344-2.602 2.325-4.07 2.907l10.702 15.668Zm-8.63-30.395h-4.554v11.766h4.324c4.48 0 6.047-3.617 6.047-6.121 0-2.989-1.973-5.645-5.816-5.645M287.71 122.14c7.794 0 11.34 4.2 11.34 8.505 0 3.542-2.073 5.945-5.316 7.183 4.805 1.52 7.086 4.305 7.086 8.656 0 2.63-1.207 5.32-3.437 7.313-2.2 1.953-5.723 3.21-9.367 3.21h-14.403v-27.652c0-2.28 0-4.078-.906-5.265-.484-.637-1.441-1.215-2.328-1.266v-.683Zm-1.718 30.442c4.504 0 6.906-2.836 6.906-6.555 0-3.164-2.503-5.316-6.02-5.316h-5.698v11.871Zm0-16.32c3.012 0 5.317-2.028 5.317-5.114 0-2.554-2.079-4.582-5.672-4.582h-4.457v9.696h4.812M333.457 129.934c-1.723-2.457-4.91-4.329-8.227-4.329-4.402 0-10.171 3.165-10.171 13.997 0 10.906 7.289 14.043 12.046 14.043 4.758 0 8.325-3.774 8.325-3.774v5.695s-3.29 2.356-10.2 2.356c-9.054 0-18.168-5.035-18.168-18.32 0-12.047 8.2-18.375 18.168-18.375 5.036 0 9.415 1.824 10.985 2.585l-2.758 6.122M346.027 126.734a67.326 67.326 0 0 1-.058-2.652h-.024a44.177 44.177 0 0 1-.718 2.5l-.79 2.512h-1.128l-.692-2.492a31.976 31.976 0 0 1-.582-2.52h-.02c-.03.879-.07 1.867-.105 2.672l-.12 2.441h-1.349l.414-6.433h1.942l.625 2.148c.203.738.398 1.547.547 2.3h.027c.18-.741.399-1.593.61-2.308l.687-2.14h1.906l.344 6.433h-1.414l-.102-2.46" />\n  <g clip-path="url(#a)">\n    <path d="M353.777 129.02c-.261.128-.87.277-1.644.277-2.23 0-3.38-1.395-3.38-3.227 0-2.195 1.575-3.41 3.517-3.41.753 0 1.332.149 1.585.285l-.3 1.153a3.044 3.044 0 0 0-1.22-.243c-1.151 0-2.046.7-2.046 2.13 0 1.288.758 2.1 2.055 2.1.441 0 .93-.085 1.215-.206l.218 1.14" />\n  </g>\n  <g clip-path="url(#b)">\n    <path d="M165.602 154.79c4.09 0 6.59-3.505 6.59-9.599 0-4.914-2.5-9.14-7.005-9.14-2 0-3.632.82-4.5 1.41v15.914c1.41.777 3.043 1.414 4.915 1.414m-8.73-21.144c.948.5 1.726.675 2.495.675.73 0 1.363-.222 2.188-.5 1.18-.41 2.59-.816 4.59-.816 3.316 0 6.136 1.457 8.003 3.726 1.91 2.368 3.047 5.461 3.047 8.735 0 6.273-3.636 12.324-10.867 12.324-2.094 0-3.777-.504-5.64-1.273v12.324h-4.778v-35.195h.961" />\n  </g>\n  <path d="M197.578 137.234c-1.047-.683-2.637-1.136-4.047-1.136-3.636 0-7.047 2.91-7.047 9.23 0 3.684.953 6.41 2.91 8 .954.824 2.184 1.367 3.637 1.367 1.91 0 3.778-1.004 4.547-1.726Zm3.867 19.688c-.82-.45-1.5-.684-2.23-.684-.68 0-1.41.278-2.227.547-1.18.457-2.683 1.004-4.593 1.004-4 0-7.09-1.863-8.872-4.55-1.406-2.134-2.085-4.817-2.085-7.594 0-4.864 1.996-8.141 4.863-10.325 1.953-1.59 4.457-2.27 6.91-2.27 2.367 0 4.414.59 5.55 1.048l3.634-.868v23.692h-.95M222.645 137.46c-1.637-.73-2.958-1.05-4.188-1.05-1.41 0-2.68.371-4.273 1.23v19.282h-4.774V133.64h.957c.86.504 1.633.683 2.317.683.777 0 1.5-.23 2.41-.5 1.457-.457 2.91-.82 4.683-.82 1.274 0 2.637.226 4.317.726l-1.45 3.73" />\n</svg>\n'},Nr={BREAD_MONOCHROME_EN:32,PAY_PLAN_RGB_EN:32,PAY_PLAN_RGB_FR:38,PAY_PLAN_MONOCHROME_EN:32,PAY_PLAN_MONOCHROME_FR:38};var Lr=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getApplySemigroup=n.getOrd=n.getEq=n.getShow=n.URI=n.wilt=n.wither=n.sequence=n.traverse=n.partitionMap=n.partition=n.filterMap=n.filter=n.separate=n.compact=n.reduceRight=n.foldMap=n.reduce=n.duplicate=n.extend=n.throwError=n.zero=n.alt=n.altW=n.flatten=n.chainFirst=n.chain=n.of=n.apSecond=n.apFirst=n.ap=n.map=n.chainNullableK=n.mapNullable=n.fromNullableK=n.getOrElse=n.getOrElseW=n.toUndefined=n.toNullable=n.fold=n.fromEither=n.getRight=n.getLeft=n.tryCatch=n.fromPredicate=n.fromNullable=n.some=n.none=n.isNone=n.isSome=void 0,n.sequenceArray=n.traverseArray=n.traverseArrayWithIndex=n.apS=n.bind=n.bindTo=n.Do=n.getRefinement=n.exists=n.elem=n.option=n.MonadThrow=n.Witherable=n.Traversable=n.Filterable=n.Compactable=n.Extend=n.Alternative=n.Alt=n.Foldable=n.Monad=n.Applicative=n.Functor=n.getMonoid=n.getLastMonoid=n.getFirstMonoid=n.getApplyMonoid=void 0;n.isSome=function(e){return"Some"===e._tag};n.isNone=function(e){return"None"===e._tag},n.none={_tag:"None"};function t(e){return null==e?n.none:n.some(e)}function r(e){return"Right"===e._tag?n.none:n.some(e.left)}function i(e){return"Left"===e._tag?n.none:n.some(e.right)}n.some=function(e){return{_tag:"Some",value:e}},n.fromNullable=t,n.fromPredicate=function(e){return function(t){return e(t)?n.some(t):n.none}},n.tryCatch=function(e){try{return n.some(e())}catch(e){return n.none}},n.getLeft=r,n.getRight=i,n.fromEither=i,n.fold=function(e,t){return function(r){return n.isNone(r)?e():t(r.value)}},n.toNullable=function(e){return n.isNone(e)?null:e.value},n.toUndefined=function(e){return n.isNone(e)?void 0:e.value};function o(e){return function(r){return n.isNone(r)?n.none:t(e(r.value))}}n.getOrElseW=function(e){return function(t){return n.isNone(t)?e():t.value}},n.getOrElse=n.getOrElseW,n.fromNullableK=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(void 0,n))}},n.mapNullable=o,n.chainNullableK=o;var a=function(e,t){return hn.pipe(e,n.map(t))},u=function(e,t){return hn.pipe(e,n.ap(t))},c=function(e,t){return hn.pipe(e,n.chain(t))},s=function(e,t,r){return hn.pipe(e,n.reduce(t,r))},d=function(e){var t=n.foldMap(e);return function(e,n){return hn.pipe(e,t(n))}},l=function(e,t,r){return hn.pipe(e,n.reduceRight(t,r))},f=function(e){var t=n.traverse(e);return function(e,n){return hn.pipe(e,t(n))}},p=function(e,t){return hn.pipe(e,n.alt(t))},h=function(e,t){return hn.pipe(e,n.filter(t))},m=function(e,t){return hn.pipe(e,n.filterMap(t))},g=function(e,t){return hn.pipe(e,n.extend(t))},v=function(e,t){return hn.pipe(e,n.partition(t))},y=function(e,t){return hn.pipe(e,n.partitionMap(t))},w=function(e){var t=n.wither(e);return function(e,n){return hn.pipe(e,t(n))}},I=function(e){var t=n.wilt(e);return function(e,n){return hn.pipe(e,t(n))}};n.map=function(e){return function(t){return n.isNone(t)?n.none:n.some(e(t.value))}};n.ap=function(e){return function(t){return n.isNone(t)||n.isNone(e)?n.none:n.some(t.value(e.value))}};n.apFirst=function(e){return hn.flow(n.map((function(e){return function(){return e}})),n.ap(e))};n.apSecond=function(e){return hn.flow(n.map((function(){return function(e){return e}})),n.ap(e))},n.of=n.some;n.chain=function(e){return function(t){return n.isNone(t)?n.none:e(t.value)}};n.chainFirst=function(e){return n.chain((function(t){return hn.pipe(e(t),n.map((function(){return t})))}))},n.flatten=n.chain(hn.identity);n.altW=function(e){return function(t){return n.isNone(t)?e():t}},n.alt=n.altW;n.zero=function(){return n.none};n.throwError=function(){return n.none};n.extend=function(e){return function(t){return n.isNone(t)?n.none:n.some(e(t))}},n.duplicate=n.extend(hn.identity);n.reduce=function(e,t){return function(r){return n.isNone(r)?e:t(e,r.value)}};n.foldMap=function(e){return function(t){return function(r){return n.isNone(r)?e.empty:t(r.value)}}};n.reduceRight=function(e,t){return function(r){return n.isNone(r)?e:t(r.value,e)}},n.compact=n.flatten;var E={left:n.none,right:n.none};n.separate=function(e){var t=hn.pipe(e,n.map((function(e){return{left:r(e),right:i(e)}})));return n.isNone(t)?E:t.value};n.filter=function(e){return function(t){return n.isNone(t)?n.none:e(t.value)?t:n.none}};n.filterMap=function(e){return function(t){return n.isNone(t)?n.none:e(t.value)}};n.partition=function(e){return function(n){return{left:h(n,(function(n){return!e(n)})),right:h(n,e)}}};n.partitionMap=function(e){return hn.flow(n.map(e),n.separate)};n.traverse=function(e){return function(t){return function(r){return n.isNone(r)?e.of(n.none):e.map(t(r.value),n.some)}}};n.sequence=function(e){return function(t){return n.isNone(t)?e.of(n.none):e.map(t.value,n.some)}};n.wither=function(e){return function(t){return function(r){return n.isNone(r)?e.of(n.none):t(r.value)}}};function b(e){return{equals:function(t,r){return t===r||(n.isNone(t)?n.isNone(r):!n.isNone(r)&&e.equals(t.value,r.value))}}}function x(e){return{concat:function(t,r){return n.isSome(t)&&n.isSome(r)?n.some(e.concat(t.value,r.value)):n.none}}}n.wilt=function(e){return function(t){return function(o){return n.isNone(o)?e.of({left:n.none,right:n.none}):e.map(t(o.value),(function(e){return{left:r(e),right:i(e)}}))}}},n.URI="Option",n.getShow=function(e){return{show:function(t){return n.isNone(t)?"none":"some("+e.show(t.value)+")"}}},n.getEq=b,n.getOrd=function(e){return{equals:b(e).equals,compare:function(t,r){return t===r?0:n.isSome(t)?n.isSome(r)?e.compare(t.value,r.value):1:-1}}},n.getApplySemigroup=x,n.getApplyMonoid=function(e){return{concat:x(e).concat,empty:n.some(e.empty)}},n.getFirstMonoid=function(){return{concat:function(e,t){return n.isNone(e)?t:e},empty:n.none}},n.getLastMonoid=function(){return{concat:function(e,t){return n.isNone(t)?e:t},empty:n.none}},n.getMonoid=function(e){return{concat:function(t,r){return n.isNone(t)?r:n.isNone(r)?t:n.some(e.concat(t.value,r.value))},empty:n.none}},n.Functor={URI:n.URI,map:a},n.Applicative={URI:n.URI,map:a,ap:u,of:n.of},n.Monad={URI:n.URI,map:a,ap:u,of:n.of,chain:c},n.Foldable={URI:n.URI,reduce:s,foldMap:d,reduceRight:l},n.Alt={URI:n.URI,map:a,alt:p},n.Alternative={URI:n.URI,map:a,ap:u,of:n.of,alt:p,zero:n.zero},n.Extend={URI:n.URI,map:a,extend:g},n.Compactable={URI:n.URI,compact:n.compact,separate:n.separate},n.Filterable={URI:n.URI,map:a,compact:n.compact,separate:n.separate,filter:h,filterMap:m,partition:v,partitionMap:y},n.Traversable={URI:n.URI,map:a,reduce:s,foldMap:d,reduceRight:l,traverse:f,sequence:n.sequence},n.Witherable={URI:n.URI,map:a,reduce:s,foldMap:d,reduceRight:l,traverse:f,sequence:n.sequence,compact:n.compact,separate:n.separate,filter:h,filterMap:m,partition:v,partitionMap:y,wither:w,wilt:I},n.MonadThrow={URI:n.URI,map:a,ap:u,of:n.of,chain:c,throwError:n.throwError},n.option={URI:n.URI,map:a,of:n.of,ap:u,chain:c,reduce:s,foldMap:d,reduceRight:l,traverse:f,sequence:n.sequence,zero:n.zero,alt:p,extend:g,compact:n.compact,separate:n.separate,filter:h,filterMap:m,partition:v,partitionMap:y,wither:w,wilt:I,throwError:n.throwError},n.elem=function(e){return function(t,r){return!n.isNone(r)&&e.equals(t,r.value)}},n.exists=function(e){return function(t){return!n.isNone(t)&&e(t.value)}},n.getRefinement=function(e){return function(t){return n.isSome(e(t))}},n.Do=n.of({});n.bindTo=function(e){return n.map(hn.bindTo_(e))};n.bind=function(e,t){return n.chain((function(r){return hn.pipe(t(r),n.map((function(n){return hn.bind_(r,e,n)})))}))};n.apS=function(e,t){return hn.flow(n.map((function(n){return function(t){return hn.bind_(n,e,t)}})),n.ap(t))};n.traverseArrayWithIndex=function(e){return function(t){for(var r=[],i=0;i<t.length;i++){var o=e(i,t[i]);if(n.isNone(o))return n.none;r.push(o.value)}return n.some(r)}};n.traverseArray=function(e){return n.traverseArrayWithIndex((function(n,t){return e(t)}))},n.sequenceArray=n.traverseArray(hn.identity)})),Ur=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.invert=n.monoidOrdering=n.semigroupOrdering=n.eqOrdering=n.sign=void 0,n.sign=function(e){return e<=-1?-1:e>=1?1:0},n.eqOrdering={equals:function(e,n){return e===n}},n.semigroupOrdering={concat:function(e,n){return 0!==e?e:n}},n.monoidOrdering={concat:n.semigroupOrdering.concat,empty:0},n.invert=function(e){switch(e){case-1:return 1;case 1:return-1;default:return 0}}})),Fr=dn((function(e,n){function t(e,n){return e<n?-1:e>n?1:0}function r(e,n){return e===n}function i(e){return function(n,t){return-1===e.compare(n,t)}}function o(e){return function(n,t){return 1===e.compare(n,t)}}function a(e){return function(n,t){return 1===e.compare(n,t)?t:n}}function u(e){return function(n,t){return-1===e.compare(n,t)?t:n}}function c(e){var n=function(n,t){return n===t?0:e(n,t)};return{equals:function(e,t){return 0===n(e,t)},compare:n}}function s(){return{concat:function(e,n){return c((function(t,r){return Ur.monoidOrdering.concat(e.compare(t,r),n.compare(t,r))}))}}}Object.defineProperty(n,"__esModule",{value:!0}),n.ord=n.Contravariant=n.ordDate=n.URI=n.contramap=n.getDualOrd=n.getTupleOrd=n.getMonoid=n.getSemigroup=n.fromCompare=n.between=n.clamp=n.max=n.min=n.geq=n.leq=n.gt=n.lt=n.ordBoolean=n.ordNumber=n.ordString=void 0,n.ordString={equals:r,compare:t},n.ordNumber={equals:r,compare:t},n.ordBoolean={equals:r,compare:t},n.lt=i,n.gt=o,n.leq=function(e){return function(n,t){return 1!==e.compare(n,t)}},n.geq=function(e){return function(n,t){return-1!==e.compare(n,t)}},n.min=a,n.max=u,n.clamp=function(e){var n=a(e),t=u(e);return function(e,r){return function(i){return t(n(i,r),e)}}},n.between=function(e){var n=i(e),t=o(e);return function(e,r){return function(i){return!n(i,e)&&!t(i,r)}}},n.fromCompare=c,n.getSemigroup=s,n.getMonoid=function(){return{concat:s().concat,empty:c((function(){return 0}))}},n.getTupleOrd=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=e.length;return c((function(n,r){for(var i=0;i<t-1;i++){var o=e[i].compare(n[i],r[i]);if(0!==o)return o}return e[i].compare(n[i],r[i])}))},n.getDualOrd=function(e){return c((function(n,t){return e.compare(t,n)}))};n.contramap=function(e){return function(n){return c((function(t,r){return n.compare(e(t),e(r))}))}},n.URI="Ord",n.ordDate=hn.pipe(n.ordNumber,n.contramap((function(e){return e.valueOf()}))),n.Contravariant={URI:n.URI,contramap:function(e,t){return hn.pipe(e,n.contramap(t))}},n.ord=n.Contravariant})),kr=Lr,jr=dn((function(e,n){var t=un&&un.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=un&&un.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=un&&un.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.intersperse=n.prependToAll=n.unzip=n.zip=n.zipWith=n.sort=n.lefts=n.rights=n.reverse=n.modifyAt=n.deleteAt=n.updateAt=n.insertAt=n.findLastIndex=n.findLastMap=n.findLast=n.findFirstMap=n.findFirst=n.findIndex=n.dropLeftWhile=n.dropRight=n.dropLeft=n.spanLeft=n.takeLeftWhile=n.takeRight=n.takeLeft=n.init=n.tail=n.last=n.head=n.snoc=n.cons=n.lookup=n.isOutOfBound=n.isNonEmpty=n.isEmpty=n.scanRight=n.scanLeft=n.foldRight=n.foldLeft=n.flatten=n.replicate=n.range=n.makeBy=n.getOrd=n.getEq=n.getMonoid=n.getShow=n.toArray=n.fromArray=void 0,n.FunctorWithIndex=n.Functor=n.URI=n.unfold=n.wilt=n.wither=n.traverseWithIndex=n.sequence=n.traverse=n.reduceRightWithIndex=n.reduceRight=n.reduceWithIndex=n.foldMap=n.reduce=n.foldMapWithIndex=n.duplicate=n.extend=n.filterWithIndex=n.partitionMapWithIndex=n.partitionMap=n.partitionWithIndex=n.partition=n.compact=n.filterMap=n.filterMapWithIndex=n.filter=n.separate=n.mapWithIndex=n.map=n.chainFirst=n.chainWithIndex=n.chain=n.apSecond=n.apFirst=n.ap=n.alt=n.altW=n.zero=n.of=n.difference=n.intersection=n.union=n.comprehension=n.chunksOf=n.splitAt=n.chop=n.sortBy=n.uniq=n.elem=n.rotate=void 0,n.apS=n.bind=n.bindTo=n.Do=n.some=n.every=n.empty=n.unsafeDeleteAt=n.unsafeUpdateAt=n.unsafeInsertAt=n.readonlyArray=n.Witherable=n.TraversableWithIndex=n.Traversable=n.FoldableWithIndex=n.Foldable=n.FilterableWithIndex=n.Filterable=n.Compactable=n.Extend=n.Alternative=n.Alt=n.Unfoldable=n.Monad=n.Applicative=void 0;var o=i(kr);n.fromArray=function(e){var t=e.length;if(0===t)return n.empty;for(var r=Array(t),i=0;i<t;i++)r[i]=e[i];return r},n.toArray=function(e){for(var n=e.length,t=Array(n),r=0;r<n;r++)t[r]=e[r];return t},n.getShow=function(e){return{show:function(n){return"["+n.map(e.show).join(", ")+"]"}}};var a=function(e,n){var t=e.length;if(0===t)return n;var r=n.length;if(0===r)return e;for(var i=Array(t+r),o=0;o<t;o++)i[o]=e[o];for(o=0;o<r;o++)i[o+t]=n[o];return i};function u(e,n){for(var t=[],r=0;r<e;r++)t.push(n(r));return t}function c(e){return 0===e.length}function s(e){return e.length>0}function d(e,n){return e<0||e>=n.length}function l(e,n){return void 0===n?function(n){return l(e,n)}:d(e,n)?o.none:o.some(n[e])}function f(e,n){if(void 0===n)return function(n){return f(e,n)};for(var t=n.length,r=Array(t+1),i=0;i<t;i++)r[i+1]=n[i];return r[0]=e,r}function p(e,n){for(var t=e.length,r=Array(t+1),i=0;i<t;i++)r[i]=e[i];return r[t]=n,r}n.getMonoid=function(){return{concat:a,empty:n.empty}},n.getEq=function(e){return{equals:function(n,t){return n===t||n.length===t.length&&n.every((function(n,r){return e.equals(n,t[r])}))}}},n.getOrd=function(e){return Fr.fromCompare((function(n,t){for(var r=n.length,i=t.length,o=Math.min(r,i),a=0;a<o;a++){var u=e.compare(n[a],t[a]);if(0!==u)return u}return Fr.ordNumber.compare(r,i)}))},n.makeBy=u,n.range=function(e,n){return u(n-e+1,(function(n){return e+n}))},n.replicate=function(e,n){return u(e,(function(){return n}))},n.flatten=function(e){for(var n=0,t=e.length,r=0;r<t;r++)n+=e[r].length;var i=Array(n),o=0;for(r=0;r<t;r++){for(var a=e[r],u=a.length,c=0;c<u;c++)i[c+o]=a[c];o+=u}return i},n.foldLeft=function(e,n){return function(t){return c(t)?e():n(t[0],t.slice(1))}},n.foldRight=function(e,n){return function(t){return c(t)?e():n(t.slice(0,t.length-1),t[t.length-1])}},n.scanLeft=function(e,n){return function(t){var r=t.length,i=new Array(r+1);i[0]=e;for(var o=0;o<r;o++)i[o+1]=n(i[o],t[o]);return i}},n.scanRight=function(e,n){return function(t){var r=t.length,i=new Array(r+1);i[r]=e;for(var o=r-1;o>=0;o--)i[o]=n(t[o],i[o+1]);return i}},n.isEmpty=c,n.isNonEmpty=s,n.isOutOfBound=d,n.lookup=l,n.cons=f,n.snoc=p,n.head=function(e){return c(e)?o.none:o.some(e[0])},n.last=function(e){return l(e.length-1,e)},n.tail=function(e){return c(e)?o.none:o.some(e.slice(1))},n.init=function(e){var n=e.length;return 0===n?o.none:o.some(e.slice(0,n-1))},n.takeLeft=function(e){return function(n){return n.slice(0,e)}},n.takeRight=function(e){return function(t){return 0===e?n.empty:t.slice(-e)}},n.takeLeftWhile=function(e){return function(n){for(var t=h(n,e),r=Array(t),i=0;i<t;i++)r[i]=n[i];return r}};var h=function(e,n){for(var t=e.length,r=0;r<t&&n(e[r]);r++);return r};n.spanLeft=function(e){return function(n){for(var t=h(n,e),r=Array(t),i=0;i<t;i++)r[i]=n[i];var o=n.length,a=Array(o-t);for(i=t;i<o;i++)a[i-t]=n[i];return{init:r,rest:a}}},n.dropLeft=function(e){return function(n){return n.slice(e,n.length)}},n.dropRight=function(e){return function(n){return n.slice(0,n.length-e)}},n.dropLeftWhile=function(e){return function(n){for(var t=h(n,e),r=n.length,i=Array(r-t),o=t;o<r;o++)i[o-t]=n[o];return i}},n.findIndex=function(e){return function(n){for(var t=n.length,r=0;r<t;r++)if(e(n[r]))return o.some(r);return o.none}},n.findFirst=function(e){return function(n){for(var t=n.length,r=0;r<t;r++)if(e(n[r]))return o.some(n[r]);return o.none}},n.findFirstMap=function(e){return function(n){for(var t=n.length,r=0;r<t;r++){var i=e(n[r]);if(o.isSome(i))return i}return o.none}},n.findLast=function(e){return function(n){for(var t=n.length-1;t>=0;t--)if(e(n[t]))return o.some(n[t]);return o.none}},n.findLastMap=function(e){return function(n){for(var t=n.length-1;t>=0;t--){var r=e(n[t]);if(o.isSome(r))return r}return o.none}},n.findLastIndex=function(e){return function(n){for(var t=n.length-1;t>=0;t--)if(e(n[t]))return o.some(t);return o.none}},n.insertAt=function(e,n){return function(t){return e<0||e>t.length?o.none:o.some(q(e,n,t))}},n.updateAt=function(e,n){return function(t){return d(e,t)?o.none:o.some(z(e,n,t))}},n.deleteAt=function(e){return function(n){return d(e,n)?o.none:o.some($(e,n))}},n.modifyAt=function(e,n){return function(t){return d(e,t)?o.none:o.some(z(e,n(t[e]),t))}},n.reverse=function(e){return c(e)?e:e.slice().reverse()},n.rights=function(e){for(var n=[],t=e.length,r=0;r<t;r++){var i=e[r];"Right"===i._tag&&n.push(i.right)}return n},n.lefts=function(e){for(var n=[],t=e.length,r=0;r<t;r++){var i=e[r];"Left"===i._tag&&n.push(i.left)}return n};function m(e,n,t){for(var r=[],i=Math.min(e.length,n.length),o=0;o<i;o++)r[o]=t(e[o],n[o]);return r}n.sort=function(e){return function(n){return n.length<=1?n:n.slice().sort(e.compare)}},n.zipWith=m,n.zip=function e(n,t){return void 0===t?function(t){return e(t,n)}:m(n,t,(function(e,n){return[e,n]}))},n.unzip=function(e){for(var n=[],t=[],r=0;r<e.length;r++)n[r]=e[r][0],t[r]=e[r][1];return[n,t]};function g(e){return function(n,t){if(void 0===t){var r=g(e);return function(e){return r(n,e)}}for(var i,o=0,a=t.length;o<a;o++)if(i=t[o],e.equals(i,n))return!0;return!1}}n.prependToAll=function(e){return function(n){for(var t=[],r=0,i=n;r<i.length;r++){var o=i[r];t.push(e,o)}return t}},n.intersperse=function(e){return function(t){return 0===t.length?t:f(t[0],n.prependToAll(e)(t.slice(1,t.length)))}},n.rotate=function e(n){return function(t){var r=t.length;return 0===n||r<=1||r===Math.abs(n)?t:n<0?e(r+n)(t):t.slice(-n).concat(t.slice(0,r-n))}},n.elem=g,n.uniq=function(e){var n=g(e);return function(e){var t=e.length;if(t<=1)return e;for(var r=[],i=0;i<t;i++){var o=e[i];n(o,r)||r.push(o)}return t===r.length?e:r}},n.sortBy=function(e){var t=Fr.getMonoid();return n.sort(e.reduce(t.concat,t.empty))};function v(e){return function(n){return[n.slice(0,e),n.slice(e)]}}n.chop=function(e){return function(n){for(var t=[],r=n;s(r);){var i=e(r),o=i[0],a=i[1];t.push(o),r=a}return t}},n.splitAt=v,n.chunksOf=function(e){var t=n.chop(v(e));return function(r){return 0===r.length?n.empty:d(e-1,r)?[r]:t(r)}},n.comprehension=function(e,t,r){void 0===r&&(r=function(){return!0});var i=function(e,o){return 0===o.length?r.apply(void 0,e)?[t.apply(void 0,e)]:n.empty:E(o[0],(function(n){return i(p(e,n),o.slice(1))}))};return i(n.empty,e)},n.union=function e(n){var t=g(n);return function(r,i){if(void 0===i){var o=e(n);return function(e){return o(e,r)}}return a(r,i.filter((function(e){return!t(e,r)})))}},n.intersection=function e(n){var t=g(n);return function(r,i){if(void 0===i){var o=e(n);return function(e){return o(e,r)}}return r.filter((function(e){return t(e,i)}))}},n.difference=function e(n){var t=g(n);return function(r,i){if(void 0===i){var o=e(n);return function(e){return o(e,r)}}return r.filter((function(e){return!t(e,i)}))}};n.of=function(e){return[e]};n.zero=function(){return n.empty};var y=function(e,t){return hn.pipe(e,n.map(t))},w=function(e,t){return hn.pipe(e,n.mapWithIndex(t))},I=function(e,t){return hn.pipe(e,n.ap(t))},E=function(e,t){return hn.pipe(e,n.chain(t))},b=function(e,t){return hn.pipe(e,n.filter(t))},x=function(e,t){return hn.pipe(e,n.filterMap(t))},D=function(e,t){return hn.pipe(e,n.partitionWithIndex(t))},R=function(e,t){return hn.pipe(e,n.partition(t))},A=function(e,t){return hn.pipe(e,n.partitionMap(t))},O=function(e,t){return hn.pipe(e,n.partitionMapWithIndex(t))},P=function(e,t){return hn.pipe(e,n.alt(t))},C=function(e,t,r){return hn.pipe(e,n.reduce(t,r))},_=function(e){var t=n.foldMap(e);return function(e,n){return hn.pipe(e,t(n))}},S=function(e,t,r){return hn.pipe(e,n.reduceRight(t,r))},M=function(e,n,t){for(var r=e.length,i=n,o=0;o<r;o++)i=t(o,i,e[o]);return i},W=function(e){return function(n,t){return n.reduce((function(n,r,i){return e.concat(n,t(i,r))}),e.empty)}},T=function(e,t,r){return hn.pipe(e,n.reduceRightWithIndex(t,r))},N=function(e,t){return hn.pipe(e,n.filterMapWithIndex(t))},L=function(e,t){return hn.pipe(e,n.filterWithIndex(t))},U=function(e,t){return hn.pipe(e,n.extend(t))},F=function(e){var t=n.traverse(e);return function(e,n){return hn.pipe(e,t(n))}},k=function(e){var t=n.traverseWithIndex(e);return function(e,n){return hn.pipe(e,t(n))}},j=function(e){var t=n.wither(e);return function(e,n){return hn.pipe(e,t(n))}},B=function(e){var t=n.wilt(e);return function(e,n){return hn.pipe(e,t(n))}};n.altW=function(e){return function(n){return a(n,e())}},n.alt=n.altW;n.ap=function(e){return n.chain((function(t){return hn.pipe(e,n.map(t))}))};n.apFirst=function(e){return hn.flow(n.map((function(e){return function(){return e}})),n.ap(e))};n.apSecond=function(e){return hn.flow(n.map((function(){return function(e){return e}})),n.ap(e))};n.chain=function(e){return function(t){return hn.pipe(t,n.chainWithIndex((function(n,t){return e(t)})))}};n.chainWithIndex=function(e){return function(n){for(var t=0,r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];t+=(s=e(o,a)).length,i[o]=s}var u=Array(t),c=0;for(o=0;o<r;o++){for(var s,d=(s=i[o]).length,l=0;l<d;l++)u[l+c]=s[l];c+=d}return u}};n.chainFirst=function(e){return n.chain((function(t){return hn.pipe(e(t),n.map((function(){return t})))}))};n.map=function(e){return function(n){return n.map((function(n){return e(n)}))}};n.mapWithIndex=function(e){return function(n){return n.map((function(n,t){return e(t,n)}))}};n.separate=function(e){for(var n=[],t=[],r=0,i=e;r<i.length;r++){var o=i[r];"Left"===o._tag?n.push(o.left):t.push(o.right)}return{left:n,right:t}};n.filter=function(e){return function(n){return n.filter(e)}};n.filterMapWithIndex=function(e){return function(n){for(var t=[],r=0;r<n.length;r++){var i=e(r,n[r]);o.isSome(i)&&t.push(i.value)}return t}};n.filterMap=function(e){return n.filterMapWithIndex((function(n,t){return e(t)}))},n.compact=n.filterMap(hn.identity);n.partition=function(e){return n.partitionWithIndex((function(n,t){return e(t)}))};n.partitionWithIndex=function(e){return function(n){for(var t=[],r=[],i=0;i<n.length;i++){var o=n[i];e(i,o)?r.push(o):t.push(o)}return{left:t,right:r}}};n.partitionMap=function(e){return n.partitionMapWithIndex((function(n,t){return e(t)}))};n.partitionMapWithIndex=function(e){return function(n){for(var t=[],r=[],i=0;i<n.length;i++){var o=e(i,n[i]);"Left"===o._tag?t.push(o.left):r.push(o.right)}return{left:t,right:r}}};n.filterWithIndex=function(e){return function(n){return n.filter((function(n,t){return e(t,n)}))}};n.extend=function(e){return function(n){return n.map((function(n,t,r){return e(r.slice(t))}))}},n.duplicate=n.extend(hn.identity);n.foldMapWithIndex=function(e){var n=W(e);return function(e){return function(t){return n(t,e)}}};n.reduce=function(e,t){return n.reduceWithIndex(e,(function(e,n,r){return t(n,r)}))};n.foldMap=function(e){var t=n.foldMapWithIndex(e);return function(e){return t((function(n,t){return e(t)}))}};n.reduceWithIndex=function(e,n){return function(t){return M(t,e,n)}};n.reduceRight=function(e,t){return n.reduceRightWithIndex(e,(function(e,n,r){return t(n,r)}))};n.reduceRightWithIndex=function(e,n){return function(t){return t.reduceRight((function(e,t,r){return n(r,t,e)}),e)}};n.traverse=function(e){var t=n.traverseWithIndex(e);return function(e){return t((function(n,t){return e(t)}))}};n.sequence=function(e){return function(t){return C(t,e.of(n.zero()),(function(n,t){return e.ap(e.map(n,(function(e){return function(n){return p(e,n)}})),t)}))}};n.traverseWithIndex=function(e){return function(t){return n.reduceWithIndex(e.of(n.zero()),(function(n,r,i){return e.ap(e.map(r,(function(e){return function(n){return p(e,n)}})),t(n,i))}))}};n.wither=function(e){var t=n.traverse(e);return function(r){return function(i){return e.map(hn.pipe(i,t(r)),n.compact)}}};n.wilt=function(e){var t=n.traverse(e);return function(r){return function(i){return e.map(hn.pipe(i,t(r)),n.separate)}}};function q(e,n,t){var r=t.slice();return r.splice(e,0,n),r}function z(e,n,t){if(t[e]===n)return t;var r=t.slice();return r[e]=n,r}function $(e,n){var t=n.slice();return t.splice(e,1),t}n.unfold=function(e,n){for(var t=[],r=e;;){var i=n(r);if(!o.isSome(i))break;var a=i.value,u=a[0],c=a[1];t.push(u),r=c}return t},n.URI="ReadonlyArray",n.Functor={URI:n.URI,map:y},n.FunctorWithIndex={URI:n.URI,map:y,mapWithIndex:w},n.Applicative={URI:n.URI,map:y,ap:I,of:n.of},n.Monad={URI:n.URI,map:y,ap:I,of:n.of,chain:E},n.Unfoldable={URI:n.URI,unfold:n.unfold},n.Alt={URI:n.URI,map:y,alt:P},n.Alternative={URI:n.URI,map:y,ap:I,of:n.of,alt:P,zero:n.zero},n.Extend={URI:n.URI,map:y,extend:U},n.Compactable={URI:n.URI,compact:n.compact,separate:n.separate},n.Filterable={URI:n.URI,map:y,compact:n.compact,separate:n.separate,filter:b,filterMap:x,partition:R,partitionMap:A},n.FilterableWithIndex={URI:n.URI,map:y,mapWithIndex:w,compact:n.compact,separate:n.separate,filter:b,filterMap:x,partition:R,partitionMap:A,partitionMapWithIndex:O,partitionWithIndex:D,filterMapWithIndex:N,filterWithIndex:L},n.Foldable={URI:n.URI,reduce:C,foldMap:_,reduceRight:S},n.FoldableWithIndex={URI:n.URI,reduce:C,foldMap:_,reduceRight:S,reduceWithIndex:M,foldMapWithIndex:W,reduceRightWithIndex:T},n.Traversable={URI:n.URI,map:y,reduce:C,foldMap:_,reduceRight:S,traverse:F,sequence:n.sequence},n.TraversableWithIndex={URI:n.URI,map:y,mapWithIndex:w,reduce:C,foldMap:_,reduceRight:S,reduceWithIndex:M,foldMapWithIndex:W,reduceRightWithIndex:T,traverse:F,sequence:n.sequence,traverseWithIndex:k},n.Witherable={URI:n.URI,map:y,compact:n.compact,separate:n.separate,filter:b,filterMap:x,partition:R,partitionMap:A,reduce:C,foldMap:_,reduceRight:S,traverse:F,sequence:n.sequence,wither:j,wilt:B},n.readonlyArray={URI:n.URI,compact:n.compact,separate:n.separate,map:y,ap:I,of:n.of,chain:E,filter:b,filterMap:x,partition:R,partitionMap:A,mapWithIndex:w,partitionMapWithIndex:O,partitionWithIndex:D,filterMapWithIndex:N,filterWithIndex:L,alt:P,zero:n.zero,unfold:n.unfold,reduce:C,foldMap:_,reduceRight:S,traverse:F,sequence:n.sequence,reduceWithIndex:M,foldMapWithIndex:W,reduceRightWithIndex:T,traverseWithIndex:k,extend:U,wither:j,wilt:B},n.unsafeInsertAt=q,n.unsafeUpdateAt=z,n.unsafeDeleteAt=$,n.empty=[];n.every=function(e){return function(n){return n.every(e)}};n.some=function(e){return function(n){return n.some(e)}},n.Do=n.of({});n.bindTo=function(e){return n.map(hn.bindTo_(e))};n.bind=function(e,t){return n.chain((function(r){return hn.pipe(t(r),n.map((function(n){return hn.bind_(r,e,n)})))}))};n.apS=function(e,t){return hn.flow(n.map((function(n){return function(t){return hn.bind_(n,e,t)}})),n.ap(t))}})),Br=jr,qr=dn((function(e,n){var t=un&&un.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=un&&un.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=un&&un.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.rotate=n.intersperse=n.prependToAll=n.unzip=n.zip=n.zipWith=n.sort=n.lefts=n.rights=n.reverse=n.modifyAt=n.deleteAt=n.updateAt=n.insertAt=n.copy=n.findLastIndex=n.findLastMap=n.findLast=n.findFirstMap=n.findFirst=n.findIndex=n.dropLeftWhile=n.dropRight=n.dropLeft=n.spanLeft=n.takeLeftWhile=n.takeRight=n.takeLeft=n.init=n.tail=n.last=n.head=n.snoc=n.cons=n.lookup=n.isOutOfBound=n.isNonEmpty=n.isEmpty=n.scanRight=n.scanLeft=n.foldRight=n.foldLeft=n.flatten=n.replicate=n.range=n.makeBy=n.getOrd=n.getEq=n.getMonoid=n.getShow=void 0,n.Applicative=n.FunctorWithIndex=n.Functor=n.URI=n.zero=n.unfold=n.wilt=n.wither=n.traverseWithIndex=n.sequence=n.traverse=n.reduceRightWithIndex=n.reduceRight=n.reduceWithIndex=n.reduce=n.foldMapWithIndex=n.foldMap=n.duplicate=n.extend=n.filterWithIndex=n.filterMapWithIndex=n.alt=n.altW=n.partitionMapWithIndex=n.partitionMap=n.partitionWithIndex=n.partition=n.filterMap=n.filter=n.separate=n.compact=n.mapWithIndex=n.chainFirst=n.chainWithIndex=n.chain=n.apSecond=n.apFirst=n.ap=n.map=n.of=n.difference=n.intersection=n.union=n.comprehension=n.chunksOf=n.splitAt=n.chop=n.sortBy=n.uniq=n.elem=void 0,n.apS=n.bind=n.bindTo=n.Do=n.some=n.every=n.empty=n.unsafeDeleteAt=n.unsafeUpdateAt=n.unsafeInsertAt=n.array=n.Witherable=n.TraversableWithIndex=n.Traversable=n.FoldableWithIndex=n.Foldable=n.FilterableWithIndex=n.Filterable=n.Compactable=n.Extend=n.Alternative=n.Alt=n.Unfoldable=n.Monad=void 0;var o=i(Br);n.getShow=o.getShow,n.getMonoid=o.getMonoid,n.getEq=o.getEq,n.getOrd=o.getOrd,n.makeBy=o.makeBy,n.range=o.range,n.replicate=o.replicate,n.flatten=o.flatten,n.foldLeft=o.foldLeft,n.foldRight=o.foldRight,n.scanLeft=o.scanLeft,n.scanRight=o.scanRight,n.isEmpty=o.isEmpty,n.isNonEmpty=o.isNonEmpty,n.isOutOfBound=o.isOutOfBound,n.lookup=o.lookup,n.cons=o.cons,n.snoc=o.snoc,n.head=o.head,n.last=o.last,n.tail=o.tail,n.init=o.init,n.takeLeft=o.takeLeft,n.takeRight=o.takeRight,n.takeLeftWhile=function(e){return o.takeLeftWhile(e)},n.spanLeft=function(e){return o.spanLeft(e)},n.dropLeft=o.dropLeft,n.dropRight=o.dropRight,n.dropLeftWhile=o.dropLeftWhile,n.findIndex=o.findIndex,n.findFirst=function(e){return o.findFirst(e)},n.findFirstMap=o.findFirstMap,n.findLast=function(e){return o.findLast(e)},n.findLastMap=o.findLastMap,n.findLastIndex=o.findLastIndex,n.copy=o.toArray,n.insertAt=o.insertAt,n.updateAt=o.updateAt,n.deleteAt=o.deleteAt,n.modifyAt=o.modifyAt,n.reverse=o.reverse,n.rights=o.rights,n.lefts=o.lefts,n.sort=o.sort,n.zipWith=o.zipWith,n.zip=o.zip,n.unzip=o.unzip,n.prependToAll=o.prependToAll,n.intersperse=o.intersperse,n.rotate=o.rotate,n.elem=o.elem,n.uniq=o.uniq,n.sortBy=o.sortBy,n.chop=o.chop,n.splitAt=o.splitAt,n.chunksOf=o.chunksOf,n.comprehension=function(e,n,t){return void 0===t&&(t=function(){return!0}),o.comprehension(e,n,t)},n.union=o.union,n.intersection=o.intersection,n.difference=o.difference,n.of=o.of;var a=o.Monad.map,u=o.Monad.ap,c=o.Monad.chain,s=o.FunctorWithIndex.mapWithIndex,d=o.Filterable.filter,l=o.Filterable.filterMap,f=o.Filterable.partition,p=o.Filterable.partitionMap,h=o.FilterableWithIndex.filterWithIndex,m=o.FilterableWithIndex.filterMapWithIndex,g=o.FilterableWithIndex.partitionWithIndex,v=o.FilterableWithIndex.partitionMapWithIndex,y=o.Foldable.reduce,w=o.Foldable.foldMap,I=o.Foldable.reduceRight,E=o.Traversable.traverse,b=o.Alternative.alt,x=o.FoldableWithIndex.reduceWithIndex,D=o.FoldableWithIndex.foldMapWithIndex,R=o.FoldableWithIndex.reduceRightWithIndex,A=o.TraversableWithIndex.traverseWithIndex,O=o.Extend.extend,P=o.Witherable.wither,C=o.Witherable.wilt;n.map=o.map,n.ap=o.ap,n.apFirst=o.apFirst,n.apSecond=o.apSecond,n.chain=o.chain,n.chainWithIndex=o.chainWithIndex,n.chainFirst=o.chainFirst,n.mapWithIndex=o.mapWithIndex,n.compact=o.compact,n.separate=o.separate,n.filter=o.filter,n.filterMap=o.filterMap,n.partition=o.partition,n.partitionWithIndex=o.partitionWithIndex,n.partitionMap=o.partitionMap,n.partitionMapWithIndex=o.partitionMapWithIndex,n.altW=o.altW,n.alt=o.alt,n.filterMapWithIndex=o.filterMapWithIndex,n.filterWithIndex=o.filterWithIndex,n.extend=o.extend,n.duplicate=o.duplicate,n.foldMap=o.foldMap,n.foldMapWithIndex=o.foldMapWithIndex,n.reduce=o.reduce,n.reduceWithIndex=o.reduceWithIndex,n.reduceRight=o.reduceRight,n.reduceRightWithIndex=o.reduceRightWithIndex,n.traverse=o.traverse,n.sequence=o.sequence,n.traverseWithIndex=o.traverseWithIndex,n.wither=o.wither,n.wilt=o.wilt,n.unfold=o.unfold,n.zero=o.Alternative.zero,n.URI="Array",n.Functor={URI:n.URI,map:a},n.FunctorWithIndex={URI:n.URI,map:a,mapWithIndex:s},n.Applicative={URI:n.URI,map:a,ap:u,of:n.of},n.Monad={URI:n.URI,map:a,ap:u,of:n.of,chain:c},n.Unfoldable={URI:n.URI,unfold:n.unfold},n.Alt={URI:n.URI,map:a,alt:b},n.Alternative={URI:n.URI,map:a,ap:u,of:n.of,alt:b,zero:n.zero},n.Extend={URI:n.URI,map:a,extend:O},n.Compactable={URI:n.URI,compact:n.compact,separate:n.separate},n.Filterable={URI:n.URI,map:a,compact:n.compact,separate:n.separate,filter:d,filterMap:l,partition:f,partitionMap:p},n.FilterableWithIndex={URI:n.URI,map:a,mapWithIndex:s,compact:n.compact,separate:n.separate,filter:d,filterMap:l,partition:f,partitionMap:p,partitionMapWithIndex:v,partitionWithIndex:g,filterMapWithIndex:m,filterWithIndex:h},n.Foldable={URI:n.URI,reduce:y,foldMap:w,reduceRight:I},n.FoldableWithIndex={URI:n.URI,reduce:y,foldMap:w,reduceRight:I,reduceWithIndex:x,foldMapWithIndex:D,reduceRightWithIndex:R},n.Traversable={URI:n.URI,map:a,reduce:y,foldMap:w,reduceRight:I,traverse:E,sequence:n.sequence},n.TraversableWithIndex={URI:n.URI,map:a,mapWithIndex:s,reduce:y,foldMap:w,reduceRight:I,reduceWithIndex:x,foldMapWithIndex:D,reduceRightWithIndex:R,traverse:E,sequence:n.sequence,traverseWithIndex:A},n.Witherable={URI:n.URI,map:a,compact:n.compact,separate:n.separate,filter:d,filterMap:l,partition:f,partitionMap:p,reduce:y,foldMap:w,reduceRight:I,traverse:E,sequence:n.sequence,wither:P,wilt:C},n.array={URI:n.URI,compact:n.compact,separate:n.separate,map:a,ap:u,of:n.of,chain:c,filter:d,filterMap:l,partition:f,partitionMap:p,mapWithIndex:s,partitionMapWithIndex:v,partitionWithIndex:g,filterMapWithIndex:m,filterWithIndex:h,alt:b,zero:n.zero,unfold:n.unfold,reduce:y,foldMap:w,reduceRight:I,traverse:E,sequence:n.sequence,reduceWithIndex:x,foldMapWithIndex:D,reduceRightWithIndex:R,traverseWithIndex:A,extend:O,wither:P,wilt:C},n.unsafeInsertAt=o.unsafeInsertAt,n.unsafeUpdateAt=o.unsafeUpdateAt,n.unsafeDeleteAt=o.unsafeDeleteAt,n.empty=[],n.every=o.every,n.some=o.some,n.Do=n.of({}),n.bindTo=o.bindTo,n.bind=o.bind,n.apS=o.apS})),zr=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIntercalateSemigroup=n.semigroupVoid=n.semigroupString=n.semigroupProduct=n.semigroupSum=n.semigroupAny=n.semigroupAll=n.getObjectSemigroup=n.getJoinSemigroup=n.getMeetSemigroup=n.getStructSemigroup=n.getFunctionSemigroup=n.getDualSemigroup=n.getTupleSemigroup=n.getLastSemigroup=n.getFirstSemigroup=n.fold=void 0,n.fold=function e(n){return function(t,r){if(void 0===r){var i=e(n);return function(e){return i(t,e)}}return r.reduce(n.concat,t)}},n.getFirstSemigroup=function(){return{concat:hn.identity}},n.getLastSemigroup=function(){return{concat:function(e,n){return n}}},n.getTupleSemigroup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return{concat:function(n,t){return e.map((function(e,r){return e.concat(n[r],t[r])}))}}},n.getDualSemigroup=function(e){return{concat:function(n,t){return e.concat(t,n)}}},n.getFunctionSemigroup=function(e){return function(){return{concat:function(n,t){return function(r){return e.concat(n(r),t(r))}}}}},n.getStructSemigroup=function(e){return{concat:function(n,t){for(var r={},i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];r[a]=e[a].concat(n[a],t[a])}return r}}},n.getMeetSemigroup=function(e){return{concat:Fr.min(e)}},n.getJoinSemigroup=function(e){return{concat:Fr.max(e)}},n.getObjectSemigroup=function(){return{concat:function(e,n){return Object.assign({},e,n)}}},n.semigroupAll={concat:function(e,n){return e&&n}},n.semigroupAny={concat:function(e,n){return e||n}},n.semigroupSum={concat:function(e,n){return e+n}},n.semigroupProduct={concat:function(e,n){return e*n}},n.semigroupString={concat:function(e,n){return e+n}},n.semigroupVoid={concat:function(){}},n.getIntercalateSemigroup=function(e){return function(n){return{concat:function(t,r){return n.concat(t,n.concat(e,r))}}}}})),$r=zr,Vr=dn((function(e,n){var t=un&&un.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=un&&un.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=un&&un.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.reduceRight=n.reduceWithIndex=n.reduce=n.mapWithIndex=n.map=n.flatten=n.extend=n.duplicate=n.chainFirst=n.chain=n.apSecond=n.apFirst=n.ap=n.alt=n.altW=n.foldMap=n.foldMapWithIndex=n.intersperse=n.prependToAll=n.unzip=n.zip=n.zipWith=n.fold=n.concat=n.of=n.filterWithIndex=n.filter=n.modifyAt=n.updateAt=n.insertAt=n.sort=n.init=n.last=n.groupBy=n.groupSort=n.group=n.getEq=n.getSemigroup=n.max=n.min=n.reverse=n.tail=n.head=n.getShow=n.unsnoc=n.uncons=n.fromArray=n.fromReadonlyArray=n.snoc=n.cons=void 0,n.apS=n.bind=n.bindTo=n.Do=n.readonlyNonEmptyArray=n.Comonad=n.Alt=n.TraversableWithIndex=n.Traversable=n.FoldableWithIndex=n.Foldable=n.Monad=n.Applicative=n.FunctorWithIndex=n.Functor=n.URI=n.extract=n.traverseWithIndex=n.sequence=n.traverse=n.reduceRightWithIndex=void 0;var o=i(Br);function a(e){return o.isNonEmpty(e)?kr.some(e):kr.none}function u(e){return e[0]}function c(e){return function(n){var t=n.length;if(0===t)return o.empty;for(var r=[],i=n[0],a=[i],u=1;u<t;u++){var c=n[u];e.equals(c,i)?a.push(c):(r.push(a),a=[i=c])}return r.push(a),r}}function s(e){return function(n){return a(n.filter((function(n,t){return e(t,n)})))}}function d(e,n){return e.concat(n)}n.cons=o.cons,n.snoc=o.snoc,n.fromReadonlyArray=a,n.fromArray=function(e){return a(o.fromArray(e))},n.uncons=function(e){return[e[0],e.slice(1)]},n.unsnoc=function(e){var n=e.length-1;return[e.slice(0,n),e[n]]},n.getShow=o.getShow,n.head=u,n.tail=function(e){return e.slice(1)},n.reverse=o.reverse,n.min=function(e){var n=$r.getMeetSemigroup(e);return function(e){return e.reduce(n.concat)}},n.max=function(e){var n=$r.getJoinSemigroup(e);return function(e){return e.reduce(n.concat)}},n.getSemigroup=function(){return{concat:d}},n.getEq=o.getEq,n.group=c,n.groupSort=function(e){var n=o.sort(e),t=c(e);return function(e){return t(n(e))}},n.groupBy=function(e){return function(n){for(var t={},r=0,i=n;r<i.length;r++){var o=i[r],a=e(o);t.hasOwnProperty(a)?t[a].push(o):t[a]=[o]}return t}},n.last=function(e){return e[e.length-1]},n.init=function(e){return e.slice(0,-1)},n.sort=function(e){return o.sort(e)},n.insertAt=function(e,n){return o.insertAt(e,n)},n.updateAt=function(e,n){return o.updateAt(e,n)},n.modifyAt=function(e,n){return o.modifyAt(e,n)},n.filter=function(e){return s((function(n,t){return e(t)}))},n.filterWithIndex=s,n.of=o.of,n.concat=d,n.fold=function(e){return function(n){return n.reduce(e.concat)}},n.zipWith=o.zipWith,n.zip=o.zip,n.unzip=o.unzip,n.prependToAll=o.prependToAll,n.intersperse=o.intersperse;var l=o.Functor.map,f=o.FunctorWithIndex.mapWithIndex,p=o.Applicative.ap,h=o.Monad.chain,m=o.Extend.extend,g=o.Foldable.reduce,v=o.Foldable.foldMap,y=o.Foldable.reduceRight,w=o.Traversable.traverse,I=o.Alt.alt,E=o.FoldableWithIndex.reduceWithIndex,b=o.FoldableWithIndex.foldMapWithIndex,x=o.FoldableWithIndex.reduceRightWithIndex,D=o.TraversableWithIndex.traverseWithIndex;n.foldMapWithIndex=function(e){return function(n){return function(t){return t.slice(1).reduce((function(t,r,i){return e.concat(t,n(i+1,r))}),n(0,t[0]))}}};n.foldMap=function(e){return function(n){return function(t){return t.slice(1).reduce((function(t,r){return e.concat(t,n(r))}),n(t[0]))}}},n.altW=o.altW,n.alt=o.alt,n.ap=o.ap,n.apFirst=o.apFirst,n.apSecond=o.apSecond,n.chain=o.chain,n.chainFirst=o.chainFirst,n.duplicate=o.duplicate,n.extend=o.extend,n.flatten=o.flatten,n.map=o.map,n.mapWithIndex=o.mapWithIndex,n.reduce=o.reduce,n.reduceWithIndex=o.reduceWithIndex,n.reduceRight=o.reduceRight,n.reduceRightWithIndex=o.reduceRightWithIndex,n.traverse=o.traverse,n.sequence=o.sequence,n.traverseWithIndex=o.traverseWithIndex,n.extract=u,n.URI="ReadonlyNonEmptyArray",n.Functor={URI:n.URI,map:l},n.FunctorWithIndex={URI:n.URI,map:l,mapWithIndex:f},n.Applicative={URI:n.URI,map:l,ap:p,of:n.of},n.Monad={URI:n.URI,map:l,ap:p,of:n.of,chain:h},n.Foldable={URI:n.URI,reduce:g,foldMap:v,reduceRight:y},n.FoldableWithIndex={URI:n.URI,reduce:g,foldMap:v,reduceRight:y,reduceWithIndex:E,foldMapWithIndex:b,reduceRightWithIndex:x},n.Traversable={URI:n.URI,map:l,reduce:g,foldMap:v,reduceRight:y,traverse:w,sequence:n.sequence},n.TraversableWithIndex={URI:n.URI,map:l,mapWithIndex:f,reduce:g,foldMap:v,reduceRight:y,traverse:w,sequence:n.sequence,reduceWithIndex:E,foldMapWithIndex:b,reduceRightWithIndex:x,traverseWithIndex:D},n.Alt={URI:n.URI,map:l,alt:I},n.Comonad={URI:n.URI,map:l,extend:m,extract:n.extract},n.readonlyNonEmptyArray={URI:n.URI,of:n.of,map:l,mapWithIndex:f,ap:p,chain:h,extend:m,extract:n.extract,reduce:g,foldMap:v,reduceRight:y,traverse:w,sequence:n.sequence,reduceWithIndex:E,foldMapWithIndex:b,reduceRightWithIndex:x,traverseWithIndex:D,alt:I},n.Do=n.of({});n.bindTo=function(e){return n.map(hn.bindTo_(e))};n.bind=function(e,t){return n.chain((function(r){return hn.pipe(t(r),n.map((function(n){return hn.bind_(r,e,n)})))}))};n.apS=function(e,t){return hn.flow(n.map((function(n){return function(t){return hn.bind_(n,e,t)}})),n.ap(t))}})),Yr=Vr,Hr=dn((function(e,n){var t=un&&un.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=un&&un.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=un&&un.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.reduceRight=n.reduceWithIndex=n.reduce=n.mapWithIndex=n.map=n.flatten=n.extend=n.duplicate=n.chainFirst=n.chain=n.apSecond=n.apFirst=n.ap=n.alt=n.altW=n.foldMap=n.foldMapWithIndex=n.intersperse=n.prependToAll=n.unzip=n.zip=n.zipWith=n.fold=n.concat=n.of=n.filterWithIndex=n.filter=n.copy=n.modifyAt=n.updateAt=n.insertAt=n.sort=n.init=n.last=n.groupBy=n.groupSort=n.group=n.getEq=n.getSemigroup=n.max=n.min=n.reverse=n.tail=n.head=n.getShow=n.unsnoc=n.uncons=n.fromArray=n.snoc=n.cons=void 0,n.apS=n.bind=n.bindTo=n.Do=n.nonEmptyArray=n.Comonad=n.Alt=n.TraversableWithIndex=n.Traversable=n.FoldableWithIndex=n.Foldable=n.Monad=n.Applicative=n.FunctorWithIndex=n.Functor=n.URI=n.extract=n.traverseWithIndex=n.sequence=n.traverse=n.reduceRightWithIndex=void 0;var o=i(Yr);n.cons=o.cons,n.snoc=o.snoc,n.fromArray=o.fromArray,n.uncons=o.uncons,n.unsnoc=o.unsnoc,n.getShow=o.getShow,n.head=o.head,n.tail=o.tail,n.reverse=o.reverse,n.min=o.min,n.max=o.max,n.getSemigroup=o.getSemigroup,n.getEq=o.getEq,n.group=function(e){return o.group(e)},n.groupSort=o.groupSort,n.groupBy=o.groupBy,n.last=o.last,n.init=o.init,n.sort=o.sort,n.insertAt=o.insertAt,n.updateAt=o.updateAt,n.modifyAt=o.modifyAt,n.copy=function(e){for(var n=e.length,t=Array(n),r=0;r<n;r++)t[r]=e[r];return t},n.filter=function(e){return o.filter(e)},n.filterWithIndex=o.filterWithIndex,n.of=o.of,n.concat=function(e,n){return o.concat(e,n)},n.fold=o.fold,n.zipWith=o.zipWith,n.zip=o.zip,n.unzip=o.unzip,n.prependToAll=o.prependToAll,n.intersperse=o.intersperse;var a=o.Functor.map,u=o.FunctorWithIndex.mapWithIndex,c=o.Applicative.ap,s=o.Monad.chain,d=o.Comonad.extend,l=o.Foldable.reduce,f=o.Foldable.foldMap,p=o.Foldable.reduceRight,h=o.Traversable.traverse,m=o.Alt.alt,g=o.FoldableWithIndex.reduceWithIndex,v=o.FoldableWithIndex.foldMapWithIndex,y=o.FoldableWithIndex.reduceRightWithIndex,w=o.TraversableWithIndex.traverseWithIndex;n.foldMapWithIndex=o.foldMapWithIndex,n.foldMap=o.foldMap,n.altW=o.altW,n.alt=o.alt,n.ap=o.ap,n.apFirst=o.apFirst,n.apSecond=o.apSecond,n.chain=o.chain,n.chainFirst=o.chainFirst,n.duplicate=o.duplicate,n.extend=o.extend,n.flatten=o.flatten,n.map=o.map,n.mapWithIndex=o.mapWithIndex,n.reduce=o.reduce,n.reduceWithIndex=o.reduceWithIndex,n.reduceRight=o.reduceRight,n.reduceRightWithIndex=o.reduceRightWithIndex,n.traverse=o.traverse,n.sequence=o.sequence,n.traverseWithIndex=o.traverseWithIndex,n.extract=n.head,n.URI="NonEmptyArray",n.Functor={URI:n.URI,map:a},n.FunctorWithIndex={URI:n.URI,map:a,mapWithIndex:u},n.Applicative={URI:n.URI,map:a,ap:c,of:n.of},n.Monad={URI:n.URI,map:a,ap:c,of:n.of,chain:s},n.Foldable={URI:n.URI,reduce:l,foldMap:f,reduceRight:p},n.FoldableWithIndex={URI:n.URI,reduce:l,foldMap:f,reduceRight:p,reduceWithIndex:g,foldMapWithIndex:v,reduceRightWithIndex:y},n.Traversable={URI:n.URI,map:a,reduce:l,foldMap:f,reduceRight:p,traverse:h,sequence:n.sequence},n.TraversableWithIndex={URI:n.URI,map:a,mapWithIndex:u,reduce:l,foldMap:f,reduceRight:p,traverse:h,sequence:n.sequence,reduceWithIndex:g,foldMapWithIndex:v,reduceRightWithIndex:y,traverseWithIndex:w},n.Alt={URI:n.URI,map:a,alt:m},n.Comonad={URI:n.URI,map:a,extend:d,extract:n.extract},n.nonEmptyArray={URI:n.URI,of:n.of,map:a,mapWithIndex:u,ap:c,chain:s,extend:d,extract:n.extract,reduce:l,foldMap:f,reduceRight:p,traverse:h,sequence:n.sequence,reduceWithIndex:g,foldMapWithIndex:v,reduceRightWithIndex:y,traverseWithIndex:w,alt:m},n.Do=n.of({}),n.bindTo=o.bindTo,n.bind=o.bind,n.apS=o.apS})),Kr=dn((function(e,n){function t(e){return{equals:function(n,t){return n===t||e(n,t)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.eq=n.Contravariant=n.getMonoid=n.eqDate=n.getTupleEq=n.getStructEq=n.eqBoolean=n.eqNumber=n.eqString=n.strictEqual=n.eqStrict=n.URI=n.contramap=n.fromEquals=void 0,n.fromEquals=t;function r(e,n){return e===n}n.contramap=function(e){return function(n){return t((function(t,r){return n.equals(e(t),e(r))}))}},n.URI="Eq",n.eqStrict={equals:r},n.strictEqual=r,n.eqString=n.eqStrict,n.eqNumber=n.eqStrict,n.eqBoolean=n.eqStrict,n.getStructEq=function(e){return t((function(n,t){for(var r in e)if(!e[r].equals(n[r],t[r]))return!1;return!0}))},n.getTupleEq=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t((function(n,t){return e.every((function(e,r){return e.equals(n[r],t[r])}))}))},n.eqDate={equals:function(e,n){return e.valueOf()===n.valueOf()}};var i={equals:function(){return!0}};n.getMonoid=function(){return{concat:function(e,n){return t((function(t,r){return e.equals(t,r)&&n.equals(t,r)}))},empty:i}},n.Contravariant={URI:n.URI,contramap:function(e,t){return hn.pipe(e,n.contramap(t))}},n.eq=n.Contravariant})),Gr=Kr,Zr=dn((function(e,n){function t(e){return Object.keys(e).sort()}function r(e){return function(n){for(var r=[],i=0,o=t(n);i<o.length;i++){var a=o[i];r.push(e(a,n[a]))}return r}}Object.defineProperty(n,"__esModule",{value:!0}),n.URI=n.separate=n.compact=n.reduceRight=n.foldMap=n.reduce=n.partitionMap=n.partition=n.filterMap=n.filter=n.elem=n.some=n.every=n.fromFoldableMap=n.fromFoldable=n.filterWithIndex=n.filterMapWithIndex=n.partitionWithIndex=n.partitionMapWithIndex=n.wilt=n.wither=n.sequence=n.traverse=n.traverseWithIndex=n.singleton=n.reduceRightWithIndex=n.foldMapWithIndex=n.reduceWithIndex=n.map=n.mapWithIndex=n.empty=n.lookup=n.getMonoid=n.getEq=n.isSubrecord=n.pop=n.modifyAt=n.updateAt=n.deleteAt=n.hasOwnProperty=n.insertAt=n.toUnfoldable=n.toReadonlyArray=n.collect=n.keys=n.isEmpty=n.size=n.getShow=n.toRecord=n.fromRecord=void 0,n.readonlyRecord=n.Witherable=n.TraversableWithIndex=n.Traversable=n.FilterableWithIndex=n.Filterable=n.Compactable=n.FoldableWithIndex=n.Foldable=n.FunctorWithIndex=n.Functor=void 0,n.fromRecord=function(e){return Object.assign({},e)},n.toRecord=function(e){return Object.assign({},e)},n.getShow=function(e){return{show:function(n){var t=r((function(n,t){return JSON.stringify(n)+": "+e.show(t)}))(n).join(", ");return""===t?"{}":"{ "+t+" }"}}},n.size=function(e){return Object.keys(e).length},n.isEmpty=function(e){return 0===Object.keys(e).length},n.keys=t,n.collect=r,n.toReadonlyArray=r((function(e,n){return[e,n]})),n.toUnfoldable=function(e){return function(t){var r=n.toReadonlyArray(t),i=r.length;return e.unfold(0,(function(e){return e<i?kr.some([r[e],e+1]):kr.none}))}},n.insertAt=function(e,n){return function(t){if(t[e]===n)return t;var r=Object.assign({},t);return r[e]=n,r}};var i=Object.prototype.hasOwnProperty;function o(e,n){return i.call(void 0===n?this:n,e)}function a(e){return function(n){if(!i.call(n,e))return n;var t=Object.assign({},n);return delete t[e],t}}function u(e){return function(n,t){if(void 0===t){var r=u(e);return function(e){return r(e,n)}}for(var o in n)if(!i.call(t,o)||!e.equals(n[o],t[o]))return!1;return!0}}function c(e,n){return void 0===n?function(n){return c(e,n)}:i.call(n,e)?kr.some(n[e]):kr.none}function s(e){return function(n){for(var t={},r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];t[o]=e(o,n[o])}return t}}function d(e){return s((function(n,t){return e(t)}))}function l(e,n){return function(r){for(var i=e,o=t(r),a=o.length,u=0;u<a;u++){var c=o[u];i=n(c,i,r[c])}return i}}function f(e){return function(n){return function(r){for(var i=e.empty,o=t(r),a=o.length,u=0;u<a;u++){var c=o[u];i=e.concat(i,n(c,r[c]))}return i}}}function p(e,n){return function(r){for(var i=e,o=t(r),a=o.length-1;a>=0;a--){var u=o[a];i=n(u,r[u],i)}return i}}function h(e){return function(r){return function(i){var o=t(i);if(0===o.length)return e.of(n.empty);for(var a=e.of({}),u=function(n){a=e.ap(e.map(a,(function(e){return function(t){return e[n]=t,e}})),r(n,i[n]))},c=0,s=o;c<s.length;c++){u(s[c])}return a}}}function m(e){var n=h(e);return function(e){return n((function(n,t){return e(t)}))}}function g(e){return h(e)((function(e,n){return n}))}n.hasOwnProperty=o,n.deleteAt=a,n.updateAt=function(e,n){return function(t){if(!o(e,t))return kr.none;if(t[e]===n)return kr.some(t);var r=Object.assign({},t);return r[e]=n,kr.some(r)}},n.modifyAt=function(e,n){return function(t){if(!o(e,t))return kr.none;var r=Object.assign({},t);return r[e]=n(t[e]),kr.some(r)}},n.pop=function(e){var n=a(e);return function(t){var r=c(e,t);return kr.isNone(r)?kr.none:kr.some([r.value,n(t)])}},n.isSubrecord=u,n.getEq=function(e){var n=u(e);return Gr.fromEquals((function(e,t){return n(e)(t)&&n(t)(e)}))},n.getMonoid=function(e){return{concat:function(t,r){if(t===n.empty)return r;if(r===n.empty)return t;var o=Object.keys(r),a=o.length;if(0===a)return t;for(var u=Object.assign({},t),c=0;c<a;c++){var s=o[c];u[s]=i.call(t,s)?e.concat(t[s],r[s]):r[s]}return u},empty:n.empty}},n.lookup=c,n.empty={},n.mapWithIndex=s,n.map=d,n.reduceWithIndex=l,n.foldMapWithIndex=f,n.reduceRightWithIndex=p,n.singleton=function(e,n){var t;return(t={})[e]=n,t},n.traverseWithIndex=h,n.traverse=m,n.sequence=g;n.wither=function(e){var t=m(e);return function(r){return function(i){return e.map(hn.pipe(i,t(r)),n.compact)}}};function v(e){return function(n){for(var t={},r={},i=0,o=Object.keys(n);i<o.length;i++){var a=o[i],u=e(a,n[a]);switch(u._tag){case"Left":t[a]=u.left;break;case"Right":r[a]=u.right}}return{left:t,right:r}}}function y(e){return function(n){for(var t={},r={},i=0,o=Object.keys(n);i<o.length;i++){var a=o[i],u=n[a];e(a,u)?r[a]=u:t[a]=u}return{left:t,right:r}}}function w(e){return function(n){for(var t={},r=0,i=Object.keys(n);r<i.length;r++){var o=i[r],a=e(o,n[o]);kr.isSome(a)&&(t[o]=a.value)}return t}}function I(e){return function(n){var t={},r=!1;for(var o in n)if(i.call(n,o)){var a=n[o];e(o,a)?t[o]=a:r=!0}return r?t:n}}function E(e,n){return function(t,r){return n.reduce(t,{},(function(n,t){var o=r(t),a=o[0],u=o[1];return n[a]=i.call(n,a)?e.concat(n[a],u):u,n}))}}n.wilt=function(e){var t=m(e);return function(r){return function(i){return e.map(hn.pipe(i,t(r)),n.separate)}}},n.partitionMapWithIndex=v,n.partitionWithIndex=y,n.filterMapWithIndex=w,n.filterWithIndex=I,n.fromFoldable=function(e,n){var t=E(e,n);return function(e){return t(e,hn.identity)}},n.fromFoldableMap=E,n.every=function(e){return function(n){for(var t in n)if(!e(n[t]))return!1;return!0}},n.some=function(e){return function(n){for(var t in n)if(e(n[t]))return!0;return!1}},n.elem=function e(n){return function(t,r){if(void 0===r){var i=e(n);return function(e){return i(t,e)}}for(var o in r)if(n.equals(r[o],t))return!0;return!1}};var b=function(e,n){return hn.pipe(e,d(n))},x=function(e,n){return hn.pipe(e,s(n))},D=function(e,t,r){return hn.pipe(e,n.reduce(t,r))},R=function(e){var t=n.foldMap(e);return function(e,n){return hn.pipe(e,t(n))}},A=function(e,t,r){return hn.pipe(e,n.reduceRight(t,r))},O=function(e){var n=m(e);return function(e,t){return hn.pipe(e,n(t))}},P=function(e,t){return hn.pipe(e,n.filter(t))},C=function(e,t){return hn.pipe(e,n.filterMap(t))},_=function(e,t){return hn.pipe(e,n.partition(t))},S=function(e,t){return hn.pipe(e,n.partitionMap(t))},M=function(e,n,t){return hn.pipe(e,l(n,t))},W=function(e){var n=f(e);return function(e,t){return hn.pipe(e,n(t))}},T=function(e,n,t){return hn.pipe(e,p(n,t))},N=function(e,n){return hn.pipe(e,v(n))},L=function(e,n){return hn.pipe(e,y(n))},U=function(e,n){return hn.pipe(e,w(n))},F=function(e,n){return hn.pipe(e,I(n))},k=function(e){var n=h(e);return function(e,t){return hn.pipe(e,n(t))}},j=function(e){var t=n.wither(e);return function(e,n){return hn.pipe(e,t(n))}},B=function(e){var t=n.wilt(e);return function(e,n){return hn.pipe(e,t(n))}};n.filter=function(e){return I((function(n,t){return e(t)}))};n.filterMap=function(e){return w((function(n,t){return e(t)}))};n.partition=function(e){return y((function(n,t){return e(t)}))};n.partitionMap=function(e){return v((function(n,t){return e(t)}))};n.reduce=function(e,n){return l(e,(function(e,t,r){return n(t,r)}))};n.foldMap=function(e){var n=f(e);return function(e){return n((function(n,t){return e(t)}))}};n.reduceRight=function(e,n){return p(e,(function(e,t,r){return n(t,r)}))};n.compact=function(e){for(var n={},t=0,r=Object.keys(e);t<r.length;t++){var i=r[t],o=e[i];kr.isSome(o)&&(n[i]=o.value)}return n};n.separate=function(e){for(var n={},t={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r],a=e[o];switch(a._tag){case"Left":n[o]=a.left;break;case"Right":t[o]=a.right}}return{left:n,right:t}},n.URI="ReadonlyRecord",n.Functor={URI:n.URI,map:b},n.FunctorWithIndex={URI:n.URI,map:b,mapWithIndex:x},n.Foldable={URI:n.URI,reduce:D,foldMap:R,reduceRight:A},n.FoldableWithIndex={URI:n.URI,reduce:D,foldMap:R,reduceRight:A,reduceWithIndex:M,foldMapWithIndex:W,reduceRightWithIndex:T},n.Compactable={URI:n.URI,compact:n.compact,separate:n.separate},n.Filterable={URI:n.URI,map:b,compact:n.compact,separate:n.separate,filter:P,filterMap:C,partition:_,partitionMap:S},n.FilterableWithIndex={URI:n.URI,map:b,mapWithIndex:x,compact:n.compact,separate:n.separate,filter:P,filterMap:C,partition:_,partitionMap:S,filterMapWithIndex:U,filterWithIndex:F,partitionMapWithIndex:N,partitionWithIndex:L},n.Traversable={URI:n.URI,map:b,reduce:D,foldMap:R,reduceRight:A,traverse:O,sequence:g},n.TraversableWithIndex={URI:n.URI,map:b,mapWithIndex:x,reduce:D,foldMap:R,reduceRight:A,reduceWithIndex:M,foldMapWithIndex:W,reduceRightWithIndex:T,traverse:O,sequence:g,traverseWithIndex:k},n.Witherable={URI:n.URI,map:b,reduce:D,foldMap:R,reduceRight:A,traverse:O,sequence:g,compact:n.compact,separate:n.separate,filter:P,filterMap:C,partition:_,partitionMap:S,wither:j,wilt:B},n.readonlyRecord={URI:n.URI,map:b,reduce:D,foldMap:R,reduceRight:A,traverse:O,sequence:g,compact:n.compact,separate:n.separate,filter:P,filterMap:C,partition:_,partitionMap:S,mapWithIndex:x,reduceWithIndex:M,foldMapWithIndex:W,reduceRightWithIndex:T,filterMapWithIndex:U,filterWithIndex:F,partitionMapWithIndex:N,partitionWithIndex:L,traverseWithIndex:k,wither:j,wilt:B}})),Jr=Zr,Xr=dn((function(e,n){var t=un&&un.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),r=un&&un.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=un&&un.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.FunctorWithIndex=n.Functor=n.URI=n.separate=n.compact=n.reduceRight=n.reduce=n.partitionMap=n.partition=n.foldMap=n.filterMap=n.filter=n.elem=n.some=n.every=n.fromFoldableMap=n.fromFoldable=n.filterWithIndex=n.filterMapWithIndex=n.partitionWithIndex=n.partitionMapWithIndex=n.wilt=n.wither=n.sequence=n.traverse=n.traverseWithIndex=n.singleton=n.reduceRightWithIndex=n.foldMapWithIndex=n.reduceWithIndex=n.map=n.mapWithIndex=n.empty=n.lookup=n.getMonoid=n.getEq=n.isSubrecord=n.pop=n.modifyAt=n.updateAt=n.deleteAt=n.hasOwnProperty=n.insertAt=n.toUnfoldable=n.toArray=n.collect=n.keys=n.isEmpty=n.size=n.getShow=void 0,n.record=n.Witherable=n.TraversableWithIndex=n.Traversable=n.FilterableWithIndex=n.Filterable=n.Compactable=n.FoldableWithIndex=n.Foldable=void 0;var o=i(Jr);function a(e){return o.traverse(e)}function u(e){return o.sequence(e)}n.getShow=o.getShow,n.size=o.size,n.isEmpty=o.isEmpty,n.keys=o.keys,n.collect=o.collect,n.toArray=o.toReadonlyArray,n.toUnfoldable=function(e){return o.toUnfoldable(e)},n.insertAt=function(e,n){return o.insertAt(e,n)},n.hasOwnProperty=o.hasOwnProperty,n.deleteAt=function(e){return o.deleteAt(e)},n.updateAt=o.updateAt,n.modifyAt=o.modifyAt,n.pop=function(e){return o.pop(e)},n.isSubrecord=o.isSubrecord,n.getEq=function(e){return o.getEq(e)},n.getMonoid=function(e){return o.getMonoid(e)},n.lookup=o.lookup,n.empty={},n.mapWithIndex=function(e){return o.mapWithIndex(e)},n.map=function(e){return o.map(e)},n.reduceWithIndex=function(e,n){return o.reduceWithIndex(e,n)},n.foldMapWithIndex=function(e){return o.foldMapWithIndex(e)},n.reduceRightWithIndex=function(e,n){return o.reduceRightWithIndex(e,n)},n.singleton=o.singleton,n.traverseWithIndex=function(e){return o.traverseWithIndex(e)},n.traverse=a,n.sequence=u,n.wither=o.wither,n.wilt=o.wilt,n.partitionMapWithIndex=function(e){return o.partitionMapWithIndex(e)},n.partitionWithIndex=function(e){return o.partitionWithIndex(e)},n.filterMapWithIndex=function(e){return o.filterMapWithIndex(e)},n.filterWithIndex=function(e){return o.filterWithIndex(e)},n.fromFoldable=function(e,n){return o.fromFoldable(e,n)},n.fromFoldableMap=function(e,n){return o.fromFoldableMap(e,n)},n.every=o.every,n.some=o.some,n.elem=o.elem;var c=o.Functor.map,s=o.FunctorWithIndex.mapWithIndex,d=o.Foldable.reduce,l=o.Foldable.foldMap,f=o.Foldable.reduceRight,p=o.FoldableWithIndex.reduceWithIndex,h=o.FoldableWithIndex.foldMapWithIndex,m=o.FoldableWithIndex.reduceRightWithIndex,g=o.Filterable.filter,v=o.Filterable.filterMap,y=o.Filterable.partition,w=o.Filterable.partitionMap,I=o.FilterableWithIndex.filterWithIndex,E=o.FilterableWithIndex.filterMapWithIndex,b=o.FilterableWithIndex.partitionWithIndex,x=o.FilterableWithIndex.partitionMapWithIndex,D=o.TraversableWithIndex.traverseWithIndex,R=o.Witherable.wither,A=o.Witherable.wilt,O=function(e){var n=a(e);return function(e,t){return n(t)(e)}};n.filter=o.filter,n.filterMap=o.filterMap,n.foldMap=o.foldMap,n.partition=o.partition,n.partitionMap=o.partitionMap,n.reduce=o.reduce,n.reduceRight=o.reduceRight,n.compact=o.compact,n.separate=o.separate,n.URI="Record",n.Functor={URI:n.URI,map:c},n.FunctorWithIndex={URI:n.URI,map:c,mapWithIndex:s},n.Foldable={URI:n.URI,reduce:d,foldMap:l,reduceRight:f},n.FoldableWithIndex={URI:n.URI,reduce:d,foldMap:l,reduceRight:f,reduceWithIndex:p,foldMapWithIndex:h,reduceRightWithIndex:m},n.Compactable={URI:n.URI,compact:n.compact,separate:n.separate},n.Filterable={URI:n.URI,map:c,compact:n.compact,separate:n.separate,filter:g,filterMap:v,partition:y,partitionMap:w},n.FilterableWithIndex={URI:n.URI,map:c,mapWithIndex:s,compact:n.compact,separate:n.separate,filter:g,filterMap:v,partition:y,partitionMap:w,filterMapWithIndex:E,filterWithIndex:I,partitionMapWithIndex:x,partitionWithIndex:b},n.Traversable={URI:n.URI,map:c,reduce:d,foldMap:l,reduceRight:f,traverse:O,sequence:u},n.TraversableWithIndex={URI:n.URI,map:c,mapWithIndex:s,reduce:d,foldMap:l,reduceRight:f,reduceWithIndex:p,foldMapWithIndex:h,reduceRightWithIndex:m,traverse:O,sequence:u,traverseWithIndex:D},n.Witherable={URI:n.URI,map:c,reduce:d,foldMap:l,reduceRight:f,traverse:O,sequence:u,compact:n.compact,separate:n.separate,filter:g,filterMap:v,partition:y,partitionMap:w,wither:R,wilt:A},n.record={URI:n.URI,map:c,reduce:d,foldMap:l,reduceRight:f,traverse:O,sequence:u,compact:n.compact,separate:n.separate,filter:g,filterMap:v,partition:y,partitionMap:w,mapWithIndex:s,reduceWithIndex:p,foldMapWithIndex:h,reduceRightWithIndex:m,filterMapWithIndex:E,filterWithIndex:I,partitionMapWithIndex:x,partitionWithIndex:b,traverseWithIndex:D,wither:R,wilt:A}})),Qr=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pipeable=n.pipe=void 0,n.pipe=hn.pipe;n.pipeable=function(e){var n={};if(function(e){return"function"==typeof e.map}(e)){n.map=function(n){return function(t){return e.map(t,n)}}}if(function(e){return"function"==typeof e.contramap}(e)){n.contramap=function(n){return function(t){return e.contramap(t,n)}}}if(function(e){return"function"==typeof e.mapWithIndex}(e)){n.mapWithIndex=function(n){return function(t){return e.mapWithIndex(t,n)}}}if(function(e){return"function"==typeof e.ap}(e)){n.ap=function(n){return function(t){return e.ap(t,n)}},n.apFirst=function(n){return function(t){return e.ap(e.map(t,(function(e){return function(){return e}})),n)}},n.apSecond=function(n){return function(t){return e.ap(e.map(t,(function(){return function(e){return e}})),n)}}}if(function(e){return"function"==typeof e.chain}(e)){n.chain=function(n){return function(t){return e.chain(t,n)}},n.chainFirst=function(n){return function(t){return e.chain(t,(function(t){return e.map(n(t),(function(){return t}))}))}},n.flatten=function(n){return e.chain(n,hn.identity)}}if(function(e){return"function"==typeof e.bimap}(e)){n.bimap=function(n,t){return function(r){return e.bimap(r,n,t)}},n.mapLeft=function(n){return function(t){return e.mapLeft(t,n)}}}if(function(e){return"function"==typeof e.extend}(e)){n.extend=function(n){return function(t){return e.extend(t,n)}},n.duplicate=function(n){return e.extend(n,hn.identity)}}if(function(e){return"function"==typeof e.reduce}(e)){n.reduce=function(n,t){return function(r){return e.reduce(r,n,t)}},n.foldMap=function(n){var t=e.foldMap(n);return function(e){return function(n){return t(n,e)}}},n.reduceRight=function(n,t){return function(r){return e.reduceRight(r,n,t)}}}if(function(e){return"function"==typeof e.reduceWithIndex}(e)){n.reduceWithIndex=function(n,t){return function(r){return e.reduceWithIndex(r,n,t)}},n.foldMapWithIndex=function(n){var t=e.foldMapWithIndex(n);return function(e){return function(n){return t(n,e)}}},n.reduceRightWithIndex=function(n,t){return function(r){return e.reduceRightWithIndex(r,n,t)}}}if(function(e){return"function"==typeof e.alt}(e)){n.alt=function(n){return function(t){return e.alt(t,n)}}}if(function(e){return"function"==typeof e.compact}(e)&&(n.compact=e.compact,n.separate=e.separate),function(e){return"function"==typeof e.filter}(e)){n.filter=function(n){return function(t){return e.filter(t,n)}},n.filterMap=function(n){return function(t){return e.filterMap(t,n)}},n.partition=function(n){return function(t){return e.partition(t,n)}},n.partitionMap=function(n){return function(t){return e.partitionMap(t,n)}}}if(function(e){return"function"==typeof e.filterWithIndex}(e)){n.filterWithIndex=function(n){return function(t){return e.filterWithIndex(t,n)}},n.filterMapWithIndex=function(n){return function(t){return e.filterMapWithIndex(t,n)}},n.partitionWithIndex=function(n){return function(t){return e.partitionWithIndex(t,n)}},n.partitionMapWithIndex=function(n){return function(t){return e.partitionMapWithIndex(t,n)}}}if(function(e){return"function"==typeof e.promap}(e)){n.promap=function(n,t){return function(r){return e.promap(r,n,t)}}}if(function(e){return"function"==typeof e.compose}(e)){n.compose=function(n){return function(t){return e.compose(t,n)}}}if(function(e){return"function"==typeof e.throwError}(e)){n.fromOption=function(n){return function(t){return"None"===t._tag?e.throwError(n()):e.of(t.value)}},n.fromEither=function(n){return"Left"===n._tag?e.throwError(n.left):e.of(n.right)},n.fromPredicate=function(n,t){return function(r){return n(r)?e.of(r):e.throwError(t(r))}},n.filterOrElse=function(n,t){return function(r){return e.chain(r,(function(r){return n(r)?e.of(r):e.throwError(t(r))}))}}}return n}})),ei=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.takeUntil=void 0,n.takeUntil=function(e){return function(n){for(var t=[],r=0;r<n.length;r++)if(t[r]=n[r],e(n[r]))return t;return t}}})),ni=qr,ti=Hr,ri=Xr,ii=Qr,oi=sn(an),ai=ei,ui=dn((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reporter=n.formatValidationErrors=n.formatValidationError=n.TYPE_MAX_LEN=void 0;var t=function(e){return e.type instanceof oi.UnionType},r=function(e){return void 0===e?"undefined":JSON.stringify(e)},i=function(e){return e.map((function(e){return e.key})).filter(Boolean).join(".")},o=function(e){return ni.last(e.context)},a=function(e){return e.context};n.TYPE_MAX_LEN=160;var u=function(e,t){void 0===t&&(t={});var r=t.truncateLongTypes;return(void 0===r||r)&&e.length>n.TYPE_MAX_LEN?e.slice(0,n.TYPE_MAX_LEN-3)+"...":e},c=function(e){return ii.pipe(e,ni.findIndex(t),kr.chain((function(n){return ni.lookup(n+1,e)})))},s=function(e,n,t){var i=ii.pipe(n,ni.map(a),ni.map(c),ni.compact),o=ii.pipe(i,ni.head,kr.map((function(e){return e.actual})),kr.getOrElse((function(){}))),s=i.map((function(e){return e.type.name}));return s.length>0?kr.some(function(e,n,t,i){return["Expecting one of:\n",e.map((function(e){return"    "+u(e,i)})).join("\n"),""===n?"\n":"\nat "+n+" ","but instead got: "+r(t)].filter(Boolean).join("")}(s,e,o,t)):kr.none},d=function(e,n,t){return ii.pipe(n,o,kr.map((function(i){return function(e,n,t,i){return["Expecting "+u(e,i),""===n?"":"at "+n,"but instead got: "+r(t.value),t.message?"("+t.message+")":""].filter(Boolean).join(" ")}(i.type.name,e,n,t)})))},l=ti.groupBy((function(e){return ii.pipe(e.context,ai.takeUntil(t),i)}));n.formatValidationError=function(e,n){return d(i(e.context),e,n)},n.formatValidationErrors=function(e,n){return ii.pipe(e,l,ri.mapWithIndex((function(e,t){return function(e,n,t){return ti.tail(n).length>0?s(e,n,t):d(e,ti.head(n),t)}(e,t,n)})),ri.compact,ri.toArray,ni.map((function(e){return e[0],e[1]})))},n.reporter=function(e,t){return ii.pipe(e,mn.mapLeft((function(e){return n.formatValidationErrors(e,t)})),mn.fold((function(e){return e}),(function(){return[]})))};var f={report:n.reporter};n.default=f})),ci=cn(ui);const si=Se({cookieSet:me}),di=Se({canCookie:me});class li{constructor(e){this.hostURL=e}setExperienceIDs(e,n){this.programID=e,this.merchantID=n}fetchAppConfig(){return t(this,void 0,void 0,(function*(){const e=`${this.hostURL}/api/config`,{responseBody:n}=yield this.fetch(e,Rn,{});return n}))}fetchAggregatedMerchantProgramConfiguration(e,n){return t(this,void 0,void 0,(function*(){const t=`${this.hostURL}/api/programs/${e}/merchants/${n}`,{responseBody:r}=yield this.fetch(t,ht,{});return r}))}fetchOffers(){return t(this,void 0,void 0,(function*(){const e=`${this.hostURL}/api/offers`;try{const{responseBody:n}=yield this.fetch(e,Ce(Bn),{});return n}catch(e){return void console.debug("Unable to access offers"+e)}}))}verifyCanCookie(){return t(this,void 0,void 0,(function*(){const{responseBody:e}=yield this.fetch(`${this.hostURL}/api/set-cookie`,si,{});if(e.cookieSet){const{responseBody:e}=yield this.fetch(`${this.hostURL}/api/verify-cookie`,di,{});return e.canCookie}return!1}))}sendLog(e){this.sendBeacon(`${this.hostURL}/log`,e)}sendBeacon(e,n){navigator.sendBeacon(e,JSON.stringify(n))}fetch(e,n,{method:r="GET",credentials:i=!0,body:o}){return t(this,void 0,void 0,(function*(){const t=new Headers;this.merchantID&&t.append("X-Bread-Merchant-ID",this.merchantID),this.programID&&t.append("X-Bread-Program-ID",this.programID);const a={method:r,headers:t};i&&(a.credentials="include"),o&&(a.body=JSON.stringify(o));const u=yield fetch(e,a);if(200!==u.status)throw new Error(`Error accessing resource. Returned ${u.status}`);const c=yield u.text(),s=JSON.parse(c),d=n.decode(s);if(b(d)){const n=ci.report(d).join(", ");throw new Error(`Error accessing ${e}: ${n}`)}return{responseBody:d.right}}))}}class fi{constructor(e,n,t){this.experienceConfig=t,this.integrationKey=n,this.apiService=new li(e),this.cLogger=new pi}log({message:e,context:n,level:r}){return t(this,void 0,void 0,(function*(){const t=this.enhanceContext(n);try{this.apiService.sendLog({level:r,message:e,context:t})}catch(e){return void console.debug("Unable to send log"+e)}}))}enhanceContext(e={}){return e=Object.assign(Object.assign({},e),{experienceConfig:this.experienceConfig||{},integrationKey:this.integrationKey,locationHref:window.location.href,userAgent:window.navigator.userAgent})}setExperienceConfig(e){this.experienceConfig=e}error(e,n={}){this.log({level:"error",message:e,context:n}),this.cLogger.error(e,n)}warn(e,n={}){this.log({level:"warn",message:e,context:n}),this.cLogger.warn(e,n)}info(e,n={}){this.log({level:"info",message:e,context:n})}debug(e,n={}){this.log({level:"debug",message:e,context:n}),this.cLogger.debug(e,n)}}class pi{error(e,n={}){console.error({message:e,context:n})}warn(e,n={}){console.warn({message:e,context:n})}info(e,n={}){console.info({message:e,context:n})}debug(e,n={}){console.debug({message:e,context:n})}}const hi=["MONTHLY","BIWEEKLY"];function mi(e){const{interval:n}=e.paymentAgreement.terms;if(!function(e){return hi.includes(e)}(n))throw new Error(`Not a valid terms interval: ${n}`);const t=function(e){return"MONTHLY"===e?{designator:"M",length:1}:{designator:"W",length:2}}(n);return{frequency:t,rate:(r=e.paymentAgreement.terms.rate,1e4*r),numberOfPayments:e.paymentAgreement.terms.length,type:e.paymentProduct.type};var r}function gi(e,n,t){let r;if(null==t?void 0:t.length)r=t.map(mi);else{const e=or();r=n.map(e)}return function({order:{totalPrice:e},paymentTerms:n}){const t=n.map((n=>((e,n)=>{const{rate:t,numberOfPayments:r,frequency:i}=e;if("W"===i.designator&&t>0)throw new Error(`Interest bearing loans with a weekly frequency are unsupported. ${JSON.stringify({paymentTerms:e},null,"\t")}`);const o=w({principal:n.value,rateBPS:t,periods:r,frequency:i});return Object.assign({paymentAmount:o},e)})(n,e))).sort(((e,n)=>e.paymentAmount-n.paymentAmount)).reduce(((e,n)=>{var t;const{type:r}=n;return null===(t=e[r])||void 0===t||t.push(n),e}),{INSTALLMENTS:[],SPLITPAY:[]});return Object.values(t).map((e=>null==e?void 0:e[0])).filter((e=>!!e))}({order:e,paymentTerms:r})}const vi=/(?:^merchant|localhost|breadgateway.net)/g,yi=["subTotal","totalDiscounts","totalPrice","totalShipping","totalTax"],wi=["shippingCost","unitPrice","unitTax"];function Ii(e,n){const t="true"===n,r=function(){const e=new URL(window.location.href);return vi.test(e.hostname)}();if(e&&!(t||r))throw new Error("invalid access to embedded feature.")}function Ei(e){if(e.order){const n=Yn.decode(e.order);if(b(n)){const e=ci.report(n).join(", ").replace(/[0-9]\.(?![0-9])/g,"");throw new Error(`Error decoding Order: ${e}`)}const{subTotal:{value:t},totalShipping:{value:r},totalTax:{value:i},totalDiscounts:{value:o},totalPrice:{value:a},items:u,fulfillmentType:c}=e.order,s=!!(null==u?void 0:u.length)&&(null==u?void 0:u.every((e=>"PICKUP"===e.fulfillmentType))),d=!!(null==u?void 0:u.length)&&u.some((e=>"PICKUP"===e.fulfillmentType));if(c&&"PICKUP"!==c&&s)throw new Error('Order fulfillmentType must be set to "PICKUP" when all item fulfillmentType "PICKUP"!');if(c&&"MULTIPLE"!==c&&!s&&d)throw new Error('Order fulfillmentType must be set to "MULTIPLE" when item fulfillmentType has both "PICKUP" and "DELIVERY"!');if([t,r,i,-1*o].reduce(((e,n)=>e+n),0)!==a)throw new Error("Order total price does not equal subTotal + totalTax + totalShipping - totalDiscounts")}}function bi(e,n){var t;if(e.order){const r=yi.filter((t=>{if(e.order){return e.order[t].currency!==n}})),i=(null===(t=e.order.items)||void 0===t?void 0:t.reduce(((e,t,r)=>{const i=wi.filter((e=>{if(t){return t[e].currency!==n}}));return i.length>0&&e.push({index:r,errorFields:i}),e}),[]))||[],o=r.length>1||i.length>1;let a="";if(r.length>0&&(a+=`The order currency does not match the program currency for following field${o?"s: ":": "}${r.join(", ")}.${i.length>0?"\n":""}`),i.length>0&&(a+=`The following order items have fields whose currency doesn't match the program currency: ${i.map((e=>`item at index ${e.index}: ${e.errorFields.join(", ")}.`))}`),a.length>0)throw new Error(a)}}function xi(e,n,t,r){var i,o,a,u,c,s,d,l,f,p,h,m;if(e.allowCheckout&&!e.order)throw new Error('Order required when "allowCheckout" is set to true');const g=null===(i=e.order)||void 0===i?void 0:i.pickupInformation,v="PICKUP"===(null===(o=e.order)||void 0===o?void 0:o.fulfillmentType),y="MULTIPLE"===(null===(a=e.order)||void 0===a?void 0:a.fulfillmentType),w=!!(null===(c=null===(u=e.order)||void 0===u?void 0:u.items)||void 0===c?void 0:c.length)&&(null===(d=null===(s=e.order)||void 0===s?void 0:s.items)||void 0===d?void 0:d.every((e=>"PICKUP"===e.fulfillmentType))),I=!!(null===(f=null===(l=e.order)||void 0===l?void 0:l.items)||void 0===f?void 0:f.length)&&(null===(p=e.order)||void 0===p?void 0:p.items.some((e=>"PICKUP"===e.fulfillmentType)));if(v||w){if(!(null==r?void 0:r.instorePickupAvailable))throw new Error("Merchant is not configured for BOPIS orders.");return Ri(g),void Ai(t,null==g?void 0:g.address.country)}if(y||I){if(!(null==r?void 0:r.instorePickupAvailable))throw new Error("Merchant is not configured for BOPIS orders.");return Ri(g),Ai(t,null==g?void 0:g.address.country),void(e.allowCheckout&&(Di(n.shippingAddress),Ai(t,null===(h=n.shippingAddress)||void 0===h?void 0:h.country)))}e.allowCheckout&&(Di(n.shippingAddress),Ai(t,null===(m=n.shippingAddress)||void 0===m?void 0:m.country))}function Di(e){if(!e)throw new Error("Shipping address required for checkout");const n=Cn.decode(e);if(b(n)){const e=ci.report(n).join(", ");throw new Error(`Error decoding Shipping Address: ${e}`)}return n.right}function Ri(e){if(!e)throw new Error("Pickup information required for checkout");const n=Vn.decode(e);if(b(n)){const e=ci.report(n).join(", ").replace(/0/g,"pickupInformation");throw new Error(`Error decoding pickupInformation: ${e}`)}return n.right}function Ai(e,n){if(n!==e)throw new Error(`Error: Address country must be ${e}`)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Oi=function(){return Oi=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Oi.apply(this,arguments)};function Pi(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}c((r=r.apply(e,n||[])).next())}))}function Ci(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var _i="/api/featureflag/evaluation/flag",Si="/api/featureflag/evaluation/bulk";function Mi(){return"undefined"!=typeof window?window.fetch:require("node-fetch")}var Wi=function(e,n,t){return Pi(void 0,void 0,void 0,(function(){var r,i,o,a,u;return Ci(this,(function(c){switch(c.label){case 0:return r=e.origin,i=e.body,o=null,[4,Mi()("".concat(r).concat(_i,"/").concat(t),{method:"POST",body:JSON.stringify(i),headers:{accept:"application/json"}})];case 1:return[4,(a=c.sent()).json()];case 2:return u=c.sent(),200===a.status?o=null==u?void 0:u.result:204===a.status?n.info("Flag name: ".concat(t," is disabled.")):400===a.status?n.error("Flag name: ".concat(t," did not return a result with the provided context. body: ").concat(JSON.stringify(u))):404===a.status?n.error("Flag name: ".concat(t," could not be found!  body: ").concat(JSON.stringify(u))):410===a.status?n.error("Flag name: ".concat(t," has been deleted!   body: ").concat(JSON.stringify(u))):n.error("Unexpected Error Response received from feature flag service\nResponse status: ".concat(a.status,"\nResponse Body: ").concat(JSON.stringify(u))),[2,o]}}))}))},Ti=function(e,n,t){return Pi(void 0,void 0,void 0,(function(){var r,i,o,a;return Ci(this,(function(u){switch(u.label){case 0:return r=e.origin,i=e.body,o=new URLSearchParams(t),[4,Mi()("".concat(r).concat(Si,"?").concat(o.toString()),{method:"POST",body:JSON.stringify(i),headers:{accept:"application/json"}})];case 1:return 200===(a=u.sent()).status?[2,a.json()]:(400===a.status?n.error("Bad request, bulk evaluation was unsuccessful due to: ".concat(a.statusText)):404===a.status?n.error("Requested tag ".concat(t.tag," was not found")):n.error("Unexpected response received from bulk evaluation.  Status: [".concat(a.status,"] status text: ").concat(a.statusText)),[2,Promise.resolve({})])}}))}))},Ni={debug:console.debug,info:console.info,warn:console.warn,error:console.error},Li=function(){function e(e,n,t,r,i,o){this.active=!0,this.name=e,this.interval=n,this.evaluationContext=t,this._result=null!=o?o:null,this.client=r,this.logger=i,this.poll()}return Object.defineProperty(e.prototype,"result",{get:function(){return this._result},set:function(e){e&&(this._result=e)},enumerable:!1,configurable:!0}),e.prototype.disable=function(){this.active=!1},e.prototype.poll=function(){var e=this;this.active&&this.client.evaluate(this.name).then((function(n){return e.result=n})).catch((function(n){return e.logger.error("error polling!",n)})).finally((function(){return(n=e.interval,new Promise((function(e){return setTimeout(e,n)}))).then(e.poll.bind(e));var n}))},e}(),Ui=function(){function e(e){var n;this.origin=function(e){var n=new URL(e);if(!n.protocol.match(/^https?:$/))throw new Error("http or https protocol must be used for bread API calls");return n.origin}(e.apiOrigin),this.logger=null!==(n=e.logger)&&void 0!==n?n:Ni,this.clientSideId=e.clientSideId,this.evaluationContext=Oi({},e.context),this.pollers=new Map}return e.prototype.evaluate=function(e,n){return Pi(this,void 0,void 0,(function(){var t,r;return Ci(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Wi({origin:this.origin,body:this.evaluationContext},this.logger,e)];case 1:return t=i.sent(),n?[2,null!=t?t:n]:[2,t];case 2:return r=i.sent(),this.logger.error("Unexpected Error occurred while evaluating feature flag: ",e,"\n",r.toString()),n?[2,Promise.resolve(n)]:[2,Promise.reject(r)];case 3:return[2]}}))}))},e.prototype.bulkEvaluate=function(e){return Pi(this,void 0,void 0,(function(){var n,t;return Ci(this,(function(r){switch(r.label){case 0:if(!e.tag)return[2,Promise.reject("Tag name is required")];r.label=1;case 1:return r.trys.push([1,3,,4]),n={origin:this.origin,body:this.evaluationContext},[4,Ti(n,this.logger,e)];case 2:return[2,r.sent()];case 3:return t=r.sent(),this.logger.error("Unexpected Error occurred during bulk evaluation",t.toString()),[2,Promise.reject(t)];case 4:return[2]}}))}))},e.prototype.pollFlag=function(e,n,t){if(this.pollers.has(e))return this.logger.error("Poller already exists for ".concat(e)),!1;var r=new Li(e,n,this.evaluationContext,this,this.logger,null!=t?t:null);return this.pollers.set(e,r),!0},e.prototype.getLatestEvaluation=function(e){var n=this.pollers.get(e);return n?n.result:(this.logger.error("Poller not registered for ".concat(e)),null)},e.prototype.getPollers=function(){return Array.from(this.pollers.keys())},e.prototype.stopPolling=function(e){var n=this.pollers.get(e);n?(n.disable(),this.pollers.delete(e)):this.logger.error("Poller not registered for ".concat(e))},e}();const Fi=/android(.+)version\/\d\.\d/;class ki{constructor(e,n){this.canCookie=!1,this.checkoutComponentRendered=!1,this.apiURL="",this.placementsMap=new Map,this.autoRender=!0,this.embedded=!1,this.preview=!1;let t,r=!1;if(e.apiURL)this.apiURL=e.apiURL;else{const e=(()=>{const e=["breadpayments","breadgateway","rbcpayplan"],n=["sdk.js","unified.sdk.js","sdk.umd.js","financing-sdk.js"];let t="",r=!1;e.push("localhost"),n.push("sdk.dev.js");const i=Array.from(document.querySelectorAll("script")).filter((t=>{const r=t.getAttribute("src"),i=n.some((e=>null==r?void 0:r.includes(e))),o=e.some((e=>null==r?void 0:r.includes(e)));return i&&o})),o="Could not find hostURL from our script tag";if(0===i.length||!i[0])throw new Error(o);i.length>1&&(r=!0,t=`Multiple SDK scripts found: ${i.map((e=>e.getAttribute("src")))}`);const a=i[0].getAttribute("src")||"";try{const e=new URL(a),{hostname:n}=e;"localhost"!==n&&"127.0.0.1"!==n&&"https:"!==e.protocol&&(e.protocol="https:");const{origin:i}=e;return r?{type:"warning",hostURL:i,message:t}:{type:"success",hostURL:i}}catch(e){throw new Error(o)}})();"warning"===e.type&&(r=!0,t=e.message),this.apiURL=e.hostURL}this.containerID=e.containerID,this.experienceConfig=n,this.apiService=new li(this.apiURL),this.statsClient=new yr({host:`${this.apiURL}/stats`,contentType:gr.TEXT,mock:"function"!=typeof window.navigator.sendBeacon}),this.logger=new fi(this.apiURL,e.integrationKey,this.experienceConfig),r&&t&&this.logger.warn(t),this.publicOptions=e,this.privateOptions={appID:"",merchantOrigin:"",merchantID:"",programID:"",locationID:"",modal:!0};const i=function(e){try{const n=localStorage.getItem(e);return n?JSON.parse(n):null}catch(e){return console.debug("Error calling getItem on localStorage.",e instanceof ReferenceError?e.message:e),null}}(mr.DEVICE_ID);this.deviceID=i||d(),i||((e,n)=>{try{localStorage.setItem(e,JSON.stringify(n))}catch(e){console.debug("Error calling setItem on localStorage.",e instanceof ReferenceError?e.message:e)}})(mr.DEVICE_ID,this.deviceID),this.init=this.statsClient.asyncTimer(this.init.bind(this),"bread_sdk.init.time"),this.update=this.statsClient.asyncTimer(this.update.bind(this),"bread_sdk.update.time");const o=this.openExperienceForPlacement.bind(this);this.openExperienceForPlacement=e=>{const n=`${!this.checkoutComponentRendered}`;return this.statsClient.asyncTimer(o,"bread_sdk.open_experience_for_placement.time",{first:n})(e)},this.renderPlacements=this.statsClient.timer(this.renderPlacements.bind(this),"bread_sdk.render_placements.time"),this.statsClient.timing("bread_sdk.instantiated",performance.now()),this.logger.info("Bread SDK instantiated")}setContact(e){this.publicOptions.billingAddress=e.billingAddress,this.publicOptions.shippingAddress=e.shippingAddress,this.publicOptions.name=e.name,this.publicOptions.email=e.email,this.publicOptions.phone=e.phone,this.publicOptions.buyerID=e.buyerID,this.update(),this.logger.info("Bread SDK setContact called")}setShippingAddress(e){try{if(!this.sdkAppConfig)throw new Error("Cannot set shipping address without app config");const n=Di(e);Ai(this.sdkAppConfig.shippingCountry,n.country),this.publicOptions.shippingAddress=n,this.update()}catch(n){const t=n instanceof Error?n:{message:n};this.warn(`Error invalid shipping address. setShippingAddress: ${t.message}`,{shippingAddress:e})}}setAutoRender(e){this.autoRender=e,this.logger.info("Bread SDK setAutoRender called",{autoRender:e})}setEmbedded(e){var n,t,r;try{Ii(e,null!==(r=null===(t=null===(n=this.featureFlags)||void 0===n?void 0:n.embedded_checkout)||void 0===t?void 0:t.result)&&void 0!==r?r:""),this.embedded=e,this.logger.info("Bread SDK setEmbedded called",{embedded:e})}catch(e){const n=e instanceof Error?e:{message:e};this.warn(`Error setting embedded: ${n.message}`)}}overrideMerchantUICustomizations(e){return t(this,void 0,void 0,(function*(){const n=this.privateOptions.merchantConfig;let t=null==n?void 0:n.logoUrl,r=null==n?void 0:n.checkoutPrimaryColor,i=null==n?void 0:n.checkoutSecondaryColor;const o=window.navigator.language.substring(0,2);if(vn(o)){const n=yn(e.logoUrl)?e.logoUrl[o]:e.logoUrl;(e=>{if(!e)return!1;if(!dr(e)&&!sr(e))return!1;const n=e.split("/").pop();return!!n&&fr(n)})(n)?t=n:this.logger.warn(`Invalid logoUrl: ${e.logoUrl}`)}hr(e.checkoutPrimaryColor)?r=e.checkoutPrimaryColor:this.warn(`Invalid checkoutPrimaryColor: ${e.checkoutPrimaryColor}`),hr(e.checkoutSecondaryColor)?i=e.checkoutSecondaryColor:this.warn(`Invalid checkoutSecondaryColor: ${e.checkoutSecondaryColor}`),this.preview=!0,this.privateOptions.merchantConfig=Object.assign(Object.assign({},n),{logoUrl:t,checkoutPrimaryColor:r,checkoutSecondaryColor:i,disclosureSymbolInstallments:e.disclosureSymbolInstallments||(null==n?void 0:n.disclosureSymbolInstallments),disclosureSymbolSplitpay:e.disclosureSymbolSplitpay||(null==n?void 0:n.disclosureSymbolSplitpay),disclosureSymbolSplitpayInterest:e.disclosureSymbolSplitpayInterest||(null==n?void 0:n.disclosureSymbolSplitpayInterest)}),this.update(),this.logger.info("Bread SDK overrideMerchantUICustomizations called",{options:e})}))}overrideButtonUICustomizations(e){return t(this,void 0,void 0,(function*(){this.privateOptions.merchantConfig=Object.assign(Object.assign({},this.privateOptions.merchantConfig),{buttonConfig:e}),this.renderPlacements(),this.logger.info("Bread SDK overrideButtonUIConfig called",{config:e})}))}registerPlacements(e){var n;try{if(!this.sdkAppConfig)throw new Error("Cannot register placements without app config");const t=[];for(const r of e)try{const e=Vt(r);Ei(e),bi(e,this.currency),xi(e,this.publicOptions,null===(n=this.sdkAppConfig)||void 0===n?void 0:n.shippingCountry,this.privateOptions.merchantDetails),t.push(e)}catch(e){const n=e instanceof Error?e:{message:e};this.warn(`Error registering placements: ${n.message}`,{placement:r})}this.cleanupPlacements(),this.placements=t,this.setPlacementMap(),this.autoRender&&this.renderPlacements(),this.logger.info("Bread SDK registerPlacements called")}catch(n){const t=n instanceof Error?n:{message:n};this.warn(`Error registering placements: ${t.message}`,{placementsCompat:e})}}cleanupPlacements(){var e;null===(e=this.placements)||void 0===e||e.forEach((e=>{const n=document.querySelector(`div#${e.domID}`);n&&(n.innerHTML="")}))}init(){var e,n;return t(this,void 0,void 0,(function*(){try{const{programID:e,merchantID:n,appID:o}=this.experienceConfig?this.experienceConfig:yield(r=this.apiURL,i=this.publicOptions.integrationKey,t(void 0,void 0,void 0,(function*(){try{const e=`${r}/api/experience-keys/${i}`,n=yield fetch(e);if(200!==n.status)throw new Error("Did not get successful response for experience keys");const t=yield n.json(),{id:o,programID:a,appID:u,locationID:c,merchantID:s}=t;return{id:o,programID:a,appID:u,locationID:c,merchantID:s}}catch(e){throw new Error("Unable to fetch experience keys:\n"+e)}})));this.privateOptions.merchantOrigin=window.location.origin,this.privateOptions.merchantID=n,this.privateOptions.programID=e,this.privateOptions.appID=o,this.apiService.setExperienceIDs(e,n),this.logger.setExperienceConfig({programID:e,merchantID:n,appID:o}),this.sdkAppConfig=yield this.apiService.fetchAppConfig();const a=function(e,n,r,i,o){return t(this,void 0,void 0,(function*(){try{const t=new Ui({apiOrigin:e,clientSideId:"Checkout",context:{merchantId:n,programId:r,deviceId:i}});return yield t.bulkEvaluate({tag:"CheckoutExperience"})}catch(e){return o("Error fetching feature flags",{err:e}),{}}}))}(this.sdkAppConfig.apiUrl,n,e,this.deviceID,this.error.bind(this)),u=this.apiService.verifyCanCookie();this.buyerOffers=yield this.apiService.fetchOffers();const c=this.apiService.fetchAggregatedMerchantProgramConfiguration(this.privateOptions.programID,this.privateOptions.merchantID),[s,d,l]=yield Promise.all([a,u,c]),{merchantConfig:f,program:p,merchantPaymentProducts:h,merchantProgramValues:m,merchantDetails:g}=l,v=Object.assign({disclosureSymbolInstallments:"*",disclosureSymbolSplitpay:"**",disclosureSymbolSplitpayInterest:""},f);this.featureFlags=s,this.canCookie=d,this.currency=p.currency,this.privateOptions.displayInterestRateBPS=p.displayInterestRateBPS,this.privateOptions=Object.assign(Object.assign({},this.privateOptions),{merchantPaymentProducts:h,merchantProgramValues:m,merchantConfig:v,program:p,merchantDetails:g}),this.logger.info("Bread SDK init called")}catch(t){const r=t instanceof Error?t:{message:t};throw this.error(`Error initializing: ${r.message}`,{integrationKey:this.publicOptions.integrationKey,apiURL:this.apiURL}),null===(n=(e=this.publicOptions).onInitializeFailure)||void 0===n||n.call(e),new Error("Error initializing BreadSDK!")}var r,i}))}get noOrderPlacementText(){var e;return(null===(e=this.privateOptions.merchantConfig)||void 0===e?void 0:e.noOrderPromoTextInstallments)?this.privateOptions.merchantConfig.noOrderPromoTextInstallments:"Low monthly payments"}setPlacementMap(){if(!this.placements)throw new Error("Could not find any registered placements");this.placementsMap.clear();const e=[];if(this.placements.forEach((n=>{let t=[];this.buyerOffers&&this.privateOptions.merchantPaymentProducts&&(t=function(e,n){const t=function(e,n){const t={validOffers:[],invalidOffers:[]};return e.reduce(((e,t)=>{var r;return(null===(r=n.find((e=>e.paymentProduct.id===t.paymentProduct.id)))||void 0===r?void 0:r.paymentProduct.type)?e.validOffers.push(t):e.invalidOffers.push(t),e}),t)}(e,n);if(t.invalidOffers.length>0){const e=t.invalidOffers.map((e=>e.paymentProduct.id)),r=null==n?void 0:n.map((e=>e.paymentProduct.id));console.warn(`Could not find matching product types for all buyer offers.\n        Available merchant payment products ${r}\n        Buyer offers with payment products that do not match ${e}`)}return t.validOffers}(this.buyerOffers,this.privateOptions.merchantPaymentProducts));const r=this.availablePaymentProductsForPlacement(n);if(r.length||e.push(n),!this.privateOptions.displayInterestRateBPS)throw new Error("Can't render placement without displayInterestRateBPS");const i=n.order?gi(n.order,r,t):[];this.placementsMap.set(n.domID,Object.assign(Object.assign({},n),{promoOffers:i,isOrderWithinCartBoundaries:this.isOrderWithinCartBoundaries(n),isOrderWithinFinancingBoundaries:this.isOrderWithinFinancingBoundaries(n)}))})),e.length){const n=e.map((e=>e.domID)).join(", ");this.warn(`The following placements did not match any of the available payment products: [${n}]`)}}renderPlacements(){this.placementsMap.forEach((e=>{var n,t;const r=document.querySelector(`div#${e.domID}`);try{if(!this.sdkAppConfig)throw new Error("Cannot register placements without app config");Ei(e),xi(e,this.publicOptions,null===(n=this.sdkAppConfig)||void 0===n?void 0:n.shippingCountry,this.privateOptions.merchantDetails)}catch(n){const t=n instanceof Error?n:{message:n};return this.warn(`Error invalid placement. Not rendering: ${t.message}`,{placement:e}),void(r&&(r.innerHTML=""))}const i=this.getPlacementText(e);r?(null===(t=this.privateOptions.merchantConfig)||void 0===t?void 0:t.buttonConfig)?this.renderBreadButton(r,i,e):this.renderTextPlacement(r,i,e):this.warn(`Could not find placementContainer with DOM ID: ${e.domID}. Placement cannot be rendered.`)}))}renderTextPlacement(e,n,t){const r=document.createElement("div"),i=document.createElement("a");n&&(i.innerHTML=n,i.href="#",i.dataset.testid=`bread-placement-${t.domID}`,i.dataset.placementID=t.domID,i.addEventListener("click",(e=>{if(e.preventDefault(),!(e.target instanceof HTMLAnchorElement))throw new Error("Not an anchor element on placement click");const n=e.target.dataset.placementID;if(!n)throw new Error("No domID found in anchor data attribute");this.openExperienceForPlacement(n)})),r.appendChild(i),e.innerHTML="",e.append(r))}renderBreadButton(e,n,t){var r,i,o;if(!n)return;customElements.get("bread-button")||customElements.define("bread-button",Wr);const a=document.createElement("bread-button");a.buttonUIConfig=(null===(r=this.privateOptions.merchantConfig)||void 0===r?void 0:r.buttonConfig)||null,a.placementID=t.domID,a.sdkAppConfig=this.sdkAppConfig;const u=document.createElement("span");u.setAttribute("slot","text"),u.setAttribute("data-testid","text-slot"),u.textContent=n,a.append(u);const c=(null===(o=null===(i=this.privateOptions.merchantConfig)||void 0===i?void 0:i.buttonConfig)||void 0===o?void 0:o.additionalText)||null;if(c){const e=window.navigator.language.substring(0,2),n=vn(e)?e:"en",t=document.createElement("span");t.setAttribute("slot","additionalText"),u.setAttribute("data-testid","additionalText-slot"),t.textContent=yn(c)?c[n]:c,a.append(t)}a.addEventListener("bread-button-clicked",(e=>{e.preventDefault(),this.openExperienceForPlacement(e.detail.placementID)})),a.dataset.testid=`bread-placement-${t.domID}`,e.innerHTML="",e.append(a)}getPlacementText(e){var n;return(null===(n=this.sdkAppConfig)||void 0===n?void 0:n.placementText)?this.getStaticPlacementText(e):e.order?e.isOrderWithinCartBoundaries?this.getDynamicPlacementTextByAvailablePromoOfferType(e):this.getDynamicPromoTextForOrderOutOfBounds(e):this.noOrderPlacementText}getDynamicPlacementTextByAvailablePromoOfferType(e){var n,t;const r=e.promoOffers.some((e=>"SPLITPAY"===e.type)),i=null===(n=this.privateOptions.merchantConfig)||void 0===n?void 0:n.disclosureSymbolSplitpay,o=e.promoOffers.some((e=>"INSTALLMENTS"===e.type)),a=null===(t=this.privateOptions.merchantConfig)||void 0===t?void 0:t.disclosureSymbolInstallments,u=e.promoOffers.map((e=>`${h(l(e.paymentAmount))}/${rr(e.frequency)}`));if(!e.promoOffers[0])return this.noOrderPlacementText;if(r&&o){return`As low as ${u.join(`${a} or `)}${i}`}return r?`4 interest free payments of ${h(l(e.promoOffers[0].paymentAmount))}${i}`:o?`As low as ${h(l(e.promoOffers[0].paymentAmount))}/${rr(e.promoOffers[0].frequency)}${a}`:""}getDynamicPromoTextForOrderOutOfBounds(e){if(!e.isOrderWithinFinancingBoundaries&&e.allowCheckout)return"";const n=(this.privateOptions.merchantPaymentProducts||[]).filter((e=>"INSTALLMENTS"===e.paymentProduct.type)),t=(this.privateOptions.merchantPaymentProducts||[]).filter((e=>"SPLITPAY"===e.paymentProduct.type)),r=l(0),i=n.length>0,o=t.length>0,a=n.filter((e=>e.merchantValues.maxCartSize.value>0)).map((e=>e.merchantValues.maxCartSize)).sort(((e,n)=>n.value-e.value)),u=n.filter((e=>e.merchantValues.minCartSize.value>0)).map((e=>e.merchantValues.minCartSize)).sort(((e,n)=>e.value-n.value)),c=t.filter((e=>e.merchantValues.maxCartSize.value>0)).map((e=>e.merchantValues.maxCartSize)).sort(((e,n)=>n.value-e.value)),s=t.filter((e=>e.merchantValues.minCartSize.value>0)).map((e=>e.merchantValues.minCartSize)).sort(((e,n)=>e.value-n.value)),d=a[0]||r,f=u[0]||r,p=c[0]||r,m=s[0]||r,{order:g}=e;if(g){const e=g.totalPrice.value,n=e>d.value,t=e>p.value,r=n&&t,a=e<d.value,u=e<p.value,c=a&&u,s=l(f.value<m.value?f.value:m.value);if(r)return"Check Financing Eligibility";if(c)return`Pay Over Time with Orders Over ${h(s)}. Learn More`;if(i&&a)return`Pay Over Time with Orders Over ${h(f)}. Learn More`;if(o&&u)return`Pay Over Time with Orders Over ${h(m)}. Learn More`}return""}getStaticPlacementText(e){var n;if(!e.isOrderWithinFinancingBoundaries)return"";const t=null===(n=this.sdkAppConfig)||void 0===n?void 0:n.placementText;if(!t)throw new Error("No placement text found in app config");const r=window.navigator.language.substring(0,2);return vn(r)?t[r]:t.en}getOrderForPlacement(e){return{isDefaultOrder:!e.order,order:e.order?e.order:this.createDefaultOrder()}}availablePaymentProductsForPlacement(e){var n,t;const{order:r}=this.getOrderForPlacement(e);return null!==(t=null===(n=this.privateOptions.merchantPaymentProducts)||void 0===n?void 0:n.filter((e=>this.orderWithinFinancingBoundaries(r,e))))&&void 0!==t?t:[]}isOrderWithinCartBoundaries(e){const{order:n}=this.getOrderForPlacement(e);return(this.privateOptions.merchantPaymentProducts||[]).some((e=>this.orderWithinCartBoundaries(n,e)))}isOrderWithinFinancingBoundaries(e){const{order:n}=this.getOrderForPlacement(e);return(this.privateOptions.merchantPaymentProducts||[]).some((e=>this.orderWithinFinancingBoundaries(n,e)))}update(){return t(this,void 0,void 0,(function*(){if(this.setPlacementMap(),this.checkoutComponent){if(!this.currentPlacementID)throw new Error("Can't update without a placement ID");const e=this.placementsMap.get(this.currentPlacementID);if(!e)throw new Error("No placement options found");const n=this.optionsFromPlacement(e);return new Promise(((e,t)=>{var r;null===(r=this.checkoutComponent)||void 0===r||r.updateProps({options:n}).then((()=>{e()})).catch((e=>{t(e)})),this.checkoutComponentRendered||e()}))}}))}get checkoutURL(){if(!this.sdkAppConfig)throw new Error("Cannot register placements without app config");return`${this.apiURL}${this.sdkAppConfig.ecommExperiencePath}`}handleDestroyed(){this.checkoutComponentRendered=!1,this.checkoutComponent=void 0}getContext(){const e=window.navigator.standalone,n=window.navigator.userAgent.toLowerCase(),t=/safari/.test(n),r=/iphone|ipod|ipad/.test(n)&&!t&&!1===e,i=Fi.test(n);return r||i||this.canCookie?"iframe":"popup"}openExperienceForPlacement(e){var n;return t(this,void 0,void 0,(function*(){try{const t=this.getContext();this.currentPlacementID=e;const r=this.placementsMap.get(e);if(!r)throw new Error(`Could not find placement for ID: ${e}`);this.checkoutComponent&&(yield this.update());const i=this.optionsFromPlacement(r);if(this.checkoutComponentRendered)yield null===(n=this.checkoutComponent)||void 0===n?void 0:n.show().then((()=>{var e;return null===(e=this.checkoutComponent)||void 0===e?void 0:e.focus()})).catch((e=>this.error(`Error opening placement: ${e}`)));else try{yield this.renderCheckout(t,i)}catch(e){if("popup"===t)try{yield this.renderCheckout("iframe",i)}catch(e){this.error(`Error opening placement: ${e}`)}else this.error(`Error opening placement: ${e}`)}this.logger.info("Bread SDK openExperienceForPlacement called",{domID:e})}catch(e){const n=e instanceof Error?e:{message:e};this.error(`Error opening placement: ${n.message}`)}}))}renderCheckout(e,n){var r;return t(this,void 0,void 0,(function*(){const t=()=>{this.handleDestroyed()},i=((e,n,t)=>{const r=n?{width:"100%",height:"100%"}:{width:"480px",height:"600px"};return br.create({tag:"checkout-component",url:`${e}`,autoResize:{width:!1,height:!0},dimensions:r,props:{options:{type:"object"},context:{type:"string"}},containerTemplate:function({uid:e,frame:r,prerenderFrame:i,doc:o,props:a,event:u}){if(u.on(Rr.DESTROY,(()=>{null==t||t.onDestroy(),Ar()})),r){const t=o.createElement("div");t.setAttribute("id",e);const c=o.createElement("style");if(a.cspNonce&&c.setAttribute("nonce",a.cspNonce),n)t.dataset.testid="embedded-rendering",c.appendChild(o.createTextNode(`\n                #${e} {\n                  display: inline-block;\n                  position: relative;\n                  width: 100%;\n                }\n\n                #${e}  iframe {\n                    width: 100%;\n                    height: 100%;\n                    display: inline-block;\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    transition: opacity .2s ease-in-out;\n                }\n            `)),t.classList.add("bread-payments-embedded"),t.appendChild(r),t.appendChild(i);else{c.appendChild(o.createTextNode(`\n                #${e} {\n                  position: fixed;\n                  top: 0;\n                  right: 0;\n                  left: 0;\n                  bottom: 0;\n                  z-index: 2147483647;\n                }\n\n                #${e} .${Mr} {\n                  display: flex;\n                  justify-content: center;\n                  min-height: 100vh;\n                }\n                #${e} .${Mr} .${Sr} {\n                  position: absolute;\n                  top: 0;\n                  right: 0;\n                  left: 0;\n                  bottom: 0;\n                  background-color: #000;\n                  opacity: 0.5;\n                }\n\n                #${e}  iframe {\n                    display: block;\n                    position: fixed;\n                    width: 100%;\n                    height: 100%;\n                    top: 0;\n                    left: 0;\n                    transition: opacity .2s ease-in-out;\n                }\n                #${e}  iframe.${Pr} {\n                    opacity: 0;\n                }\n                #${e}  iframe.${Or} {\n                    opacity: 1;\n            }\n            `));const n=o.createElement("div");n.className=Mr;const a=o.createElement("div");a.className=Sr,n.appendChild(a),t.appendChild(n),n.appendChild(r),n.appendChild(i)}return t.appendChild(c),i.classList.add(Or),r.classList.add(Pr),u.on(Rr.RENDERED,(()=>{i.classList.remove(Or),i.classList.add(Pr),r.classList.remove(Pr),r.classList.add(Or),setTimeout((()=>{var e;null===(e=null==i?void 0:i.parentNode)||void 0===e||e.removeChild(i)}),1)})),u.on(Rr.RESIZE,(({width:e,height:n})=>{"number"==typeof e&&(t.style.width=_r(e)),"number"==typeof n&&(t.style.height=_r(n))})),t}}})})(this.checkoutURL,this.embedded,{onDestroy:t,onClose:t});this.checkoutComponent=i({options:n,context:e});const o=this.containerID?`#${this.containerID}`:"body";yield null===(r=this.checkoutComponent)||void 0===r?void 0:r.render(o,e).then((()=>{var e;this.checkoutComponentRendered=!0,null===(e=this.checkoutComponent)||void 0===e||e.focus()})).catch((e=>{throw e}))}))}optionsFromPlacement(e){const{promoOffers:n,allowCheckout:t,domID:r}=e,{isDefaultOrder:i,order:o}=e.isOrderWithinFinancingBoundaries?this.getOrderForPlacement(e):this.getOrderForPlacement(Object.assign(Object.assign({},e),{order:void 0})),a=Object.assign(Object.assign(Object.assign({},this.publicOptions),this.privateOptions),{isDefaultOrder:i,isPreview:this.preview,isEmbedded:this.embedded,deviceID:this.deviceID,order:o,promoOffers:n,allowCheckout:t,domID:r,analytics:{experienceEntrypoint:document.URL,locationType:e.locationType}});return void 0!==this.overrideAllowCheckout&&a.allowCheckout!==this.overrideAllowCheckout&&(a.allowCheckout=this.overrideAllowCheckout),a}renderDisclosureToPlacement(e){try{if(!this.privateOptions.merchantPaymentProducts)throw new Error("Cannot generate disclosures without payment products");const n=document.getElementById(e);if(!n)throw new Error("Cannot find disclosure placement");const t=cr(this.privateOptions.merchantPaymentProducts||[],er);if(t){const e=document.createElement("p");e.classList.add("bread-disclosure-installments"),e.innerHTML=this.getInstallmentsDisclosure(t),null==n||n.append(e)}const r=cr(this.privateOptions.merchantPaymentProducts||[],nr);if(r){const e=document.createElement("p");e.classList.add("bread-disclosure-splitpay");const t=document.createElement("p");t.classList.add("bread-disclosure-footer"),e.innerHTML=this.getSplitPayDisclosure(r),t.innerHTML=this.getBreadPayDisclosureFooterTemplate(),null==n||n.append(e),null==n||n.append(t)}}catch(e){this.error("Cannot generate disclosure",{err:e})}}getInstallmentsDisclosure(e){var n,t;if(!this.privateOptions.merchantConfig)throw new Error("Cannot generate disclosure without merchant config");const r=v(e.minCartSize),i=y(e.minInterestRateBPS),o=y(e.maxInterestRateBPS),a=v(e.promoOfferAmount),u=y(e.promoOfferRate),c=v(e.exampleTotalPrice),s="true"===(null===(t=null===(n=this.featureFlags)||void 0===n?void 0:n.ColoradoAPR)||void 0===t?void 0:t.result)?"purchase price and/or product":"purchase price, product, and state of residence",d=this.getBreadPayDisclosureFooterTemplate();return`${this.privateOptions.merchantConfig.disclosureSymbolInstallments} Minimum purchase of ${r} required. Availability of terms may vary based on ${s}. Down payment may be required. Subject to approval of credit application. Rates range from ${i} to ${o} APR, resulting in, for example ${e.promoOfferLength} monthly payments of ${a} at ${u} APR, per ${c} borrowed. APRs will vary depending on credit qualifications, loan amount, and term. ${d}`}getSplitPayDisclosure(e){if(!this.privateOptions.merchantConfig)throw new Error("Cannot generate disclosure without merchant config");const n=v(e.minCartSize),t=v(e.maxCartSize);return`${this.privateOptions.merchantConfig.disclosureSymbolSplitpay} Available for purchases between ${n} and ${t}. Subject to approval of credit application. A temporary authorization hold will be placed on your debit or credit card to ensure your card will cover the first two payments. One payment will be immediately voided. Please note, your financial institution may charge you one or more non-sufficient funds or overdraft fees if any loan payment exceeds your account's available balance. If you pay with a credit card, your credit card issuer may charge interest and/or fees.`}getBreadPayDisclosureFooterTemplate(){return"Bread Pay loans are made by Comenity Capital Bank, a Bread Financial company."}createDefaultOrder(){var e;if(!this.currency)throw new Error("Cannot assign an order");if(!(null===(e=this.privateOptions.merchantProgramValues)||void 0===e?void 0:e.defaultCartAmount))throw new Error("Can't fetch options for placement without defaultCartAmount");const n=this.currency,t=this.privateOptions.merchantProgramValues.defaultCartAmount;return{totalPrice:t,items:[],subTotal:t,totalDiscounts:p(0,n),totalShipping:p(0,n),totalTax:p(0,n)}}orderWithinCartBoundaries(e,n,t=1){try{const{minCartSize:{value:r},maxCartSize:{value:i}}=n.merchantValues,o=i*t,{value:a}=e.totalPrice,u=o<0||a<=o;return r<=a&&u}catch(e){const n=e instanceof Error?e:{message:e};return this.warn(`orderWithinCartBoundaries error ${n.message}`),!1}}orderWithinFinancingBoundaries(e,n){var t,r,i;const o="INSTALLMENTS"===n.paymentProduct.type&&(null===(t=this.privateOptions.merchantProgramValues)||void 0===t?void 0:t.capabilities.downPayment.installments)&&(null===(r=this.privateOptions.program)||void 0===r?void 0:r.capabilities.downPayment.installments),a=null===(i=this.privateOptions.merchantDetails)||void 0===i?void 0:i.borrowRatioBPS,u=o?(a||100)/100:1;return this.orderWithinCartBoundaries(e,n,u)}error(e,n={}){this.logger.error(e,n),this.publicOptions.onLog&&this.publicOptions.onLog("ERROR",e,n)}warn(e,n={}){this.logger.warn(e,n),this.publicOptions.onLog&&this.publicOptions.onLog("WARN",e,n)}}const ji="USE_MIRAGE",Bi="4.0.229";return function(){let e;function n(){return t(this,void 0,void 0,(function*(){if(function(){if("undefined"==typeof window)return!1;try{return"true"===window.localStorage.getItem(ji)}catch(e){return console.debug("Unable to read from localStorage.",e),!1}}()){console.debug("Using Mirage");const{makeServer:e}=yield import("../../../../../../mirage.js");e({environment:"development"})}else console.debug("Using real Bread REST APIs");const n=window.RBCPayPlan.options;if(!function(e){return"function"==typeof e.onCheckout}(n))throw new Error("Missing callbacks registered from .on method");const t=new ki(n);try{yield t.init()}catch(e){return}yield new Promise((i=>{var o;e=t,e.setAutoRender(window.RBCPayPlan.__internal__.autoRender),e.setEmbedded(window.RBCPayPlan.__internal__.embedded);const a=window.RBCPayPlan.placements||[];r(a),window.RBCPayPlan.__internal__.autoRender||window.RBCPayPlan.__internal__.openExperienceForPlacement(a),i(!0),null===(o=n.onInitialized)||void 0===o||o.call(n)}))}))}function r(n){null==e||e.registerPlacements(n)}!function(){const i=window.RBCPayPlan||{};window.RBCPayPlan=i,window.RBCPayPlan.options=window.RBCPayPlan.options||{},i.setup=e=>{var n,t,r,o,a,u,c,s,d;const l=(null===(n=e.buyer)||void 0===n?void 0:n.familyName)&&(null===(t=e.buyer)||void 0===t?void 0:t.givenName)&&{familyName:null===(r=e.buyer)||void 0===r?void 0:r.familyName,givenName:null===(o=e.buyer)||void 0===o?void 0:o.givenName,additionalName:null===(a=e.buyer)||void 0===a?void 0:a.additionalName};i.options={integrationKey:e.integrationKey,containerID:e.containerID,buyerID:e.buyerID,email:null===(u=e.buyer)||void 0===u?void 0:u.email,phone:null===(c=e.buyer)||void 0===c?void 0:c.phone,billingAddress:null===(s=e.buyer)||void 0===s?void 0:s.billingAddress,shippingAddress:null===(d=e.buyer)||void 0===d?void 0:d.shippingAddress,onInitialized:e.onInitialized},l&&(i.options.name=l)},window.RBCPayPlan.openExperienceForPlacement=e=>{i.__internal__.openExperienceForPlacement(e)},window.RBCPayPlan.registerPlacements=n=>{window.RBCPayPlan.placements=n,e&&r(n)},window.RBCPayPlan.on=(e,n)=>{window.RBCPayPlan.options[zt[e]]=n},window.RBCPayPlan.setInitMode=e=>{window.RBCPayPlan.__internal__.setInitMode(e)},window.RBCPayPlan.setEmbedded=e=>{window.RBCPayPlan.__internal__.setEmbedded(e)},window.RBCPayPlan.init=()=>t(this,void 0,void 0,(function*(){yield window.RBCPayPlan.__internal__.init()})),window.RBCPayPlan.setShippingAddress=e=>{window.RBCPayPlan.__internal__.setShippingAddress(e)},window.RBCPayPlan.renderDisclosureToPlacement=e=>{window.RBCPayPlan.__internal__.renderDisclosureToPlacement(e)},i.__internal__={initMode:"auto",autoRender:!0,embedded:!1,version:Bi,setBuyer(n){let t;n.familyName&&n.givenName&&(t={familyName:n.familyName,givenName:n.givenName,additionalName:n.additionalName}),null==e||e.setContact({name:t,billingAddress:n.billingAddress,shippingAddress:n.shippingAddress,email:n.email,phone:n.phone,buyerID:n.buyerID})},update(){window.RBCPayPlan.placements&&r(window.RBCPayPlan.placements),null==e||e.update()},setInitMode(e){window.RBCPayPlan.__internal__.initMode=e},init(){return t(this,void 0,void 0,(function*(){if(!window.RBCPayPlan.options)throw new Error("No breadFinance options");yield n()}))},setAutoRender(e){window.RBCPayPlan.__internal__.autoRender=e},setEmbedded(n){window.RBCPayPlan.__internal__.embedded=n,null==e||e.setEmbedded(n)},setShippingAddress(n){null==e||e.setShippingAddress(n)},renderDisclosureToPlacement(n){null==e||e.renderDisclosureToPlacement(n)},overrideMerchantUICustomizations(n){null==e||e.overrideMerchantUICustomizations(n)},overrideButtonUICustomizations(n){null==e||e.overrideButtonUICustomizations(n)},openExperienceForPlacement(n){var t;if(0===n.length)throw new Error("No registered placement found");if(n.length>1)throw new Error("Multiple placements exist, only one required to render modal without rendering as-low-as links");const r=null===(t=null==n?void 0:n[0])||void 0===t?void 0:t.domID;r&&(null==e||e.openExperienceForPlacement(r))}}}(),document.addEventListener("DOMContentLoaded",(()=>t(this,void 0,void 0,(function*(){if(!window.RBCPayPlan.options)throw new Error("No breadFinance options");"auto"===window.RBCPayPlan.__internal__.initMode&&(yield n())}))))}(),e.STORAGE_KEY=ji,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
