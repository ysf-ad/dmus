var bindEventsInCart=function(){$(".cart_menu").on("click",".remove_item_button",function(e){e.preventDefault();var el=$(this),id=el.data("id")||null;Shopify.removeItem(id,function(cart){Shopify.updateQuickCart(cart)})}),jQuery(".cart_menu").on("click",".minus_btn",function(){var inputEl=jQuery(this).parent().find("input"),qty=inputEl.val();jQuery(this).parent().hasClass("minus_btn")?qty++:qty--,qty<0&&(qty=0),inputEl.val(qty);var quantity=qty,id=inputEl.data("id");quantity!=0?Shopify.changeItem(id,quantity,function(cart){Shopify.updateQuickCart(cart)}):Shopify.removeItem(id,function(cart){Shopify.updateQuickCart(cart)})}),jQuery(".cart_menu").on("click",".plus_btn",function(){var inputEl=jQuery(this).parent().find("input"),qty=inputEl.val();jQuery(this).hasClass("plus_btn")?qty++:qty--,qty<0&&(qty=0);var quantity=qty,id=inputEl.data("id");Shopify.changeItem(id,quantity,function(cart){var updatedItem=cart.items.filter(function(item){return item.variant_id==id});updatedItem.length&&updatedItem[0].quantity==quantity?(Shopify.updateQuickCart(cart),inputEl.val(quantity)):jQuery(".ajaxcart__item__"+id+"__errors").show().delay(2e3).fadeOut()})}),$(".cart_menu").on("focusout","textarea",function(){var note=$(this).val(),textareas=$(".div.cart_menu").find("textarea").add($(".cart_tbl textarea"));Shopify.updateCartNote(note,function(){$(textareas).each(function(){$(this).val(note),$(this).text(note)})})}),$(".cart_menu").on("click",".info_btn",function(){var magnificPopup=$.magnificPopup.instance;typeof magnificPopup!="undefined"&&magnificPopup.close()}),$(".cart_menu").on("click",".btn_close",function(){var magnificPopup=$.magnificPopup.instance;typeof magnificPopup!="undefined"&&magnificPopup.close()})};jQuery(document).ready(function(){var jQ=jQuery,selectors={TOTAL_ITEMS:".count",TOTAL_PRICE:".cart-total-price",SUBMIT_ADD_TO_CART:"input[type=image], input.submit-add-to-cart",FORM_ADD_TO_CART:'form[action*="/cart/add"]',FORM_UPDATE_CART:"form[name=cartform]",FORM_UPDATE_CART_BUTTON:"form[name=cartform] input[name=update]",FORM_UPDATE_CART_BUTTONS:"input[type=image], input.button-update-cart",LINE_ITEM_ROW:".cart-line-item",LINE_ITEM_QUANTITY_PREFIX:"input#updates_",LINE_ITEM_PRICE_PREFIX:".cart-line-item-price-",LINE_ITEM_REMOVE:".remove a",EMPTY_CART_MESSAGE:"#empty",QUICK_CART_MENU:"div.cart_menu",CART_PAGE_MENU:".cart_tbl"},text={ITEM:"Item",ITEMS:"Items"};window.formatMoney=function(price){return Shopify.formatMoney(price,app.data.money_format)},jQ(selectors.FORM_UPDATE_CART_BUTTON).click(function(e){e.preventDefault(),jQ(e.target.form).find(selectors.FORM_UPDATE_CART_BUTTONS).attr("disabled",!0).addClass("disabled"),Shopify.updateCartFromForm(e.target.form)}),jQ(selectors.FORM_UPDATE_CART).delegate(selectors.LINE_ITEM_REMOVE,"click",function(e){e.preventDefault();var vid=this.href.split("/").pop().split("?").shift();Shopify.removeItem(vid),jQ(this).parents(selectors.LINE_ITEM_ROW).remove()}),Shopify.modalTimer=!1,Shopify.showModal=function(contents,hideDelay){$("html").css("overflow-y","hidden"),typeof $().magnificPopup=="function"&&typeof contents!="undefined"&&($.magnificPopup.open({items:{src:'<div class="mfp-with-anim modal-popup">'+contents+"</div>",type:"inline"},mainClass:"mfp-move-from-top",removalDelay:1e3,callbacks:{close:function(){$("html").css("overflow-y","auto")}}}),bindEventsInCart())},Shopify.addImageSize=function(src,size){return typeof size=="undefined"?src:src===null?"//www.digitmakers.ca/cdn/shop/t/7/assets/no-image.gif?v=70791486150938284421485708632":(size="_"+size+".",src.replace(/.([^.]*)$/,size+"$1"))},Shopify.updateQuickCart=function(cart){var t=jQ(selectors.QUICK_CART_MENU),c=jQ(selectors.CART_PAGE_MENU);if(t.length)if(cart.items.length){for(var toAppend=[],tableHeader="<ul><li>Photo</li><li>Name</li><li>Price</li><li>Quantity</li><li>Total</li></ul>",i=0;i<cart.items.length;i++){var itemPrice=cart.items[i].price,totalPrice=cart.total_price,linePrice=cart.items[i].line_price,title=cart.items[i].variant_title,cartNote=cart.note;title==null&&(title=""),cartNote==null&&(cartNote="");var itemPriceConverted=Shopify.formatMoney(itemPrice,app.data.money_format),totalPriceConverted=Shopify.formatMoney(totalPrice,app.data.money_format),linePriceConverted=Shopify.formatMoney(linePrice,app.data.money_format),row='<ul><li><div class="thumb"><a href="'+cart.items[i].url+'"><img src="'+Shopify.addImageSize(cart.items[i].image,"small")+'" alt="'+cart.items[i].title+'"></a></div></li><li><h5><a href="'+cart.items[i].url+'" class="item-name">'+cart.items[i].product_title+'</a></h5><p class="product-type">'+title+'</p><a href="#" data-id="'+cart.items[i].id+'" class="remove_item_button">REMOVE</a></li><li><p class="mobile-label-price">Price</p><span class="money price">'+itemPriceConverted+'</span></li><li><p class="mobile-label-quantity">Quantity</p><a class="minus_btn"></a><input type="text" name="updates[]" class="txtbox" min="0" id="updates_'+cart.items[i].id+'" data-id="'+cart.items[i].id+'" value="'+cart.items[i].quantity+'" /><a class="plus_btn"></a><div class="ajaxcart__errors text-center ajaxcart__item__'+cart.items[i].id+'__errors">All available stock is in cart</div></li><li><p class="mobile-label-total">Total</p><span class="money price">'+linePriceConverted+"</span></li></ul>";toAppend.push(row)}var checkoutRow=t.find("div.checkout_row"),subtotalRow=t.find("span.total-price"),subtotalRowCartPage=c.find("span.total-price");if(checkoutRow.length)t.find("div.cart_row").html(toAppend.join("")),t.find("div.cart_row").prepend(tableHeader),c.find(".con_row").html(toAppend.join("")),subtotalRowCartPage.html(totalPriceConverted),subtotalRow.html(totalPriceConverted);else{checkoutRow='<div class="checkout_row clearfix"><button type="submit" name="checkout" value="Check Out" class="btn_c">Check Out</button> <a href="javascript:void(0)" class="info_btn"><span class="fa fa-chevron-left"></span>Continue Shopping</a></div>',subtotalRow='<div class="total_row clearfix"><ul><li><span class="total_val">Subtotal:</span><span class="money total-price">'+totalPriceConverted+"</span></li></ul></div>";var form=jQ("<form />",{action:"/cart",method:"post",novalidate:"novalidate"});if(1)var notesRow='<div class="clearfix order_notes"><label for="cartSpecialInstructions" class="sr-only">Order Notes:</label><textarea name="note" id="cartSpecialInstructionsFromPopup" class="note_text" placeholder="Order Notes">'+cartNote+"</textarea></div>";else var notesRow;form.append($("div.cart_row")),form.find("div.cart_row").html(toAppend.join("")),form.find("div.cart_row").prepend(tableHeader),form.append(subtotalRow),form.append(notesRow),form.append(checkoutRow),form.append($additionalCheckout),t.append(form)}}else t.html('<div class="menu_title clearfix"><h4>Shopping Cart</h4> </div><div class="cart_row"><div class="empty-cart">Your cart is currently empty.</div><p><a href="javascript:void(0)" class="btn_c btn_close">Continue Shopping</a></p></div>'),c.html('<div class="empty-cart-message"><p>Your cart is currently empty.</p><p><a href="/collections/all" class="btn_c">Continue Shopping</a></p></div');Shopify.onCartUpdate(cart)},Shopify.onItemAdded=function(line_item,form){jQ(form).find(selectors.SUBMIT_ADD_TO_CART).attr("disabled",!1).removeClass("disabled");var productTitle=jQ("<div />",{class:"modal-cart-title"}).html(line_item.title),message=jQ("<div />",{class:"modal-cart-success"}).html('<i class="fa fa-check"></i><span class="line-item-count hidden"></span> added to your shopping cart.');typeof line_item.quantity!="undefined"&&message.find(".line-item-count").text(line_item.quantity).removeClass("hidden");var btnCart=jQ("<a />",{class:"modal-button",href:"/cart"}).text("View Cart"),btnCheckout=jQ("<a />",{class:"modal-button2",href:"/checkout"}).text("Check Out"),contentsWrapper=jQ("<div />",{class:"product-contents-wrapper clearfix"}),image="";if(typeof line_item.image!="undefined"){var imageSize="large";image=jQ("<div />",{class:"modal-product-image"}).html('<img src="'+Shopify.addImageSize(line_item.image,imageSize)+'" />')}var contents=jQ("<div />").append(productTitle,message,btnCart,btnCheckout);contentsWrapper.append(image,contents);var s=contentsWrapper.wrap("<p>").parent().html();Shopify.getCart(Shopify.updateQuickCart),setTimeout(function(){Shopify.showModal($(selectors.QUICK_CART_MENU).wrap("<p>").parent().html())},300)},Shopify.onCartUpdate=function(cart,form){var message=cart.item_count;cart.item_count>0?jQ(selectors.TOTAL_ITEMS).text(message).removeClass("hidden"):jQ(selectors.TOTAL_ITEMS).text("").addClass("hidden");var price=window.formatMoney(cart.total_price);jQ(selectors.TOTAL_PRICE).html(price),jQ(selectors.EMPTY_CART_MESSAGE).length>0&&cart.item_count==0&&(jQ(selectors.FORM_UPDATE_CART).hide(),jQ(selectors.EMPTY_CART_MESSAGE).show()),form=form||!1,form&&cart.item_count>0&&(jQ.each(cart.items,function(index,cartItem){jQ(selectors.LINE_ITEM_PRICE_PREFIX+cartItem.id).html(window.formatMoney(cartItem.line_price)),jQ(selectors.LINE_ITEM_QUANTITY_PREFIX+cartItem.id).val(cartItem.quantity)}),jQ(form).find("input[value=0]").parents(selectors.LINE_ITEM_ROW).remove(),jQ(form).find(selectors.FORM_UPDATE_CART_BUTTONS).attr("disabled",!1).removeClass("disabled"))},Shopify.onError=function(XMLHttpRequest,textStatus){var response=jQuery.parseJSON(XMLHttpRequest.responseText),error=response.description;typeof $().magnificPopup!="function"?alert(error):$.magnificPopup.open({items:{src:'<div class="mfp-with-anim modal-popup error"><h3>Error</h3>'+error+"</div>",type:"inline"},mainClass:"mfp-move-from-top",removalDelay:1e3})},$additionalCheckout=$(".addCheckOut").clone().css("display","block"),$(".cart_tbl").on("focusout","textarea",function(){var note=$(this).val(),textareas=jQ(selectors.QUICK_CART_MENU).find("textarea");Shopify.updateCartNote(note)}),jQuery(".cart_tbl").on("click",".plus_btn",function(){var inputEl=jQuery(this).parent().find("input"),qty=inputEl.val();jQuery(this).hasClass("plus_btn")?qty++:qty--,qty<0&&(qty=0);var quantity=qty,id=inputEl.data("id");Shopify.changeItem(id,quantity,function(cart){var updatedItem=cart.items.filter(function(item){return item.variant_id==id});updatedItem.length&&updatedItem[0].quantity==quantity?(Shopify.updateQuickCart(cart),inputEl.val(quantity)):jQuery(".ajaxcart__item__"+id+"__errors").show().delay(3e3).fadeOut()})}),jQuery(".cart_tbl").on("click",".minus_btn",function(){var inputEl=jQuery(this).parent().find("input"),qty=inputEl.val();jQuery(this).parent().hasClass("minus_btn")?qty++:qty--,qty<0&&(qty=0),inputEl.val(qty);var quantity=qty,id=inputEl.data("id");quantity!=0?Shopify.changeItem(id,quantity,function(cart){Shopify.updateQuickCart(cart)}):Shopify.removeItem(id,function(cart){Shopify.updateQuickCart(cart)})}),$(".cart_tbl").on("click",".remove_item_button",function(e){e.preventDefault();var el=$(this),id=el.data("id")||null;Shopify.removeItem(id,function(cart){Shopify.updateQuickCart(cart)})})});
//# sourceMappingURL=/cdn/shop/t/7/assets/ajaxify-shop.js.map?v=97280942440734208661696010544
